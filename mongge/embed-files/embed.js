!function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],p=0,f=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={7:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([8,0]),n()}({"+NYS":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("BkRI"),c=n.n(s),u=(n("TWa+"),n("NbER"),n("w/WF")),l=n("0Ogr"),p=n("omVu"),f=n("AmWW"),h=n("ACj+"),d=n("SiHV"),y=n("FgYg"),b=n("XmVp"),m=n("6/BQ"),v=n("ZXta"),g={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767","exercise-viewer":"exercise-viewer--490","-fit-h":"-fit-h--e20","page-wrapper":"page-wrapper--efd",page:"page--ae9","keyboard-wrapper":"keyboard-wrapper--7c9","size-calculator-wrapper":"size-calculator-wrapper--582"};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function P(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;return k(e)}(this,n)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r,i=D(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e);var n=Object(m.a)({mgg:e.mgg});return t.state=_(_({},Object(m.c)()),{},{documentData:_(_({},n),{},{pages:[_(_({},n.pages[0]),{},{currentSection:u.j.PLAY_SOLUTION})]}),fitScreenHeight:!0,isFullScreen:!1,isToolBarVisible:!1,scale:void 0,selectedTool:u.y.CURSOR}),t.injectLibrary(v),t.getMemoirSnapshot=t.getMemoirSnapshot.bind(k(t)),t.handlePageSectionChange=t.handlePageSectionChange.bind(k(t)),t.handleStylesChange=t.handleStylesChange.bind(k(t)),t.handleViewerPageSectionChange=t.handleViewerPageSectionChange.bind(k(t)),t.handleWindowResize=t.handleWindowResize.bind(k(t)),t.takeMemoirSnapshot=t.takeMemoirSnapshot.bind(k(t)),t}return t=a,n=[{key:"injectLibrary",value:function(e){for(var t in e)this[t]=e[t](this)}},{key:"componentDidMount",value:function(){var e=this.state.scale;this.Memoir=l.a,this.takeMemoirSnapshot("Initial snapshot"),document.addEventListener("fullscreenchange",this.handleFullScreenChange),document.addEventListener("mozfullscreenchange",this.handleFullScreenChange),document.addEventListener("webkitfullscreenchange",this.handleFullScreenChange),document.addEventListener("MSFullscreenChange",this.handleFullScreenChange),window.addEventListener("resize",this.handleWindowResize),void 0===e&&this.handleWindowResize()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("fullscreenchange",this.handleFullScreenChange),document.removeEventListener("mozfullscreenchange",this.handleFullScreenChange),document.removeEventListener("webkitfullscreenchange",this.handleFullScreenChange),document.removeEventListener("MSFullscreenChange",this.handleFullScreenChange),window.removeEventListener("resize",this.handleWindowResize)}},{key:"handleWindowResize",value:function(){var e=this;if(this.ref){var t=this.props.isControlBarEnabled,n=this.state,r=(n.isFullScreen,n.scale),o=this.sanitizePageData().mggPage,i=this.pageRef?this.pageRef.getHeaderHeight():0,a=t?44:0,s=this.ref.clientWidth/o.width,c=(this.ref.clientHeight-i-a)/o.height,u=Math.min(s,c);console.log("Scales",u,s,c,!(u==s)),.1===r?this.setState({fitScreenHeight:!(u==s),scale:u}):this.setState({scale:.1},(function(){return e.handleWindowResize()}))}else this.setState({scale:1})}},{key:"sanitizePageData",value:function(){var e=this.props,t=e.height,n=e.width,r=this.state.documentData.pages[0];return r&&r.mggPage&&(r.mggPage.width=n||r.mggPage.width,r.mggPage.height=t||r.mggPage.height),r}},{key:"getMemoirSnapshot",value:function(){return[{callback:this.setState.bind(this),params:c()(this.state)}]}},{key:"takeMemoirSnapshot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];l.a.takeSnapshot([].concat(P(this.getMemoirSnapshot()),P(t)),e)}},{key:"handleStylesChange",value:function(e){var t=this;this.setState({elementStyles:e},(function(){t.takeMemoirSnapshot("Styles definition change"),t.setStyleToSelectedElements(e[e.selectedLayer])}))}},{key:"handleViewerPageSectionChange",value:function(e){e.pageSection===u.j.PLAY_SOLUTION?this.setState({isToolBarVisible:!1}):this.setState({isToolBarVisible:!0}),this.handlePageSectionChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.isControlBarEnabled,i=t.isFullScreenEnabled,a=t.isHeaderEnabled,s=t.literals,c=this.state,u=c.documentData,l=c.elementStyles,m=c.fitScreenHeight,v=c.isFullScreen,E=c.isSizeCalculatorApplyActivated,P=c.isSizeCalculatorPickActivated,S=c.isSizeCalculatorVisible,T=c.isToolBarVisible,_=c.isVirtualKeyboardVisible,C=c.scale,w=c.selectedTool,R=c.switchToolsActivated,D=this.sanitizePageData(),k=null,A=null,j=null;return void 0===C&&(k={paddingBottom:"calc(".concat(100*D.mggPage.height/D.mggPage.width,"% + 45px)")},A=g.page,j={width:"100%",height:"100%"}),o.a.createElement("div",{className:[g["exercise-viewer"],m?g["-fit-h"]:"",n||""].join(" "),ref:function(t){return e.ref=t},style:k},o.a.createElement(h.a,{onActionRequested:this.handleActionRequested}),u&&D?o.a.createElement("div",{className:g["page-wrapper"]},o.a.createElement(d.a,O({},D,{className:A,elementStyle:l[l.selectedLayer],isControlBarEnabled:r,isFullScreen:v,isFullScreenEnabled:i,isHeaderEnabled:a,isLegacy:"2.1.0"!=u.version,literals:s,mode:u.mode,onElementAdded:this.handleElementAdded,onElementRemoved:this.handleElementsRemoved,onElementsSelectionChange:this.handleElementsSelectionChange,onLengthPick:this.handleLengthPick,onPageChange:this.handlePageChange,onSectionChange:this.handleViewerPageSectionChange,onSelectedElementsMove:this.handleSelectedElementsMove,onSpeedRatioChange:this.handlePageSpeedRatioChange,onStatementTextChange:this.handleStatementTextChange,onTagEdit:this.handleTagEdit,onTagValidated:this.handleTagValidated,onToggleFullScreen:this.handleToggleFullScreen,ref:function(t){return e.pageRef=t},scale:C,selectedTool:w,style:j}))):null,T?o.a.createElement(b.a,{disabledTools:this.getDisabledTools(),elementStyles:l,literals:s,onStylesChange:this.handleStylesChange,onToggleSwitchTool:this.handleToggleSwitchTool,onToolSelected:this.handleToolSelected,selectedTool:w,switchToolsActivated:R}):null,void 0!==S?o.a.createElement(p.c,{className:[g["keyboard-wrapper"],S?"":"-hidden"].join(" ")},o.a.createElement(y.a,{baseClass:"sizeCalculator",isApplySizeActivated:E,isPickSizeActivated:P,onToggleApplySize:this.handleSizeCalculatorToggleApply,onTogglePickSize:this.handleSizeCalculatorTogglePick,ref:function(t){return e.sizeCalculatorRef=t}})):null,void 0!==_?o.a.createElement(p.c,{className:[g["keyboard-wrapper"],_?"":"-hidden"].join(" ")},o.a.createElement(f.a,{baseClass:"virtualKeyboard"})):null)}}],n&&w(t.prototype,n),r&&w(t,r),a}(o.a.Component);j.propTypes={className:i.PropTypes.string,height:i.PropTypes.number,isControlBarEnabled:i.PropTypes.bool,isFullScreenEnabled:i.PropTypes.bool,isHeaderEnabled:i.PropTypes.bool,literals:i.PropTypes.object.isRequired,mgg:a.a.mgg.isRequired,width:i.PropTypes.number},j.defaultProps={isControlBarEnabled:!0,isFullScreenEnabled:!0,isHeaderEnabled:!0};t.a=j},"+vhf":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("npbA"),c=(n("w/WF"),n("DZdP")),u=n("Lpqj"),l=n("4pP5");function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,i=m(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.isSnapVisible,r=e.position,i=e.strokeColor;return r?this.renderElement(o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{cx:r.x,cy:r.y,r:s.b.POINT_RADIUS,stroke:i,strokeWidth:"1",fill:s.b.POINT_FILL_COLOR}),!this.isReadOnly()&&o.a.createElement(o.a.Fragment,null,t?o.a.createElement("circle",{className:l.a["highlight-fill"],cx:r.x,cy:r.y,fill:i,r:s.b.POINT_RADIUS+s.b.SELECTED_OFFSET,stroke:"none"}):o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{className:l.a.hit,cx:r.x,cy:r.y,r:s.b.POINT_HIT_RADIUS,stroke:"none",fill:i}),n&&o.a.createElement(u.a,{onSnap:this.handleSnap,position:r}))),"}")):null}}])&&y(t.prototype,n),r&&y(t,r),a}(c.a);g.propTypes=h(h({},c.a.propTypes),{},{position:a.a.vertex,strokeColor:i.PropTypes.string}),g.defaultProps=h({},c.a.defaultProps),t.a=g},"/6+3":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("w/WF"),a=n("PKFp");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,o=p(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={changed:void 0,validation:{message:void 0,valid:void 0}},t.handleChange=t.handleChange.bind(f(t)),t}return t=s,(n=[{key:"handleChange",value:function(e){var t=this,n=this.props.onChange;e&&n&&n(e),this.validateTimeout&&window.clearTimeout(this.validateTimeout),this.validateTimeout=window.setTimeout((function(){return t.validate()}),1e3),this.setState({changed:!0,validation:{message:void 0,valid:void 0}})}},{key:"validate",value:function(){var e=this;return new Promise((function(t,n){var r,o=e.props,s=o.availability,u=o.literalErrorInvalid,l=o.literalErrorNotAvailable,p=o.literalErrorRequired,f=o.required,h=o.validationExcludeUserId,d=e.getValue();if(f&&!d)return e.setState({validation:{message:p,valid:!1}}),t(!1);e.ref.checkValidity()?s&&d?Object(a.x)((r={},c(r,s,d),c(r,i.t.EXCLUDE_IDS,h),r)).then((function(n){var r=n.user;if(!r)return t(!0);!1===r.available?(e.setState({validation:{message:l,valid:!1}}),t(!1)):t(!0)})).catch((function(e){return t(!0)})):t(!0):(e.setState({validation:{message:u,valid:!1}}),t(!1))}))}},{key:"setValidation",value:function(e){var t=this.props,n=t.literalErrorInvalid,r=t.literalErrorNotAvailable,o=t.literalErrorRequired,a=void 0;switch(e){case i.A.ERROR__REQUIRED:a=o;break;case i.A.ERROR__PATTERN:a=n;break;case i.A.ERROR__NOT_AVAILABLE:a=r}a&&this.setState({validation:{message:a,valid:!1}})}}])&&u(t.prototype,n),r&&u(t,r),s}(o.a.Component);t.a=d},0:function(e,t){},"0Ogr":function(e,t,n){"use strict";n("BkRI");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance||(this.snapshots=[],this.currentIndex=-1,e.instance=this)}var t,n,o;return t=e,(n=[{key:"takeSnapshot",value:function(e,t){Array.isArray(e)||(e=[e]),this.snapshots=this.snapshots.slice(0,this.currentIndex+1),this.snapshots.push({description:t,memories:e}),this.snapshots=this.snapshots.slice(-100),this.currentIndex=this.snapshots.length-1}},{key:"redo",value:function(){this.currentIndex++,this.currentIndex>this.snapshots.length-1&&(this.currentIndex=this.snapshots.length-1),this.snapshots[this.currentIndex].memories.forEach((function(e){e.callback(e.params)}))}},{key:"undo",value:function(){this.currentIndex--,this.currentIndex<-1&&(this.currentIndex=-1),this.currentIndex>=0&&this.snapshots[this.currentIndex].memories.forEach((function(e){e.callback(e.params)}))}}])&&r(t.prototype,n),o&&r(t,o),e}(),i=new o;t.a=i},1:function(e,t){},"1Oih":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=(n("NFRQ"),function(e){var t=e.children,n=e.defaultValue,r=e.name,i=e.onChange,a=e.small,s=e.theme,c=e.value;return o.a.createElement("div",{className:["select-container",a?" -small":"",s?"-".concat(s):""].join(" ")},void 0!==c?o.a.createElement("select",{className:"__select",name:r,onChange:i,value:c},t):o.a.createElement("select",{className:"__select",defaultValue:n,name:r,onChange:i},t))});a.propTypes={defaultValue:i.PropTypes.string,name:i.PropTypes.string,onChange:i.PropTypes.func,small:i.PropTypes.bool,theme:i.PropTypes.oneOf(["menu-tool-bar","top-bar"]),value:i.PropTypes.string},t.a=a},"2C0E":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("R5uQ"),s=n("/6+3"),c={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767","text-box-wrapper":"text-box-wrapper--d58",small:"small--090","no-label":"no-label--15e"};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,i=f(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).checked=e.checked,t.state={checked:e.checked,validation:{message:void 0,valid:void 0}},t.handleChange=t.handleChange.bind(h(t)),t}return t=s,(n=[{key:"handleChange",value:function(e){var t=this,n=this.props.onChange,r=e.target.checked;this.checked=r,this.setState({checked:r,validation:{message:void 0,valid:void 0}},(function(){return t.validate()})),n&&n(e)}},{key:"getValue",value:function(){return!!this.ref&&this.ref.checked}},{key:"setValue",value:function(e){var t=this;this.setState({checked:e,validation:{message:void 0,valid:void 0}},(function(){return t.validate()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.id,i=t.label,s=t.size,u=this.state,l=u.checked,p=u.validation,f="";return p&&void 0!==p.valid&&(f=p.valid?"--valid":"--not-valid"),o.a.createElement("div",{className:["checkbox",f,s?c[s]:"",i?"":"--no-label",n||""].join(" ")},o.a.createElement("div",{className:c["text-box-wrapper"]},o.a.createElement("input",{id:r,type:"checkbox",checked:l,onChange:this.handleChange,ref:function(t){return e.ref=t}}),o.a.createElement(a.a,{htmlFor:r,size:s,text:i})),p&&p.message&&o.a.createElement("div",{className:"validation__text"},p.message))}}])&&l(t.prototype,n),r&&l(t,r),s}(s.a);y.propTypes={checked:i.PropTypes.bool,className:i.PropTypes.string,id:i.PropTypes.string.isRequired,label:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.object]),literalErrorRequired:i.PropTypes.string,required:i.PropTypes.bool,size:i.PropTypes.oneOf(["big","medium","small"])};t.a=y},"30ZO":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767","toggle-picker-visible-bt":"toggle-picker-visible-bt--6ef",picker:"picker--55f","preset-list":"preset-list--7b1",preset:"preset--0d3",selected:"selected--077"};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=["#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0","#311B92","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0","#0D47A1","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F","#006064","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457","#880E4F","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121","#000000"],d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,r,i=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isPickerVisible:!1},t.handleChange=t.handleChange.bind(p(t)),t.handleTogglePickerVisible=t.handleTogglePickerVisible.bind(p(t)),t}return t=s,(n=[{key:"handleTogglePickerVisible",value:function(e){this.setState({isPickerVisible:!this.state.isPickerVisible})}},{key:"handleChange",value:function(e){var t=this.props.onChange;t&&t(e.currentTarget.dataset.hex),this.setState({isPickerVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.selectedHex,n=this.state.isPickerVisible;return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:a["toggle-picker-visible-bt"],onClick:this.handleTogglePickerVisible,style:{background:t}}),n&&o.a.createElement("div",{className:a.picker},o.a.createElement("ul",{className:a["preset-list"]},h.map((function(n){return o.a.createElement("li",{className:[a.preset,t==n?a.selected:""].join(" "),"data-hex":n,key:n,onClick:e.handleChange,style:{background:n}})})))))}}])&&c(t.prototype,n),r&&c(t,r),s}(o.a.Component);d.propTypes={onChange:i.PropTypes.func,selectedHex:i.PropTypes.string},d.defaultProps={selectedHex:"#000000"};t.a=d},"4Tur":function(e,t,n){"use strict";var r=n("w/WF");t.a={CATEGORY_MENU_HIDDEN:!0,CATEGORY_DEFAULT:"165",FILTERS:{CATEGORY:void 0,FROM:void 0,ORDER:r.r.DATE_WATCHED_DESC,TO:void 0},LIST_NUMBER_EXERCISES:24,LIST_NUMBER_COLLECTIONS:24,LOCALE:"es"}},"4Ybz":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("NbER"),c=n("w/WF"),u=n("fE1x"),l=function(e){var t=e.center,n=e.direction,r=e.onSnap,i=e.vertexA,a=e.vertexB;return o.a.createElement("g",null,o.a.createElement(u.a,{onSnap:r,position:i,rotation:Object(s.p)(i,t)-90*n,type:c.v.SNAP_START}),o.a.createElement(u.a,{onSnap:r,position:a,rotation:Object(s.p)(a,t)+90*n,type:c.v.SNAP_END}))};l.propTypes={center:a.a.vertex,direction:a.a.arcDirection,onSnap:i.PropTypes.func,vertexA:a.a.vertex,vertexB:a.a.vertex},l.defaultProps={},t.a=l},"4pP5":function(e,t,n){"use strict";t.a={hit:"hit--2c4","highlight-fill":"highlight-fill--afd","--referenced":"--referenced--567"}},"6/BQ":function(e,t,n){"use strict";var r=n("BkRI"),o=n.n(r),i=n("NbER"),a=n("w/WF"),s={PAGE_HEIGHT:Object(i.eb)(191),PAGE_MARGIN_BOTTOM:24,PAGE_MARGIN_LEFT:24,PAGE_MARGIN_RIGHT:24,PAGE_MARGIN_TOP:24,PAGE_WIDTH:Object(i.eb)(340)};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,f,h,d,y={inputLength:{}},b={};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mode;e.preferences;switch(t){case a.f.MODE_STUDENT:return[o()(u(u(u({},y),b),{},{type:a.j.EDIT_ANSWER})),o()(u(u({},b),{},{type:a.j.PLAY_SOLUTION}))];case a.f.MODE_TEACHER:return[o()(u(u({},y),{},{type:a.j.EDIT_STATEMENT})),o()(u(u(u({},y),b),{},{type:a.j.EDIT_SOLUTION}))]}return[]}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=a.e.COOKIE_EDITOR_PREFERENCES,P=s.PAGE_HEIGHT,S=s.PAGE_MARGIN_BOTTOM,T=s.PAGE_MARGIN_LEFT,_=s.PAGE_MARGIN_RIGHT,C=s.PAGE_MARGIN_TOP,w=s.PAGE_WIDTH,R=JSON.parse(Object(i.U)(O)),D={answer:{steps:[]},elements:{},height:(null==R?void 0:R.height)||P,id:void 0,key:void 0,margins:{bottom:(null==R||null===(p=R.margins)||void 0===p?void 0:p.bottom)||S,left:(null==R||null===(f=R.margins)||void 0===f?void 0:f.left)||T,right:(null==R||null===(h=R.margins)||void 0===h?void 0:h.right)||_,top:(null==R||null===(d=R.margins)||void 0===d?void 0:d.top)||C},solution:{steps:[]},statement:{elements:[],text:""},vertices:{},width:(null==R?void 0:R.width)||w},k={currentSection:void 0,currentStep:0,id:void 0,intersections:{},mggPage:o()(D),sections:[],selectedElementIds:[],speedRatio:1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mggPage,n=e.mode,r=void 0===n?a.f.MODE_TEACHER:n,s=e.preferences,c=Object(i.S)("page");return t?o()(g(g({},k),{},{currentSection:r==a.f.MODE_TEACHER?a.j.EDIT_STATEMENT:a.j.EDIT_ANSWER,id:c,mggPage:g(g({},t),{},{key:Object(i.S)("mggpage")}),sections:m({mode:r})})):o()(g(g({},k),{},{currentSection:r==a.f.MODE_TEACHER?a.j.EDIT_STATEMENT:a.j.EDIT_ANSWER,id:c,mggPage:g(g(g({},k.mggPage),s),{},{key:Object(i.S)("mggpage")}),sections:m({mode:r,preferences:s})}))};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L,N,M,F,B,U,W={mode:void 0,pages:[],version:"2.1.0"};function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G,H=a.e.COOKIE_EDITOR_PREFERENCES,z=s.PAGE_HEIGHT,q=s.PAGE_MARGIN_BOTTOM,K=s.PAGE_MARGIN_LEFT,X=s.PAGE_MARGIN_RIGHT,Y=s.PAGE_MARGIN_TOP,J=s.PAGE_WIDTH,Z=JSON.parse(Object(i.U)(H)),$={dialogs:(L={},V(L,a.h.DIALOG_ALERT,{acceptText:null,cancelText:null,isVisible:!1,message:"",onAccept:function(){return null},onCancel:function(){return null},title:null}),V(L,a.h.DIALOG_OPEN_FILE,{isVisible:!1,message:"",onAccept:function(){return null}}),V(L,a.h.DIALOG_PAGE_SETUP,{isVisible:!1}),V(L,a.h.DIALOG_PRINT,{isVisible:!1}),V(L,a.h.DIALOG_PUBLISH_EXERCISE,{isVisible:!1}),L),documentData:void 0,elementStyles:(N={},V(N,a.x.AUX,{fillColor:"#F44336",fillOpacity:.5,fillPattern:"striped",fillStrokeColor:"#CC0000",fillStrokeDegree:45,fillStrokeSpacing:4,fillStrokeWidth:1,rank:a.u.AUXILIAR,strokeColor:"#BDBDBD",strokeMarkerEnd:null,strokeMarkerStart:null,strokePattern:a.w.SOLID,strokeWidth:1}),V(N,a.x.MAIN,{fillColor:"#448aff",fillOpacity:.5,fillPattern:"solid",fillStrokeColor:"#CC0000",fillStrokeDegree:45,fillStrokeSpacing:4,fillStrokeWidth:1,rank:a.u.MAIN,strokeColor:"#000000",strokeMarkerEnd:null,strokeMarkerStart:null,strokePattern:a.w.SOLID,strokeWidth:2}),V(N,"selectedLayer",a.x.MAIN),N),isSizeCalculatorApplyActivated:void 0,isSizeCalculatorPickActivated:void 0,isSizeCalculatorVisible:void 0,isVirtualKeyboardVisible:void 0,preferences:{height:(null==Z?void 0:Z.height)||z,margins:{bottom:(null==Z||null===(M=Z.margins)||void 0===M?void 0:M.bottom)||q,left:(null==Z||null===(F=Z.margins)||void 0===F?void 0:F.left)||K,right:(null==Z||null===(B=Z.margins)||void 0===B?void 0:B.right)||X,top:(null==Z||null===(U=Z.margins)||void 0===U?void 0:U.top)||Y},width:(null==Z?void 0:Z.width)||J},selectedGeometries:[],selectedTool:a.y.CURSOR,sizeCalculatorValue:void 0,switchToolsActivated:[]};function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={elementStyles:(G={},Q(G,a.x.AUX,{fillColor:"#F44336",fillOpacity:.5,fillPattern:"striped",fillStrokeDegree:45,fillStrokeSpacing:4,fillStrokeWidth:1,rank:a.u.AUXILIAR,strokeColor:"#BDBDBD",strokeMarkerEnd:null,strokeMarkerStart:null,strokePattern:a.w.SOLID,strokeWidth:1}),Q(G,a.x.MAIN,{fillColor:"#448aff",fillOpacity:.5,fillPattern:"solid",fillStrokeDegree:45,fillStrokeSpacing:4,fillStrokeWidth:1,rank:a.u.MAIN,strokeColor:"#CC0000",strokeMarkerEnd:null,strokeMarkerStart:null,strokePattern:a.w.SOLID,strokeWidth:2}),Q(G,"selectedLayer",a.x.MAIN),G),isSizeCalculatorApplyActivated:void 0,isSizeCalculatorPickActivated:void 0,isSizeCalculatorVisible:void 0,isVirtualKeyboardVisible:void 0,mgg:void 0,selectedGeometries:[],selectedTool:a.y.CURSOR};function te(){return o()($)}function ne(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mgg,n=e.mode,r=e.preferences;return t?(t=Object(i.lb)(t),n=n||Object(i.db)(t.mode),o()(I(I({},t),{},{mode:n,pages:t.pages.map((function(e){return A({mggPage:e,mode:n})})),version:t.version}))):(n=n||a.f.MODE_TEACHER,o()(I(I({},W),{},{mode:n,pages:[I({},A({mode:n,preferences:r}))]})))}(e)}function re(){return o()(ee)}function oe(e){return A(e)}n.d(t,"b",(function(){return te})),n.d(t,"a",(function(){return ne})),n.d(t,"c",(function(){return re})),n.d(t,"d",(function(){return oe}))},"7xDs":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=function(e){var t=e.children,n=e.className,r=e.validation;return o.a.createElement("form",{className:"form ".concat(n||""),onSubmit:function(e){return e.preventDefault()}},t,r&&void 0!==r.valid&&o.a.createElement("div",{className:"form__validation"},o.a.createElement("div",{className:r.valid?"--valid":"--invalid"},r.message)))};a.propTypes={className:i.PropTypes.string,validation:i.PropTypes.shape({message:i.PropTypes.string,valid:i.PropTypes.bool})};t.a=a},8:function(e,t,n){n("LSZE"),n("ls82"),e.exports=n("yIoi")},"9Rgu":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("obyI"),c=n("NbER"),u={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",container:"container--810","-dark":"-dark--3d4",avatar:"avatar--2ab"},l=function(e){var t=e.dark,n=e.isLazy,r=e.onClick,i=e.path,a=e.src,l=e.user,p=s.a.URL_AVATARS,f=s.a.URL_DESIGN,h=void 0;return(a||i||l&&l.avatarPath)&&(h=a||"".concat(p,"/").concat(i||l&&l.avatarPath)),o.a.createElement("div",{className:[u.container,t?u["-dark"]:""].join(" "),onClick:r},h&&!h.match(/default/i)?o.a.createElement("img",{alt:l&&l.name,className:[u.avatar,!1!==n?"-lazy":""].join(" "),"data-src":h,itemProp:"thumbnailUrl",ref:function(e){return Object(c.fb)(e)},src:!1!==n?null:h,title:l&&l.name}):o.a.createElement("img",{alt:l&&l.name,className:u.avatar,src:"".concat(f,"/avatar-placeholder.svg"),title:l&&l.name}))};l.propTypes={alt:i.PropTypes.string,dark:i.PropTypes.bool,isLazy:i.PropTypes.bool,onClick:i.PropTypes.func,path:i.PropTypes.string,src:i.PropTypes.string,user:a.a.user};t.a=l},"ACj+":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("w/WF");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,r,o=l(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleKeyDown=t.handleKeyDown.bind(p(t)),t.handleKeyUp=t.handleKeyUp.bind(p(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"handleKeyDown",value:function(e){}},{key:"handleKeyUp",value:function(e){var t=this.props.onActionRequested;"Escape"===e.key&&t(a.g.ESCAPE)}},{key:"render",value:function(){return null}}])&&c(t.prototype,n),r&&c(t,r),i}(o.a.Component);h.propTypes={onActionRequested:i.PropTypes.func},h.defaultProps={onActionRequested:function(){return null}},t.a=h},AmWW:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("zBvq"),s=n.n(a),c=n("NbER");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={lower:["{greek} {alt} {upper} {bksp}","1 2 3 4 5 6 7 8 9 0","q w e r t y u i o p","a s d f g h j k l ñ","z x c v b n m ç , .","{space} {enter}"],upper:["{greek} {lower} {alt} {bksp}","1 2 3 4 5 6 7 8 9 0","Q W E R T Y U I O P","A S D F G H J K L Ñ","Z X C V B N M Ç {enter}","{space} , ."],alt:["{greek} {lower} {alt} {bksp}","1 2 3 4 5 6 7 8 9 0","","","Z X C V B N - _ {enter}","{space}"]},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,i=f(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),y(h(t=i.call(this,e)),"handleChange",(function(e){console.log("Input changed",e)})),y(h(t),"handleKeyPress",(function(e){t.state.layoutName;console.log("Button pressed",e),t.setState({layoutName:e.replace(/(\{|\})/gi,"")})})),t.baseClass=Object(c.S)("virtualKeyboard"),t.state={layout:b,layoutName:"lower"},t.handleChange=t.handleChange.bind(h(t)),t.handleKeyPress=t.handleKeyPress.bind(h(t)),t}return t=a,(n=[{key:"render",value:function(){var e=this.props.baseClass,t=this.state,n=t.layout,r=t.layoutName;return o.a.createElement(s.a,{baseClass:e||this.baseClass,layout:n,layoutName:r,mergeDisplay:!0,display:{"{alt}":"#+=","{bksp}":"Borrar","{enter}":"Enter","{greek}":"Ελληνικά","{latin}":"Latino","{lower}":"Minus.","{tab}":"Tab","{upper}":"Mayus."},onChange:this.handleChange,onKeyPress:this.handleKeyPress})}}])&&l(t.prototype,n),r&&l(t,r),a}(o.a.Component);m.propTypes={baseClass:i.PropTypes.string};t.a=m},DZdP:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("w/WF"),c=n("npbA"),u="element--733";function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;return m(e)}(this,n)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,i=b(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleClick=t.handleClick.bind(m(t)),t.handleMouseDown=t.handleMouseDown.bind(m(t)),t.handleMouseUp=t.handleMouseUp.bind(m(t)),t.handleSnap=t.handleSnap.bind(m(t)),t.renderElement=t.renderElement.bind(m(t)),t}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=["progress","length","isSelected","isSnapVisible","fillColor","fillOpacity","fillPattern","fillStrokeDegree","fillStrokeSpacing","fillStrokeWidth","strokeColor","strokeMarkerEnd","strokeMarkerStart","strokePattern","strokeWidth"],r=[];switch(this.props.type){case s.i.ARC:n.unshift("degreeA","degreeB","direction","radius"),r=["center"];break;case s.i.CIRCLE:case s.i.CIRCLE_REF:n.unshift("radius"),r=["center"];break;case s.i.CURVE:return n.unshift("anchors"),!0;case s.i.FILL:return n.unshift("anchors","paths"),!0;case s.i.LINE:case s.i.LINE_REF:n.push("isReferenced","referenceType"),r=["vertexA","vertexB"];break;case s.i.POINT:case s.i.POINT_REF:r=["position"];break;case s.i.RECT:n.unshift("width","height");break;case s.i.TAG:r=["position"]}for(var o=0,i=n.length;o<i;o++)if(e[n[o]]!==this.props[n[o]])return!0;for(var a=0,c=r.length;a<c;a++)if(e[r[a]]){if(!this.props[r[a]])return!0;if(e[r[a]].x!==this.props[r[a]].x||e[r[a]].y!==this.props[r[a]].y)return!0}else if(this.props[r[a]])return!0;return!1}},{key:"handleClick",value:function(e){this.props.onClick(e,{element:f({},this.props)})}},{key:"handleMouseDown",value:function(e){this.props.onDown(e,{element:f({},this.props)})}},{key:"handleMouseUp",value:function(e){this.props.onUp(e,{element:f({},this.props)})}},{key:"handleSnap",value:function(e,t){this.props.onSnap(e,f(f({},t),{},{id:this.props.id}))}},{key:"isInProgress",value:function(){return!!(this.props.progress<1)}},{key:"isTemporary",value:function(){return!(this.props.rank&&this.props.rank!=s.u.TEMPORARY)}},{key:"isReadOnly",value:function(){return!!(this.props.isReadOnly||this.isTemporary()||this.isInProgress())}},{key:"findHitStrokeWidth",value:function(e){return Object(c.a)(e)}},{key:"findStrokeDasharray",value:function(){var e=this.props,t=e.length,n=e.progress,r=e.strokePattern;return n<1?t:c.b.STROKE_DASH_ARRAYS[r||s.w.SOLID]}},{key:"findStrokeDashoffset",value:function(){var e=this.props,t=e.length,n=e.progress,r=void 0;return n<1&&(r=t-t*n),r}},{key:"renderElement",value:function(e){return o.a.createElement("g",{className:u,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},e)}},{key:"render",value:function(){return null}}])&&d(t.prototype,n),r&&d(t,r),a}(o.a.Component);g.propTypes={id:i.PropTypes.string,isSelected:i.PropTypes.bool,isSnapVisible:i.PropTypes.bool,length:i.PropTypes.number,onClick:i.PropTypes.func,onSnap:i.PropTypes.func,progress:i.PropTypes.number,rank:a.a.rank},g.defaultProps={isSelected:!1,isSnapVisible:!0,onClick:function(){return null},onDown:function(){return null},onSnap:function(){return null},onUp:function(){return null}};t.a=g},EaJk:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"arcDirection",(function(){return y}));var o={};n.r(o),n.d(o,"snapTypes",(function(){return g}));var i={};n.r(i),n.d(i,"rank",(function(){return j}));var a={};n.r(a),n.d(a,"mggPage",(function(){return U})),n.d(a,"docMode",(function(){return W})),n.d(a,"mgg",(function(){return V}));var s={};n.r(s),n.d(s,"user",(function(){return G}));var c={};n.r(c),n.d(c,"exercise",(function(){return H}));var u={};n.r(u),n.d(u,"collection",(function(){return z}));var l={};n.r(l),n.d(l,"marker",(function(){return K})),n.d(l,"editorStyle",(function(){return X})),n.d(l,"editorStyleLayers",(function(){return Y}));var p={};n.r(p),n.d(p,"listFilters",(function(){return J}));var f={};n.r(f),n.d(f,"seo",(function(){return Z}));var h={};n.r(h),n.d(h,"vertex",(function(){return $}));var d=n("17x9"),y=d.PropTypes.oneOf([1,-1]),b=n("w/WF"),m=[];for(var v in b.v)m.push(b.v[v]);var g=d.PropTypes.oneOf(m);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=d.PropTypes.arrayOf(d.PropTypes.oneOfType([d.PropTypes.shape({degree:d.PropTypes.number,reference:d.PropTypes.string,type:d.PropTypes.oneOf([b.d.ANGLE])}),d.PropTypes.shape({reference:d.PropTypes.string,type:d.PropTypes.oneOf([b.d.PARALLEL,b.d.PERPENDICULAR])}),d.PropTypes.shape({constrainer:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.arrayOf(d.PropTypes.string)]),dependant:d.PropTypes.oneOf([b.c.CENTER,b.c.RADIUS,b.c.VERTEX_A,b.c.VERTEX_B]),reference:d.PropTypes.string,type:g})])),T={color:d.PropTypes.string,fillPattern:d.PropTypes.string,hierarchy:d.PropTypes.number,markers:d.PropTypes.shape({end:d.PropTypes.string,start:d.PropTypes.string}),opacity:d.PropTypes.number,stripesDegree:d.PropTypes.number,stripeSpacing:d.PropTypes.number,strokePattern:d.PropTypes.string,strokeWidth:d.PropTypes.number},_=d.PropTypes.shape({id:d.PropTypes.string,width:d.PropTypes.number,height:d.PropTypes.number,margins:d.PropTypes.shape({bottom:d.PropTypes.number,left:d.PropTypes.number,right:d.PropTypes.number,top:d.PropTypes.number}),statement:d.PropTypes.shape({elements:d.PropTypes.arrayOf(d.PropTypes.string),text:d.PropTypes.string}),solution:d.PropTypes.shape({steps:d.PropTypes.arrayOf(d.PropTypes.shape({elements:d.PropTypes.arrayOf(d.PropTypes.string)}))}),answer:d.PropTypes.shape({steps:d.PropTypes.arrayOf(d.PropTypes.shape({elements:d.PropTypes.arrayOf(d.PropTypes.string)}))}),elements:d.PropTypes.objectOf(d.PropTypes.oneOfType([d.PropTypes.shape(O(O({id:d.PropTypes.string,legacyId:d.PropTypes.string,position:d.PropTypes.string,rotation:d.PropTypes.number},T),{},{text:d.PropTypes.string})),d.PropTypes.shape(O(O({id:d.PropTypes.string,legacyId:d.PropTypes.string,position:d.PropTypes.string},T),{},{type:d.PropTypes.oneOf([b.i.POINT])})),d.PropTypes.shape(O(O({character:d.PropTypes.oneOf([b.m.ANGLE,b.m.FREE,b.m.PARALLEL,b.m.PERPENDICULAR]),constraints:S,fixedSize:d.PropTypes.bool,id:d.PropTypes.string,legacyId:d.PropTypes.string},T),{},{type:d.PropTypes.oneOf([b.i.LINE]),vertexA:d.PropTypes.string,vertexB:d.PropTypes.string})),d.PropTypes.shape(O(O({center:d.PropTypes.string,constraints:S,fixedSize:d.PropTypes.bool,id:d.PropTypes.string,legacyId:d.PropTypes.string,radius:d.PropTypes.number},T),{},{type:d.PropTypes.oneOf([b.i.CIRCLE])})),d.PropTypes.shape(O(O({center:d.PropTypes.string,degreeA:d.PropTypes.number,degreeB:d.PropTypes.number,direction:d.PropTypes.oneOf([-1,1]),constraints:S,fixedSize:d.PropTypes.bool,id:d.PropTypes.string,legacyId:d.PropTypes.string,radius:d.PropTypes.number},T),{},{type:d.PropTypes.oneOf([b.i.ARC]),vertexA:d.PropTypes.string,vertexB:d.PropTypes.string})),d.PropTypes.shape(O(O({anchors:d.PropTypes.arrayOf(d.PropTypes.string),id:d.PropTypes.string,legacyId:d.PropTypes.string},T),{},{type:d.PropTypes.oneOf([b.i.CURVE])})),d.PropTypes.shape(O(O({anchors:d.PropTypes.arrayOf(d.PropTypes.string),id:d.PropTypes.string,legacyId:d.PropTypes.string,paths:d.PropTypes.arrayOf(d.PropTypes.string)},T),{},{type:d.PropTypes.oneOf([b.i.FILL])}))])),vertices:d.PropTypes.objectOf(d.PropTypes.shape({x:d.PropTypes.number,y:d.PropTypes.number}))}),C=d.PropTypes.oneOf([b.p.STUDENT,b.p.TEACHER]),w=d.PropTypes.shape({version:d.PropTypes.string,mode:C,pages:d.PropTypes.arrayOf(_)}),R=d.PropTypes.shape({elements:d.PropTypes.arrayOf(d.PropTypes.string),id:d.PropTypes.string,position:d.PropTypes.string,rotation:d.PropTypes.number,type:d.PropTypes.oneOf([])}),D=[];for(var k in b.u)D.push(b.u[k]);var A,j=d.PropTypes.oneOf(D),I=d.PropTypes.arrayOf(d.PropTypes.oneOfType([d.PropTypes.shape({degree:d.PropTypes.number,reference:d.PropTypes.string,type:d.PropTypes.oneOf([b.d.ANGLE])}),d.PropTypes.shape({reference:d.PropTypes.string,type:d.PropTypes.oneOf([b.d.PARALLEL,b.d.PERPENDICULAR])}),d.PropTypes.shape({constrainer:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.arrayOf(d.PropTypes.string)]),dependant:d.PropTypes.oneOf([b.c.CENTER,b.c.RADIUS,b.c.VERTEX_A,b.c.VERTEX_B]),reference:d.PropTypes.string,type:g})])),x=d.PropTypes.shape({fillColor:d.PropTypes.string,fillOpacity:d.PropTypes.number,fillPattern:d.PropTypes.oneOf([b.k.SOLID,b.k.STRIPED]),fillStrokeColor:d.PropTypes.string,fillStrokeDegree:d.PropTypes.number,fillStrokeSpacing:d.PropTypes.number,fillStrokeWidth:d.PropTypes.number,rank:j,strokeColor:d.PropTypes.string,strokeMarkerEnd:d.PropTypes.oneOf([b.n.ARROW,b.n.OBLIQUE]),strokeMarkerStart:d.PropTypes.oneOf([b.n.ARROW,b.n.OBLIQUE]),strokePattern:d.PropTypes.oneOf([b.w.DASHED,b.w.DASHED_DOTTED,b.w.DOTTED,b.w.SOLID]),strokeWidth:d.PropTypes.number}),L=d.PropTypes.shape({elements:d.PropTypes.arrayOf(d.PropTypes.string),id:d.PropTypes.string,text:d.PropTypes.string}),N=d.PropTypes.shape({id:d.PropTypes.string,steps:d.PropTypes.arrayOf(d.PropTypes.shape({elements:d.PropTypes.arrayOf(d.PropTypes.string)}))}),M=d.PropTypes.shape({id:d.PropTypes.string,width:d.PropTypes.number,height:d.PropTypes.number,margins:d.PropTypes.shape({bottom:d.PropTypes.number,left:d.PropTypes.number,right:d.PropTypes.number,top:d.PropTypes.number}),statement:L,solution:N,answer:N,elements:d.PropTypes.objectOf(d.PropTypes.oneOfType([d.PropTypes.shape({center:d.PropTypes.string,centerRef:d.PropTypes.string,degreeA:d.PropTypes.number,degreeB:d.PropTypes.number,direction:y,constraints:I,fixedSize:d.PropTypes.bool,id:d.PropTypes.string,intersections:d.PropTypes.arrayOf(d.PropTypes.string),legacyId:d.PropTypes.string,radius:d.PropTypes.number,style:x,type:d.PropTypes.oneOf([b.i.ARC]),vertexA:d.PropTypes.string,vertexARef:d.PropTypes.string,vertexB:d.PropTypes.string,vertexBRef:d.PropTypes.string}),d.PropTypes.shape({center:d.PropTypes.string,centerRef:d.PropTypes.string,constraints:I,fixedSize:d.PropTypes.bool,id:d.PropTypes.string,intersections:d.PropTypes.arrayOf(d.PropTypes.string),legacyId:d.PropTypes.string,radius:d.PropTypes.number,radiusRef:d.PropTypes.string,radiusVertexRef:d.PropTypes.string,style:x,type:d.PropTypes.oneOf([b.i.CIRCLE])}),d.PropTypes.shape({anchors:d.PropTypes.arrayOf(d.PropTypes.string),id:d.PropTypes.string,legacyId:d.PropTypes.string,style:x,type:d.PropTypes.oneOf([b.i.CURVE])}),d.PropTypes.shape({anchors:d.PropTypes.arrayOf(d.PropTypes.string),id:d.PropTypes.string,legacyId:d.PropTypes.string,paths:d.PropTypes.arrayOf(d.PropTypes.string),style:x,type:d.PropTypes.oneOf([b.i.FILL])}),d.PropTypes.shape({character:d.PropTypes.oneOf([b.m.ANGLE,b.m.FREE,b.m.PARALLEL,b.m.PERPENDICULAR]),constraints:I,fixedSize:d.PropTypes.bool,id:d.PropTypes.string,intersections:d.PropTypes.arrayOf(d.PropTypes.string),legacyId:d.PropTypes.string,style:x,type:d.PropTypes.oneOf([b.i.LINE]),vertexA:d.PropTypes.string,vertexARef:d.PropTypes.string,vertexB:d.PropTypes.string,vertexBRef:d.PropTypes.string}),d.PropTypes.shape({constraints:I,id:d.PropTypes.string,legacyId:d.PropTypes.string,position:d.PropTypes.string,positionRef:d.PropTypes.string,style:x,type:d.PropTypes.oneOf([b.i.POINT])}),d.PropTypes.shape({constraints:I,id:d.PropTypes.string,legacyId:d.PropTypes.string,position:d.PropTypes.string,positionRef:d.PropTypes.string,rotation:d.PropTypes.number,style:x,text:d.PropTypes.string,type:d.PropTypes.oneOf([b.i.TAG])})])),vertices:d.PropTypes.objectOf(d.PropTypes.shape({x:d.PropTypes.number,y:d.PropTypes.number})),intersections:d.PropTypes.objectOf(R)}),F=d.PropTypes.oneOf([b.p.MODE_STUDENT,b.p.MODE_TEACHER]),B=d.PropTypes.shape({version:d.PropTypes.oneOf(["2.1.0"]),mode:F,pages:d.PropTypes.arrayOf(M)}),U=d.PropTypes.oneOfType([_,M]),W=d.PropTypes.oneOfType([C,F]),V=d.PropTypes.oneOfType([w,B]),G=d.PropTypes.shape({avatarPath:d.PropTypes.string,description:d.PropTypes.string,id:d.PropTypes.string,name:d.PropTypes.string,web:d.PropTypes.string}),H=d.PropTypes.shape({author:G,canonical:d.PropTypes.string,filePath:d.PropTypes.string,height:d.PropTypes.number,id:d.PropTypes.string,locale:d.PropTypes.string,mgg:V,posterPath:d.PropTypes.string,publishDate:d.PropTypes.string,rating:d.PropTypes.number,title:d.PropTypes.string,views:d.PropTypes.number,width:d.PropTypes.number}),z=d.PropTypes.shape({author:G,description:d.PropTypes.string,exercises:d.PropTypes.arrayOf(H),id:d.PropTypes.string,isBase:d.PropTypes.bool,posterPath:d.PropTypes.string,publishDate:d.PropTypes.string,title:d.PropTypes.string});function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=d.PropTypes.oneOf([b.n.ARROW,b.n.NONE,b.n.OBLIQUE]),X=d.PropTypes.shape({fillColor:d.PropTypes.string,fillOpacity:d.PropTypes.number,fillPattern:d.PropTypes.oneOf([b.k.SOLID,b.k.STRIPED]),fillStrokeDegree:d.PropTypes.number,fillStrokeSpacing:d.PropTypes.number,fillStrokeWidth:d.PropTypes.number,strokeColor:d.PropTypes.string,strokeMarkerEnd:K,strokeMarkerStart:K,strokePattern:d.PropTypes.oneOf([b.w.DASHED,b.w.DASHED_DOTTED,b.w.SOLID]),strokeWidth:d.PropTypes.number}),Y=d.PropTypes.shape((q(A={},b.x.AUX,X),q(A,b.x.MAIN,X),q(A,"selectedLayer",d.PropTypes.oneOf([b.x.AUX,b.x.MAIN])),A)),J=d.PropTypes.shape({categoryId:d.PropTypes.string,from:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.instanceOf(Date)]),order:d.PropTypes.string,to:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.instanceOf(Date)]),userId:d.PropTypes.string}),Z=d.PropTypes.shape({canonical:d.PropTypes.string,description:d.PropTypes.string,robots:d.PropTypes.string,social:d.PropTypes.shape({og:d.PropTypes.arrayOf(d.PropTypes.shape({name:d.PropTypes.string,content:d.PropTypes.string})),twitter:d.PropTypes.arrayOf(d.PropTypes.shape({name:d.PropTypes.string,content:d.PropTypes.string}))}),title:d.PropTypes.string}),$=d.PropTypes.shape({x:d.PropTypes.number.isRequired,y:d.PropTypes.number.isRequired,z:d.PropTypes.number});function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee({},r),u),l),c),p),a),s),i),f),o),h)},FgYg:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("17x9"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_simple_keyboard__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zBvq"),react_simple_keyboard__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_simple_keyboard__WEBPACK_IMPORTED_MODULE_2__),env_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("obyI"),helpers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("NbER"),_styles_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("N//J");function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LAYOUT={default:["{get} {set} CA","7 8 9 ÷","4 5 6 ×","1 2 3 −","0 . = +"]},MAX_CHARS=17,SizeCalculator=function(_React$Component){_inherits(SizeCalculator,_React$Component);var _super=_createSuper(SizeCalculator);function SizeCalculator(props){var _this;return _classCallCheck(this,SizeCalculator),_this=_super.call(this,props),_defineProperty(_assertThisInitialized(_this),"handleChange",(function(input){var onValueChange=_this.props.onValueChange,equation=_this.state.equation;console.log(equation),onValueChange(Number(_this.sanitizeScreenValue(eval(_this.sanitizeEquation(equation)))))})),_defineProperty(_assertThisInitialized(_this),"handleKeyPress",(function(key){var _this$props=_this.props,onToggleApplySize=_this$props.onToggleApplySize,onTogglePickSize=_this$props.onTogglePickSize,equation=_this.state.equation;switch(key){case"{get}":onTogglePickSize();break;case"{set}":onToggleApplySize(),_this.handleChange();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":_this.addNumber(key);break;case"÷":case"×":case"−":case"+":_this.addOperator(key);break;case"=":_this.addOperator(key),_this.setState({screenValue:_this.sanitizeScreenValue(eval(_this.sanitizeEquation(equation)))});break;case"CA":_this.clearAll()}})),_this.baseClass=Object(helpers__WEBPACK_IMPORTED_MODULE_4__.S)("sizeCalculator"),_this.state={equation:"0",layout:LAYOUT,layoutName:"default",operation:null,screenValue:"0"},_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this)),_this.handleKeyPress=_this.handleKeyPress.bind(_assertThisInitialized(_this)),_this}return _createClass(SizeCalculator,[{key:"sanitizeEquation",value:function(e){for(;e&&"0"!==e&&"0"===e.substring(0,1);)e=e.substring(1);for(;e&&!/[0-9]/i.test(e.substr(-1));)e=e.substring(0,e.length-1);return e}},{key:"sanitizeScreenValue",value:function(e){var t="";return"."==(e="".concat(e)).substr(-1)&&(t="."),e=Number(e),(isNaN(e)||e===1/0)&&(e=0),e=Math.round(1e3*e)/1e3,"".concat(e.toString()).concat(t)}},{key:"trimScreenValue",value:function(e){return(e="".concat(e)).length>MAX_CHARS?"".concat(e.substring(0,MAX_CHARS)):e}},{key:"addNumber",value:function(e,t){var n=this.state,r=n.equation,o=n.screenValue,i=null;r&&"="==r.substr(-1)?i={equation:e,screenValue:this.sanitizeScreenValue(e)}:r&&!/[0-9\.]/i.test(r.substr(-1))?i={equation:"".concat(r).concat(e),screenValue:this.sanitizeScreenValue(e)}:e.length>1?i={equation:e,screenValue:this.sanitizeScreenValue(e)}:("."!==e||"."===e&&-1==o.indexOf(e))&&(i={equation:"".concat(r).concat(e),screenValue:this.sanitizeScreenValue("".concat(o).concat(e))}),i&&this.setState(i,(function(){return t&&t()}))}},{key:"addOperator",value:function addOperator(op){var equation=this.state.equation;equation=this.sanitizeEquation(equation);var value=eval(equation),_char="";switch(op){case"÷":_char="/";break;case"×":_char="*";break;case"−":_char="-";break;case"+":_char="+";break;case"=":_char="="}this.setState({equation:"".concat(value).concat(_char),sizeValue:this.sanitizeScreenValue(value)})}},{key:"clearAll",value:function(){this.setState({equation:"0",screenValue:"0"})}},{key:"contributeLength",value:function(e){var t=this;isNaN(e)||null===e||e==1/0||this.addNumber("".concat(Object(helpers__WEBPACK_IMPORTED_MODULE_4__.hb)(e)),(function(){return t.handleChange()}))}},{key:"render",value:function(){var e=this.props,t=e.baseClass,n=e.isApplySizeActivated,r=e.isPickSizeActivated,o=e.onClose,i=this.state,a=i.equation,s=i.layout,c=i.layoutName,u=i.screenValue,l=env_config__WEBPACK_IMPORTED_MODULE_3__.a.URL_DESIGN_EDITOR_COMMONS,p="",f="";if(a)switch(/(\+|\-|\*|\/)/.test(a)&&(p="-equation-in-progress"),a.substr(-1)){case"+":f="+";break;case"-":f="−";break;case"*":f="×";break;case"/":f="÷"}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:[_styles_css__WEBPACK_IMPORTED_MODULE_5__.a["size-calculator"],n?_styles_css__WEBPACK_IMPORTED_MODULE_5__.a["-set-activated"]:"",r?_styles_css__WEBPACK_IMPORTED_MODULE_5__.a["-get-activated"]:"",_styles_css__WEBPACK_IMPORTED_MODULE_5__.a[p]].join(" ")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{className:_styles_css__WEBPACK_IMPORTED_MODULE_5__.a["close-bt"],onClick:o},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img",{src:"".concat(l,"/close.svg")})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_styles_css__WEBPACK_IMPORTED_MODULE_5__.a.screen},"".concat(this.trimScreenValue(u)).concat(f)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_simple_keyboard__WEBPACK_IMPORTED_MODULE_2___default.a,{baseClass:t||this.baseClass,layout:s,layoutName:c,mergeDisplay:!0,display:{"{get}":"IN","{set}":"OUT"},onChange:this.handleChange,onKeyPress:this.handleKeyPress}))}}]),SizeCalculator}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);SizeCalculator.propTypes={baseClass:prop_types__WEBPACK_IMPORTED_MODULE_1__.PropTypes.string,isApplySizeActivated:prop_types__WEBPACK_IMPORTED_MODULE_1__.PropTypes.bool,isPickSizeActivated:prop_types__WEBPACK_IMPORTED_MODULE_1__.PropTypes.bool,onClose:prop_types__WEBPACK_IMPORTED_MODULE_1__.PropTypes.func,onToggleApplySize:prop_types__WEBPACK_IMPORTED_MODULE_1__.PropTypes.func,onTogglePickSize:prop_types__WEBPACK_IMPORTED_MODULE_1__.PropTypes.func,onValueChange:prop_types__WEBPACK_IMPORTED_MODULE_1__.PropTypes.func},SizeCalculator.defaultProps={onTogglePickSize:function(){return null},onToggleApplySize:function(){return null},onValueChange:function(){return null}},__webpack_exports__.a=SizeCalculator},HoCX:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("K4CH");function o(){return!("undefined"==typeof window||!window.navigator)&&!0===/iPhone|iPad|iPod/i.test(window.navigator.userAgent)}function i(){return!("undefined"==typeof window||!window.navigator)&&"mobile"==new r.UAParser(window.navigator.userAgent).getDevice().type}},JqSt:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("npbA"),c="center--a87",u="hit--87b",l=function(e){var t=e.center,n=e.strokeColor;return o.a.createElement("g",{className:c},o.a.createElement("line",{x1:t.x-s.b.CIRCLE_CENTER_RADIUS,y1:t.y,x2:t.x+s.b.CIRCLE_CENTER_RADIUS,y2:t.y,stroke:n,strokeWidth:"1",strokeLinecap:"round"}),o.a.createElement("line",{x1:t.x,y1:t.y-s.b.CIRCLE_CENTER_RADIUS,x2:t.x,y2:t.y+s.b.CIRCLE_CENTER_RADIUS,stroke:n,strokeWidth:"1",strokeLinecap:"round"}),o.a.createElement("circle",{className:u,cx:t.x,cy:t.y,r:s.b.CIRCLE_CENTER_RADIUS,stroke:"none",fill:"transparent"}))};l.propTypes={center:a.a.vertex,strokeColor:i.PropTypes.string},l.defaultProps={};t.a=l},Lpqj:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("w/WF"),c=n("fE1x"),u=function(e){var t=e.onSnap,n=e.position;return o.a.createElement(c.a,{onSnap:t,position:n,type:s.v.SNAP_POINT})};u.propTypes={onSnap:i.PropTypes.func,position:a.a.vertex},u.defaultProps={onSnap:function(){return null}},t.a=u},M2tK:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("NbER"),c=n("npbA"),u=n("DZdP"),l=n("JqSt"),p=n("VYgm"),f=n("4pP5");function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i=g(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.center,n=e.isSelected,r=e.isSnapVisible,i=e.progress,a=e.radius,u=e.strokeColor,h=e.strokeWidth,d=void 0;return i<1&&(d=Object(s.G)(360*i,a,t)),this.renderElement(o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{center:t,strokeColor:u}),this.isInProgress()&&o.a.createElement("line",{stroke:c.b.DRAWING_REF_STYLE.strokeColor,strokeLinecap:"round",strokeWidth:"1",x1:t.x,x2:d&&d.x,y1:t.y,y2:d&&d.y}),o.a.createElement("circle",{cx:t.x,cy:t.y,fill:"none",r:a,stroke:u,strokeDasharray:this.findStrokeDasharray(),strokeDashoffset:this.findStrokeDashoffset(),strokeWidth:h}),!this.isReadOnly()&&o.a.createElement(o.a.Fragment,null,n?o.a.createElement("circle",{className:f.a["highlight-fill"],cx:t.x,cy:t.y,fill:"none",r:a,stroke:u,strokeDasharray:this.findStrokeDasharray(),strokeDashoffset:this.findStrokeDashoffset(),strokeWidth:h+c.b.SELECTED_OFFSET}):o.a.createElement(o.a.Fragment,null,o.a.createElement("circle",{className:f.a.hit,cx:t.x,cy:t.y,fill:"none",key:"hit",r:a,stroke:u,strokeWidth:this.findHitStrokeWidth(h)}),r&&o.a.createElement(p.a,{center:t,onSnap:this.handleSnap})))))}}])&&m(t.prototype,n),r&&m(t,r),a}(u.a);O.propTypes=y(y({},u.a.propTypes),{},{center:a.a.vertex,radius:i.PropTypes.number,strokeColor:i.PropTypes.string,strokeWidth:i.PropTypes.number}),O.defaultProps=y({},u.a.defaultProps),t.a=O},MVhW:function(e,t,n){"use strict";var r=n("w/WF"),o={bottom:8,left:8,right:8,top:8},i={fillColor:"#000000",fillOpacity:.5,fillPattern:r.k.STRIPED,fillStrokeColor:"#cc0000",fillStrokeDegree:305,fillStrokeSpacing:4,fillStrokeWidth:1,rank:r.u.AUXILIAR,strokeColor:"#000000",strokeMarkerEnd:null,strokeMarkerStart:null,strokePattern:r.w.SOLID,strokeWidth:1};n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}))},MfYB:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("w/WF"),s=n("bjiX"),c=n.n(s),u={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",button:"button--776",element:"element--9ce","button-rect":"button-rect--e92","button-hybrid":"button-hybrid--a91","-small":"-small--577",disabled:"disabled--660",secondary:"secondary--2c0",ghost:"ghost--bdf","button-icon":"button-icon--3cd","-highlight":"-highlight--a34","button-attached-input":"button-attached-input--5af","spinner-wrapper":"spinner-wrapper--7b3"};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,i=h(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={processing:e.processing},t.handleClick=t.handleClick.bind(d(t)),t}return t=s,(n=[{key:"handleClick",value:function(e){var t=this.props,n=t.disabled,r=t.onClick,o=this.state.processing;n||o||r&&r(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disabled,i=e.isHighlighted,s=e.processing,l=e.size,p=void 0===l?"medium":l,f=e.shape,h=void 0===f?a.a.BUTTON_RECT:f,d=e.theme,y=void 0===d?a.b.BUTTON_PRIMARY:d,b=e.title,m=e.type,v=e.value,g=[u["-".concat(p)]];switch(i&&g.push(u["-highlight"]),r&&g.push(u.disabled),s&&g.push(u.processing),h){case a.a.BUTTON_ATTACHED_INPUT:g.push(u["button-attached-input"]);break;case a.a.BUTTON_HYBRID:g.push(u["button-hybrid"]);break;case a.a.BUTTON_ICON:g.push(u["button-icon"]);break;case a.a.BUTTON_TEXT:g.push(u["button-text"]);break;case a.a.BUTTON_RECT:default:g.push(u["button-rect"])}switch(y){case a.b.BUTTON_GHOST:g.push(u.ghost);break;case a.b.BUTTON_SECONDARY:g.push(u.secondary);break;case a.b.BUTTON_PRIMARY:default:g.push(u.primary)}return o.a.createElement("div",{className:[n||"",u.button].concat(g).join(" "),title:b},"submit"==m?o.a.createElement("input",{className:u.element,onClick:this.handleClick,type:"submit",value:v}):o.a.createElement("button",{className:u.element,onClick:this.handleClick,type:"button"},t),s&&o.a.createElement("div",{className:u["spinner-wrapper"]},o.a.createElement(c.a,{color:"white",gap:2,height:"100%",speed:"fast",thickness:3,width:"100%"})))}}])&&p(t.prototype,n),r&&p(t,r),s}(o.a.Component);b.propTypes={className:i.PropTypes.string,disabled:i.PropTypes.bool,isHighlighted:i.PropTypes.bool,onClick:i.PropTypes.func,processing:i.PropTypes.bool,size:i.PropTypes.oneOf(["small","medium","large"]),shape:i.PropTypes.oneOf([a.a.BUTTON_ATTACHED_INPUT,a.a.BUTTON_HYBRID,a.a.BUTTON_ICON,a.a.BUTTON_RECT,a.a.BUTTON_TEXT]),theme:i.PropTypes.oneOf([a.b.BUTTON_GHOST,a.b.BUTTON_PRIMARY,a.b.BUTTON_SECONDARY]),title:i.PropTypes.string,type:i.PropTypes.string,value:i.PropTypes.string};t.a=b},"N//J":function(e,t,n){"use strict";t.a={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767","size-calculator":"size-calculator--414","-get-activated":"-get-activated--ff5","-set-activated":"-set-activated--834","-equation-in-progress":"-equation-in-progress--542","close-bt":"close-bt--f41",screen:"screen--5fa"}},NFRQ:function(e,t,n){"use strict"},NbER:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=void 0,a=0,s=e.length;a<s;a++){var c=e[a],u=[].concat(r(n),[{id:c.id,name:c.name}]);if(c.id==t){o=u;break}if(c.children&&(o=i(c.children,t,u)))break}return o}function a(e){if("string"!=typeof e)return[0,0,0];e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]}function s(e){if("undefined"!=typeof document)for(var t=e+"=",n=document.cookie.split(";"),r=0,o=n.length;r<o;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;if("undefined"!=typeof document){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(r.toUTCString(),"; path=/; SameSite=Strict;")}}function u(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(!e)return null;if("string"==typeof e)return e;var n=e.getMonth()+1;n<10&&(n="0".concat(n));var r=e.getDate();return r<10&&(r="0".concat(r)),"".concat(e.getFullYear()).concat(t).concat(n).concat(t).concat(r)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Date;return t.setDate(t.getDate()-e),t}function f(e){if(!function(e){if("string"!=typeof e)return!1;var t=e.split("-");return!(3!=t.length||4!=t[0].length||isNaN(t[0])||t[0]<=0||t[0]==1/0||2!=t[1].length||isNaN(t[1])||t[1]<=0||t[1]>12||t[1]==1/0||2!=t[2].length||isNaN(t[2])||t[2]<=0||t[2]>31||t[2]==1/0)}(e))return null;var t=e.split("-");return new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new Promise((function(n,r){if(e())n();else var o=window.setTimeout((function(){clearInterval(i),e()?n():(console.error("No se ha podido resolver la dependencia",e),r())}),t),i=window.setInterval((function(){e()&&(clearTimeout(o),clearInterval(i),n())}),1)}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.txt",n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(r)}var y=n("w/WF");function b(e){return 2*Math.PI*e.radius}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return function(e,t,n){return{x:Math.cos(e)*n+t.x,y:Math.sin(e)*n+t.y}}(Z(e),n,t)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return m($(n,e),t,n)}function g(e){return e&&q(e.center)&&K(e.radius)}function E(e,t){var n=.01,r=t.center,o=t.radius;if(Math.floor(x(e,r))>o||Math.ceil(x(e,r))<o)return!1;t.A,t.B;var i=t.degreeA,a=t.degreeB,s=t.direction,c=$(r,e);return 1==s?i<=a?c-n<=a&&c+n>=i:!(c-n<i&&c+n>a):i>=a?c-n<=i&&c+n>=a:!(c-n>i&&c+n<a)}function O(e,t,n){var r,o;return e<t?(r=t-e,o=e+(360-t)):(r=360-e+t,o=e-t),1==n?r:-1==n?o:Math.min(r,o)}function P(e,t,n,r,o,i){if(arguments.length>6&&void 0!==arguments[6]&&arguments[6]){var a=r;r=o,o=a,i*=-1}var s=X(e,t,n,o);return["A",n,n,0,O(r,o,i)>180?1:0,1==i?1:0,s.x,s.y].join(" ")}function S(e,t){var n,r;return e<t?(n=t-e,r=e+(360-t)):(n=360-e+t,r=e-t),n>=r?-1:1}function T(e){var t=O(e.degreeA,e.degreeB,e.direction);return 2*Math.PI*e.radius*t/360}function _(e,t){if(e<=0)return null;var n=W(t.A,t.B),r=e/M(n),o={x:n.x*r,y:n.y*r};return j(t.A,o)}function C(e,t){if(!q(e))return e;if(!t||!q(t.A)||!q(t.B))return e;var n=W(t.A,e),r=W(t.A,t.B),o=function(e,t){return e.x*t.x+e.y*t.y}(n,r)/M(r);return j(t.A,Y(H(r),o))}function w(e){return e&&q(e.A)&&q(e.B)}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(){for(var e={x:0,y:0},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.x+=t.x,e.y+=t.y})),k({},e)}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return R(e)===R(t)&&(void 0!==e&&void 0!==t&&("number"==typeof e&&"number"==typeof t?e.toFixed(n)==t.toFixed(n):x(e,t)<=.001))}function x(e,t){if(!e||!t)return 0;var n=t.x-e.x,r=t.y-e.y,o=e.z&&t.z?t.z-e.z:void 0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+(o?Math.pow(o,2):0))}function L(e){switch(e.type){case y.i.ARC:case y.i.CIRCLE:return e.radius;case y.i.CURVE:case y.i.FILL:break;case y.i.LINE:case y.i.LINE_ANGLE:case y.i.LINE_PARALLEL:case y.i.LINE_PERPENDICULAR:return x(e.vertexA,e.vertexB);case y.i.POINT:}return null}function N(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2,z:e.z&&t.z?e.z+(t.z-e.z)/2:void 0}}function M(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function F(e,t){switch(t.type){case y.i.ARC:var n=v(e,t.radius,t.center);return E(n,t)||(n=x(e,t.vertexA)<=x(e,t.vertexB)?k({},t.vertexA):k({},t.vertexB)),n;case y.i.CIRCLE:return v(e,t.radius,t.center);case y.i.CURVE:break;case y.i.LINE:return C(e,{A:t.vertexA,B:t.vertexB})}return e}function B(e,t){return j(W(e,t),t)}function U(e){return(e.vertexB.y-e.vertexA.y)/(e.vertexB.x-e.vertexA.x)}function W(e,t){return!e||isNaN(e.x)||isNaN(e.y)||!t||isNaN(t.x)||isNaN(t.y)?!e||isNaN(e.x)||isNaN(e.y)?!t||isNaN(t.x)||isNaN(t.y)?{x:0,y:0}:k({},t):{x:-e.x,y:-e.y}:{x:t.x-e.x,y:t.y-e.y}}function V(e){var t=Z(e);return H({x:Math.cos(t),y:Math.sin(t)})}function G(e){return 1==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)?{x:-e.y,y:e.x}:{x:e.y,y:-e.x}}function H(e){var t=M(e);return{x:e.x/t,y:e.y/t}}function z(e){return!isNaN(e)&&!isNaN(parseFloat(e))&&e!==1/0}function q(e){return!!e&&z(e.x)&&z(e.y)}function K(e,t){return z&&t?e>=0:e>0}function X(e,t,n,r){return{x:e+n*Math.cos(Z(r)),y:t+n*Math.sin(Z(r))}}function Y(e,t){return{x:e.x*t,y:e.y*t}}function J(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r}function Z(e){return e*Math.PI/180}function $(e,t){return re(te(e,t))}function Q(e,t){var n=Math.atan(U(e)),r=Math.atan(U(t));return re(Math.abs(n-r))}function ee(e,t){var n=Math.min(e,t);return oe((Math.max(e,t)-n)/2+n)}function te(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}function ne(e,t,n){var r=.01;return t<=n?e-r<=n&&e+r>=t:!(e-r<t&&e+r>n)}function re(e){return oe(180*e/Math.PI)}function oe(e){for(;e<0;)e+=360;for(;e>360;)e-=360;return e}function ie(e,t){switch(e.type){case y.i.ARC:return function(e,t){return!(!ae(e.vertexA,t)||!ae(e.vertexB,t))}(e,t);case y.i.CIRCLE:return function(e,t){var n=e.center,r=e.radius;return!!(ae(j(n,{x:-r,y:0}),t)&&ae(j(n,{x:r,y:0}),t)&&ae(j(n,{x:0,y:-r}),t)&&ae(j(n,{x:0,y:r}),t))}(e,t);case y.i.CURVE:return function(e,t){if(!Array.isArray(e.anchors)||!e.anchors.length)return!1;for(var n=0,r=e.anchors.length;n<r;n++)if(!ae(e.anchors[n],t))return!1;return!0}(e,t);case y.i.FILL:return function(e,t){if(!Array.isArray(e.anchors)||!e.anchors.length)return!1;for(var n=0,r=e.anchors.length;n<r;n++)if(!ae(e.anchors[n],t))return!1;return!0}(e,t);case y.i.LINE:return function(e,t){return!(!ae(e.vertexA,t)||!ae(e.vertexB,t))}(e,t);case y.i.POINT:case y.i.TAG:return ae(e.position,t)}return!1}function ae(e,t){return!!(e.x>=t.position.x&&e.x<=t.position.x+t.width&&e.y>=t.position.y&&e.y<=t.position.y+t.height)}function se(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t,n){var r=W(t,e),o=M(r),i=W(t,n),a=M(i),s=a/(o+a),c=i.x-r.x,u=i.y-r.y,l={x:n.x-c*s,y:n.y-u*s},p=W(t,l),f=G(p,S($(t,l),$(t,e))),h=H(f),d=G(p,S($(t,l),$(t,n))),y=H(d),b=re(function(e,t,n){var r=x(e,t),o=x(t,n),i=x(e,n);return Math.acos((Math.pow(o,2)+Math.pow(r,2)-Math.pow(i,2))/(2*o*r))}(e,t,n)),m=b/180;m=J(m,0,1,.25,.4);var v=Math.min(x(e,t),x(e,n))*m,g=Math.min(x(t,n),x(e,n))*m;f={x:h.x*v,y:h.y*v};var E={x:t.x+f.x,y:t.y+f.y};d={x:y.x*g,y:y.y*g};var O={x:t.x+d.x,y:t.y+d.y};return[le({},E),le({},O)]}function he(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(e=se(e).reverse());var t="";if(e.length>=3)for(var n=void 0,r=void 0,o=void 0,i=0,a=e.length;i<a;i++){var s=e[i],c=e[i+1];if(!e[i+2]){if(!o)o=j(c,Y(H(W(c,r)),x(s,r)));t+=", ".concat(o.x," ").concat(o.y,", ").concat(c.x," ").concat(c.y);break}var u=fe(s,c,e[i+2]),l=u[0];if(r=u[1],0===i){var p=e[e.length-2];if(I(s,e[e.length-1])){var f=fe(p,s,c);o=f[0],n=f[1]}else{n=j(s,Y(H(W(s,l)),x(c,l)))}t+="C ".concat(n.x," ").concat(n.y,", ").concat(l.x," ").concat(l.y,", ").concat(c.x," ").concat(c.y," C ").concat(r.x," ").concat(r.y)}else t+=", ".concat(l.x," ").concat(l.y,", ").concat(c.x," ").concat(c.y," C ").concat(r.x," ").concat(r.y)}else e.length>1&&(t="L ".concat(e[1].x," ").concat(e[1].y));return t}function de(e,t){if(!e||!t)return null;switch(e.type){case y.i.ARC:switch(t.type){case y.i.ARC:return{intersection:ye(e,t),type:y.l.INTERSECTION_ARC_ARC};case y.i.CIRCLE:return{intersection:me(t,e),type:y.l.INTERSECTION_ARC_CIRCLE};case y.i.LINE:return{intersection:Ee(t,e),type:y.l.INTERSECTION_ARC_LINE}}break;case y.i.CIRCLE:switch(t.type){case y.i.ARC:return{intersection:me(e,t),type:y.l.INTERSECTION_ARC_CIRCLE};case y.i.CIRCLE:return{intersection:ve(e,t),type:y.l.INTERSECTION_CIRCLE_CIRCLE};case y.i.LINE:return{intersection:ge(t,e),type:y.l.INTERSECTION_CIRCLE_LINE}}break;case y.i.LINE:switch(t.type){case y.i.ARC:return{intersection:Ee(e,t),type:y.l.INTERSECTION_ARC_LINE};case y.i.CIRCLE:return{intersection:ge(e,t),type:y.l.INTERSECTION_CIRCLE_LINE};case y.i.LINE:return{intersection:Oe(e,t),type:y.l.INTERSECTION_LINE_LINE}}}return null}function ye(e,t){var n=ve(e,t);if(n){var r=n.filter((function(t){return E(t,e)})).filter((function(e){return E(e,t)}));if(r.length)return r}return null}function be(e,t){var n=te(e.center,t);return{x:Math.cos(n)*e.radius+e.center.x,y:Math.sin(n)*e.radius+e.center.y}}function me(e,t){var n=ve(e,t);if(n){var r=n.filter((function(e){return E(e,t)}));if(r.length)return r}return null}function ve(e,t){var n,r,o,i,a=e.center,s=e.radius,c=-2*a.x,u=-2*a.y,l=Math.pow(a.x,2)+Math.pow(a.y,2)-Math.pow(s,2),p=t.center,f=t.radius,h=c- -2*p.x,d=u- -2*p.y,y=-(l-(Math.pow(p.x,2)+Math.pow(p.y,2)-Math.pow(f,2))),b=Math.pow(h,2)+Math.pow(d,2),m=c*Math.pow(d,2)-h*d*u-2*h*y,v=Math.pow(y,2)+d*y*u+Math.pow(d,2)*l;if(Math.round(1e4*d)/1e4==0){r=-m/(2*b);var g=((n=-m/(2*b))-a.x)/s;g>1?g=1:g<-1&&(g=-1);var E=(r-a.x)/s;E>1?E=1:E<-1&&(E=-1);var O=Math.acos(g),P=Math.acos(E);o=a.y+s*Math.sin(O),i=a.y-s*Math.sin(P)}else o=(y-h*(n=(-m+Math.sqrt(Math.pow(m,2)-4*b*v))/(2*b)))/d,i=(y-h*(r=(-m-Math.sqrt(Math.pow(m,2)-4*b*v))/(2*b)))/d;var S=[];return n&&o&&S.push({x:n,y:o}),r&&i&&S.push({x:r,y:i}),S.length?S:null}function ge(e,t){var n,r,o=t.center,i=t.radius,a=-2*o.x,s=-2*o.y,c=Math.pow(o.x,2)+Math.pow(o.y,2)-Math.pow(i,2),u=e.vertexA,l=e.vertexB,p={x:l.x-u.x,y:l.y-u.y},f=(l.y,u.y,l.x,u.x,p.y),h=-p.x,d=p.y*u.x-p.x*u.y,y=Math.pow(f,2)+Math.pow(h,2),b=a*Math.pow(h,2)-f*h*s-2*f*d,m=Math.pow(d,2)+h*d*s+Math.pow(h,2)*c,v=(-b+Math.sqrt(Math.pow(b,2)-4*y*m))/(2*y),g=(-b-Math.sqrt(Math.pow(b,2)-4*y*m))/(2*y);if(Math.round(1e4*h)/1e4!=0)n=(d-f*v)/h,r=(d-f*g)/h;else{var E=(u.x-o.x)/i;E>1?E=1:E<-1&&(E=-1);var O=Math.acos(E);n=i*Math.sin(O)+o.y,r=i*Math.sin(-O)+o.y}var P={x:v,y:n},S={x:g,y:r},T=[];return isNaN(P.x)||isNaN(P.y)||Math.round(x(u,P))<=Math.round(x(u,l))&&Math.round(x(l,P))<=Math.round(x(u,l))&&Math.floor(x(P,o))<=i&&Math.ceil(x(P,o))>=i&&T.push(P),isNaN(S.x)||isNaN(S.y)||Math.round(x(u,S))<=Math.round(x(u,l))&&Math.round(x(l,S))<=Math.round(x(u,l))&&Math.floor(x(S,o))<=i&&Math.ceil(x(S,o))>=i&&T.push(S),T.length?T:null}function Ee(e,t){var n=ge(e,t);if(n){var r=n.filter((function(e){return E(e,t)}));if(r.length)return r}return null}function Oe(e,t){var n=e.vertexA,r=e.vertexB,o={x:r.x-n.x,y:r.y-n.y},i=o.y,a=-o.x,s=o.y*n.x-o.x*n.y,c=t.vertexA,u=t.vertexB,l={x:u.x-c.x,y:u.y-c.y},p=l.y,f=-l.x,h=l.y*c.x-l.x*c.y,d={};if(Math.round(1e4*i)/1e4==0){if(0==p)return null;d.y=n.y,d.x=(h-f*d.y)/p}else if(Math.round(1e4*a)/1e4==0){if(0==f)return null;d.x=n.x,d.y=(h-p*d.x)/f}else if(Math.round(1e4*p)/1e4==0){if(0==i)return null;d.y=c.y,d.x=(s-a*d.y)/i}else if(Math.round(1e4*f)/1e4==0){if(0==a)return null;d.x=c.x,d.y=(s-i*d.x)/a}else d.y=(i*h-p*s)/(i*f-p*a),d.x=(s-a*d.y)/i;return d.x==1/0||d.y==1/0||isNaN(d.x)||isNaN(d.y)||x(n,d)>x(n,r)||x(r,d)>x(n,r)||x(c,d)>x(c,u)||x(u,d)>x(c,u)?null:d}var Pe=["a","b","c","d","e","f","g","h","i","k","l","m","n","o","p","q","r","s","t","u","w","x","y","z","A","B","C","D","E","F","G","H","I","K","L","M","N","O","P","Q","R","S","T","U","W","X","Y","Z"],Se=["&alpha;","&beta;","&chi;","&delta;","&epsilon;","&phi;","&gamma;","&eta;","&iota;","&kapa;","&lambda;","&mu;","&nu;","&omicron;","&pi;","&theta;","&rho;","&sigma;","&tau;","&upsilon;","&omega;","&xi;","&psi;","&zeta;","&Alpha;","&Beta;","&Chi;","&Delta;","&Epsilon;","&Phi;","&Gamma;","&Eta;","&Iota;","&Kapa;","&Lambda;","&Mu;","&Nu;","&Omicron;","&Pi;","&Theta;","&Rho;","&Sigma;","&Tau;","&Upsilon;","&Omega;","&Xi;","&Psi;","&Zeta;"],Te=["α","β","χ","δ","ε","φ","γ","η","ι","κ","λ","μ","ν","ο","π","θ","ρ","σ","τ","υ","ω","ξ","ψ","ζ","Α","Β","Χ","Δ","Ε","Φ","Γ","Η","Ι","Κ","Λ","Μ","Ν","Ο","Π","Θ","Ρ","Σ","Τ","Υ","Ω","Ξ","Ψ","Ζ"];function _e(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",r=0,o=e.length;r<o;r++){var i=e.substring(r,r+1),a=Pe.indexOf(i);n+=-1!=a?t?Te[a]:Se[a]:i}return n}function Ce(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$","_").concat(Math.round(1e12*Math.random()).toString(36))}var we=function(e){return"undefined"==typeof window?null:e?(window.mongge||(window.mongge={}),window.mongge.lazyImageObserver||(window.mongge.lazyImageObserver="undefined"==typeof window?null:"IntersectionObserver"in window?new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var n=e.target;n.dataset.src&&(n.src=n.dataset.src),n.dataset.srcset&&(n.srcset=n.dataset.srcset),n.classList.remove("-lazy"),t.unobserve(n)}}))})):null),void(window.mongge.lazyImageObserver?window.mongge.lazyImageObserver.observe(e):(e.dataset.src&&(e.src=e.dataset.src),e.dataset.srcset&&(e.srcset=e.dataset.srcset),e.classList.remove("-lazy")))):null},Re=n("BkRI"),De=n.n(Re),ke=n("MVhW");function Ae(e){return 72*(e/25.4)}function je(e){return 25.4/(72/e)}var Ie=n("rye4");function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne="2.1.0";function Me(e,t){return e=(e=(e=e.replace(/font-size:([0-9]+)px/gim,(function(e,n,r,o){return"font-size:".concat(Math.round(parseInt(n)*t),"px")}))).replace(/<p style=\\?"line-height:initial;text-align:([A-z]+);\\?"><span style=\\?"font-family:([A-z']+);font-size:([0-9]+px);color:(#[0-9a-fA-F]+);?\\?"><\/span><\/p>/gim,'<p style="line-height:$3;"><br /></p>')).replace(/<p style=\\?"line-height:initial;text-align:([A-z]+);\\?"><span style=\\?"font-family:([A-z0-9' ]+);font-size:([0-9]+px);color:(#[0-9a-fA-F]+);?\\?">/gim,'<p style="line-height:$3;text-align:$1;"><span style="font-family:$2;font-size:$3;color:$4;">')}function Fe(e){return e&&"string"==typeof e&&"#"==e.substring(0,1)?e:null}function Be(e){return!z(e)||e<0?null:e>1?1:e}function Ue(e){return z(e)?oe(e):null}function We(e){if(!e)return null;switch(e){case y.k.SOLID:case y.k.STRIPED:return e}return null}function Ve(e){return 0===e||e===y.u.MAIN?y.u.MAIN:1===e||e===y.u.AUXILIAR||e?y.u.AUXILIAR:null}function Ge(e){if(!e)return null;switch(e){case y.n.ARROW:case y.n.OBLIQUE:return e}return null}function He(e){if(!e)return null;switch(e){case y.w.DASHED:case y.w.DASHED_DOTTED:case y.w.DOTTED:case y.w.SOLID:return e}return null}function ze(e){return!z(e)||e<0?null:(e>100&&(e=100),Math.round(e))}function qe(e,t){switch(t){case y.i.ARC:return{rank:Ve(e.hierarchy)||Ve(e.rank)||y.u.AUXILIAR,strokeColor:Fe(e.color)||Fe(e.strokeColor)||ke.b.strokeColor,strokeMarkerEnd:Ge(e.markers&&e.markers.end)||Ge(e.strokeMarkerEnd)||ke.b.strokeMarkerEnd,strokeMarkerStart:Ge(e.markers&&e.markers.start)||Ge(e.strokeMarkerStart)||ke.b.strokeMarkerStart,strokePattern:He(e.strokePattern)||ke.b.strokePattern,strokeWidth:ze(e.strokeWidth)||ke.b.strokeWidth};case y.i.CIRCLE:return{rank:Ve(e.hierarchy)||Ve(e.rank)||y.u.AUXILIAR,strokeColor:Fe(e.color)||Fe(e.strokeColor)||ke.b.strokeColor,strokePattern:He(e.strokePattern)||ke.b.strokePattern,strokeWidth:ze(e.strokeWidth)||ke.b.strokeWidth};case y.i.CURVE:return{rank:Ve(e.hierarchy)||Ve(e.rank)||y.u.AUXILIAR,strokeColor:Fe(e.color)||Fe(e.strokeColor)||ke.b.strokeColor,strokeMarkerEnd:Ge(e.markers&&e.markers.end)||Ge(e.strokeMarkerEnd)||ke.b.strokeMarkerEnd,strokeMarkerStart:Ge(e.markers&&e.markers.start)||Ge(e.strokeMarkerStart)||ke.b.strokeMarkerStart,strokePattern:He(e.strokePattern)||ke.b.strokePattern,strokeWidth:ze(e.strokeWidth)||ke.b.strokeWidth};case y.i.FILL:return{fillColor:Fe(e.color)||Fe(e.fillColor)||ke.b.fillColor,fillOpacity:Be(e.opacity)||Be(e.fillOpacity)||ke.b.fillOpacity,fillPattern:We(e.fillPattern)||We(e.fillPattern||e.fillType)||ke.b.fillPattern,fillStrokeColor:Fe(e.color)||Fe(e.fillStrokeColor)||ke.b.fillStrokeColor,fillStrokeDegree:Ue(e.stripesDegree)||Ue(e.fillStrokeDegree)||ke.b.fillStrokeDegree,fillStrokeSpacing:K(e.stripeSpacing)&&e.stripeSpacing||K(e.fillStrokeSpacing)&&e.fillStrokeSpacing||ke.b.fillStrokeSpacing,fillStrokeWidth:K(e.strokeWidth)&&e.strokeWidth||K(e.fillStrokeWidth)&&e.fillStrokeWidth||ke.b.fillStrokeWidth,rank:Ve(e.hierarchy)||Ve(e.rank)||y.u.AUXILIAR};case y.i.LINE:return{rank:Ve(e.hierarchy)||Ve(e.rank)||y.u.AUXILIAR,strokeColor:Fe(e.color)||Fe(e.strokeColor)||ke.b.strokeColor,strokeMarkerEnd:Ge(e.markers&&e.markers.end)||Ge(e.strokeMarkerEnd)||ke.b.strokeMarkerEnd,strokeMarkerStart:Ge(e.markers&&e.markers.start)||Ge(e.strokeMarkerStart)||ke.b.strokeMarkerStart,strokePattern:He(e.strokePattern)||ke.b.strokePattern,strokeWidth:ze(e.strokeWidth)||ke.b.strokeWidth};case y.i.POINT:return{rank:Ve(e.hierarchy)||Ve(e.rank)||y.u.AUXILIAR,strokeColor:Fe(e.color)||Fe(e.strokeColor)||ke.b.strokeColor,strokeWidth:ze(e.strokeWidth)||ke.b.strokeWidth};case y.i.TAG:return{rank:Ve(e.hierarchy)||Ve(e.rank)||y.u.AUXILIAR,strokeColor:Fe(e.color)||Fe(e.strokeColor)||ke.b.strokeColor}}return null}function Ke(e){if(!e||!e.type)return null;if(!e.reference||"string"!=typeof e.reference)return null;switch(e.type){case y.d.ANGLE:if(z(e.degree))return{degree:e.degree,reference:e.reference,type:e.type};break;case y.d.PARALLEL:case y.d.PERPENDICULAR:return{reference:e.reference,type:e.type};case y.d.SNAP_CENTER:case y.d.SNAP_DEGREE_15:case y.d.SNAP_END:case y.d.SNAP_INTERSECTION:case y.d.SNAP_MIDPOINT:case y.d.SNAP_NEAR:case y.d.SNAP_POINT:case y.d.SNAP_START:if(function(e){if(!e)return null;switch(e){case y.c.CENTER:case y.c.RADIUS:case y.c.VERTEX_A:case y.c.VERTEX_B:return e}return null}(e.dependant))return{dependant:e.dependant,reference:e.reference,type:e.type}}return null}function Xe(e){return e=De()(e),Array.isArray(e)?e.map((function(e){return Ke(e)})).filter((function(e){return null!=e})):null}function Ye(e,t,n){return e!=t&&t&&"string"==typeof t&&(e=t),e&&"string"==typeof e||(e=Ce(n)),e}function Je(e,t){if(!(e=De()(e)))return null;switch(e.type){case y.i.ARC:return function(e,t){return e?"string"!=typeof e.center?null:K(e.radius)?1!==e.direction&&-1!==e.direction||"string"!=typeof e.vertexA||"string"!=typeof e.vertexB?null:z(e.degreeA)&&z(e.degreeB)?e.degreeA==e.degreeB?null:{center:e.center,constraints:Xe(e.constraints),degreeA:oe(e.degreeA),degreeB:oe(e.degreeB),direction:e.direction,fixedSize:!0===e.fixedSize,id:Ye(e.id,t,y.i.ARC),radius:e.radius,style:qe(e.style||e,y.i.ARC)||ke.b,type:y.i.ARC,vertexA:e.vertexA,vertexB:e.vertexB}:null:null:null}(e,t);case y.i.CIRCLE:return function(e,t){return e?"string"!=typeof e.center?null:K(e.radius)?{center:e.center,constraints:Xe(e.constraints),fixedSize:!0===e.fixedSize,id:Ye(e.id,t,y.i.CIRCLE),radius:e.radius,style:qe(e.style||e,y.i.CIRCLE)||ke.b,type:y.i.CIRCLE}:null:null}(e,t);case y.i.CURVE:return function(e,t){if(!e)return null;if(!Array.isArray(e.anchors))return null;var n={};return n.anchors=e.anchors.filter((function(e){return"string"==typeof e})),n.id=Ye(e.id,t,y.i.CURVE),n.style=qe(e.style||e,y.i.CURVE)||ke.b,n.type=y.i.CURVE,n.anchors.length?n:null}(e,t);case y.i.FILL:return function(e,t){if(!e)return null;if(!Array.isArray(e.anchors))return null;if(!Array.isArray(e.paths))return null;var n={};return n.anchors=e.anchors.filter((function(e){return"string"==typeof e})),n.id=Ye(e.id,t,y.i.FILL),n.paths=e.paths.filter((function(e){return"string"==typeof e})),n.style=qe(e.style||e,y.i.FILL)||ke.b,n.type=y.i.FILL,n.anchors.length&&n.paths.length?n:null}(e,t);case y.i.LINE:return function(e,t){return e?"string"!=typeof e.vertexA||"string"!=typeof e.vertexB?null:{character:e.character||y.m.FREE,constraints:Xe(e.constraints),fixedSize:!0===e.fixedSize,id:Ye(e.id,t,y.i.LINE),style:qe(e.style||e,y.i.LINE)||ke.b,type:y.i.LINE,vertexA:e.vertexA,vertexB:e.vertexB}:null}(e,t);case y.i.POINT:return function(e,t){return e?"string"!=typeof e.position?null:{constraints:Xe(e.constraints),id:Ye(e.id,t,y.i.POINT),position:e.position,style:qe(e.style||e,y.i.POINT)||ke.b,type:y.i.POINT}:null}(e,t);case y.i.TAG:return function(e,t){return e?"string"!=typeof e.position?null:z(e.rotation)&&e.text?{constraints:Xe(e.constraints),id:Ye(e.id,t,y.i.TAG),position:e.position,readOnly:!0,rotation:oe(e.rotation),style:qe(e.style||e,y.i.TAG)||ke.b,text:e.text,type:y.i.TAG}:null:null}(e,t)}return null}function Ze(e,t){return(e=De()(e))&&Array.isArray(e.steps)?(e.steps=e.steps.map((function(e){return function(e,t){return(e=De()(e))&&e.elements&&Array.isArray(e.elements)?(e.elements=e.elements.filter((function(e){return!("string"!=typeof e||!t[e])})),e.elements.length?e:null):null}(e,t)})).filter((function(e){return null!=e})),e.steps.length?e:null):null}function $e(e,t){if(!e||!t)return!1;if(t.statement&&Array.isArray(t.statement.elements)&&t.statement.elements.includes(e))return!0;if(t.solution&&Array.isArray(t.solution.steps)&&t.solution.steps.some((function(t){return Array.isArray(t.elements)&&t.elements.includes(e)})))return!0;if(t.answer&&Array.isArray(t.answer.steps)&&t.answer.steps.some((function(t){return Array.isArray(t.elements)&&t.elements.includes(e)})))return!0;for(var n in t.elements){var r=t.elements[n];if(r.type==y.i.FILL&&Array.isArray(r.paths)&&r.paths.includes(e))return!0}return!1}function Qe(e,t,n){if(!e||!t)return!1;var r=!1;if(t)for(var o in t){var i=t[o];switch(i.type){case y.i.ARC:r=[i.center,i.vertexA,i.vertexB].includes(e);break;case y.i.CIRCLE:r=!(i.center!=e);break;case y.i.CURVE:case y.i.FILL:r=!(!Array.isArray(i.anchors)||!i.anchors.includes(e));break;case y.i.LINE:r=[i.vertexA,i.vertexARef,i.vertexB,i.vertexBRef].includes(e);break;case y.i.POINT:case y.i.TAG:r=!(i.position!=e)}if(r)break}if(n)for(var a in n)if(n[a].position==e){r=!0;break}return r}function et(e,t){return(e=De()(e))&&K(e.width)&&K(e.height)?(e.id||(e.id=Ce("page")),t!=Ne&&(e.width=Ae(e.width),e.height=Ae(e.height)),e.margins||(e.margins=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ke.a)),K(e.margins.bottom,!0)||(e.margins.bottom=ke.a.bottom),K(e.margins.left,!0)||(e.margins.left=ke.a.left),K(e.margins.right,!0)||(e.margins.right=ke.a.right),K(e.margins.top,!0)||(e.margins.top=ke.a.top),e.vertices=function(e){if(!(e=De()(e)))return{};var t={};for(var n in e){var r=e[n];q(r)&&(t[n]={x:r.x,y:r.y})}return t}(e.vertices),e.elements=function(e){if(!(e=De()(e)))return{};var t={};for(var n in e){var r=Je(e[n],n);r?t[n]=r:delete t[n]}return t}(e.elements),e.statement=(n=e.statement,r=e.elements,(n=De()(n))?(Array.isArray(n.elements)||(n.elements=[]),n.text||(n.text=""),n.elements=n.elements.filter((function(e){return!("string"!=typeof e||!r[e])})),n):null),e.solution=Ze(e.solution,e.elements),e.answer=Ze(e.answer,e.elements),(new Ie.a).insertEveryIntersectionIntoPage(e),e=function(e){if(!(e=De()(e)))return e;for(var t in e.elements||(e.elements={}),e.vertices||(e.vertices={}),e.statement||(e.statement={elements:[],text:""}),Array.isArray(e.statement.elements)||(e.statement.elements=[]),e.solution||(e.solution={steps:[]}),Array.isArray(e.solution.steps)||(e.solution.steps=[]),e.answer||(e.answer={steps:[]}),Array.isArray(e.answer.steps)||(e.answer.steps=[]),e.statement.elements=e.statement.elements.filter((function(t){return!!e.elements[t]})),e.solution.steps=e.solution.steps.filter((function(t){return!(!Array.isArray(t.elements)||!t.elements.filter((function(t){return!!e.elements[t]})).length)})),e.answer.steps=e.answer.steps.filter((function(t){return!(!Array.isArray(t.elements)||!t.elements.filter((function(t){return!!e.elements[t]})).length)})),e.elements)$e(t,e)||delete e.elements[t];for(var n in e.vertices)Qe(n,e.elements,e.intersections)||delete e.vertices[n];return e}(e)):null;var n,r}function tt(e){var t,n;return(e=De()(e))||(e={}),"2.1.0"==e.version&&(e.pages=(t=e.pages,(t=De()(t)).map((function(e){for(var t in e.elements)e.elements[t].type==y.i.TAG&&(e.elements[t].readOnly=!0);return e})))),e.version==Ne||e.sanitized||(e.mode=(n=e.mode)==y.p.STUDENT||n==y.p.TEACHER?n:y.p.STUDENT,e.pages=function(e,t){return e=De()(e),Array.isArray(e)?e.map((function(e){return et(e,t)})).filter((function(e){return null!=e})):[]}(e.pages,e.version),e.sanitized=!0),e}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e||!t)return null;var r=t.elements[e];if(!r)return null;switch(r.type){case y.i.ARC:return{center:t.vertices[r.center],constraints:r.constraints,degreeA:r.degreeA,degreeB:r.degreeB,direction:r.direction,id:r.id,radius:r.radius,style:rt({},r.style),type:r.type,vertexA:t.vertices[r.vertexA],vertexB:t.vertices[r.vertexB]};case y.i.CIRCLE:return{center:t.vertices[r.center],constraints:r.constraints,id:r.id,key:r.id,radius:r.radius,style:rt({},r.style),type:r.type};case y.i.CURVE:return{anchors:r.anchors.map((function(e){return t.vertices[e]})),constraints:r.constraints,id:r.id,key:r.id,style:rt({},r.style),type:r.type};case y.i.FILL:return{anchors:r.anchors.map((function(e){return t.vertices[e]})),constraints:r.constraints,id:r.id,key:r.id,paths:r.paths.map((function(e){return it(e,t,n)})),style:rt({},r.style),type:r.type};case y.i.LINE:return{constraints:r.constraints,id:r.id,key:r.id,style:rt({},r.style),type:r.type,vertexA:t.vertices[r.vertexA],vertexB:t.vertices[r.vertexB]};case y.i.POINT:return{constraints:r.constraints,id:r.id,key:r.id,position:t.vertices[r.position],style:rt({},r.style),type:r.type};case y.i.TAG:return{constraints:r.constraints,id:r.id,key:r.id,position:t.vertices[r.position],readOnly:!1!==r.readOnly,rotation:r.rotation,style:rt({},r.style),text:Me(r.text,n),type:r.type}}return null}function at(e){switch(e){case y.p.STUDENT:return y.f.MODE_STUDENT;case y.p.TEACHER:return y.f.MODE_TEACHER}return e}var st=n("q1tI"),ct=n.n(st),ut=n("eTXk"),lt=n("snU8"),pt=n("M2tK"),ft=n("YQ8f"),ht=n("YLdI"),dt=n("PtJS"),yt=n("+vhf");function bt(){return bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e){var t=e.elementId,n=e.mggPage,r=e.scale;return n.elements[t]?function(e){var t=null,n=vt(vt(vt(vt({key:e.id||Ce(e.type)},Object(ut.a)(e.type)),e.style),e),{},{isReadOnly:!0,isReferenced:!1,isSelected:!1,isSnapVisible:!1});switch(delete n.style,e.type){case y.i.ARC:t=lt.a,n.length=T({degreeA:e.degreeA,degreeB:e.degreeB,direction:e.direction,radius:e.radius});break;case y.i.CIRCLE:t=pt.a,n.length=b({radius:e.radius});break;case y.i.CURVE:t=ft.a;break;case y.i.FILL:t=ht.a;break;case y.i.LINE:t=dt.a,n.length=x(e.vertexA,e.vertexB);break;case y.i.POINT:t=yt.a;break;case y.i.RECT:t=Rect}return t?ct.a.createElement(t,bt({},n,{key:"".concat(n.id,"--static")})):null}(it(t,n,r)):null}function Ot(e){switch(e){case y.j.EDIT_ANSWER:return y.q.ANSWER;case y.j.EDIT_SOLUTION:return y.q.SOLUTION;case y.j.EDIT_STATEMENT:return y.q.STATEMENT;case y.j.PLAY_SOLUTION:return y.q.SOLUTION}return null}var Pt=n("HoCX"),St=function(e){var t=document.createElement("textarea"),n=void 0;if(t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.contentEditable=!0,t.readOnly=!1,t.value=e,document.body.appendChild(t),Object(Pt.a)()){var r=document.createRange(),o=window.getSelection();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),t.setSelectionRange(0,999999)}else t.select();try{n=document.execCommand("copy")}catch(e){n=!1,console.error(e)}return document.body.removeChild(t),n};function Tt(e){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||e&&e.webkitDisplayingFullscreen)}function _t(e){if(Tt(e))document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():e&&e.webkitExitFullscreen&&e.webkitExitFullscreen();else if(e){var t=!0;return e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.webkitEnterFullscreen?e.webkitEnterFullscreen():t=!1,t}return!1}function Ct(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,c=t.top+o-a,u=t.left+i-s;return{x:Math.round(u),y:Math.round(c)}}function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,r=0;if((e=e.touches?e.touches[0]:e)||(e=window.event),!e)return null;if(e.touches){if(!e.touches.length)return null;e=e.touches}return e.pageX||e.pageY?(n=e.pageX,r=e.pageY):(e.clientX||e.clientY)&&(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:n-(t?t.x:0),y:r-(t?t.y:0)}}function Rt(e,t){return n={x:e.clientX,y:e.clientY},r=t.getBoundingClientRect(),{x:n.x-r.left,y:n.y-r.top};var n,r}function Dt(e){if(!e)return"";var t="";for(var n in e)void 0!==e[n]&&null!==e[n]&&(t+="".concat(n,"=").concat(e[n],"&"));return t.substr(0,t.length-1)}function kt(e,t){var n=Dt(t);return""!=n&&(e+="?".concat(n)),e}function At(e){return e.match(/^https?:\/\//i)||(e="http://".concat(e)),e}function jt(e){return e.match(/^https?:\/\//i)&&(e=e.replace(/^https?:\/\//i,"")),-1!=e.indexOf("?")&&(e=e.split("?")[0]),"/"==e.substr(-1)&&(e=e.substring(0,e.length-1)),"/"==e.substr(0,1)&&(e=e.substring(1)),e}function It(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e,t){return e&&Array.isArray(t)?t.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})):e}var Nt=function(e){return e<1024?"".concat(e," bytes"):e>=1024&&e<1048576?"".concat((e/1024).toFixed(1)," KB"):e>=1048576?"".concat((e/1048576).toFixed(1)," MB"):void 0},Mt=function(e){return It(new Set(e))};n.d(t,"T",(function(){return i})),n.d(t,"V",(function(){return a})),n.d(t,"U",(function(){return s})),n.d(t,"nb",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"o",(function(){return p})),n.d(t,"ob",(function(){return f})),n.d(t,"wb",(function(){return h})),n.d(t,"g",(function(){return d})),n.d(t,"p",(function(){return $})),n.d(t,"q",(function(){return Q})),n.d(t,"D",(function(){return ee})),n.d(t,"W",(function(){return ne})),n.d(t,"pb",(function(){return oe})),n.d(t,"d",(function(){return E})),n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return T})),n.d(t,"Y",(function(){return ie})),n.d(t,"l",(function(){return b})),n.d(t,"G",(function(){return m})),n.d(t,"H",(function(){return v})),n.d(t,"Z",(function(){return g})),n.d(t,"n",(function(){return he})),n.d(t,"t",(function(){return de})),n.d(t,"u",(function(){return ye})),n.d(t,"v",(function(){return be})),n.d(t,"w",(function(){return me})),n.d(t,"x",(function(){return ve})),n.d(t,"z",(function(){return ge})),n.d(t,"y",(function(){return Ee})),n.d(t,"A",(function(){return Oe})),n.d(t,"J",(function(){return _})),n.d(t,"K",(function(){return C})),n.d(t,"ab",(function(){return w})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return I})),n.d(t,"r",(function(){return x})),n.d(t,"B",(function(){return L})),n.d(t,"E",(function(){return N})),n.d(t,"I",(function(){return F})),n.d(t,"L",(function(){return B})),n.d(t,"N",(function(){return W})),n.d(t,"O",(function(){return V})),n.d(t,"P",(function(){return G})),n.d(t,"Q",(function(){return H})),n.d(t,"bb",(function(){return q})),n.d(t,"gb",(function(){return X})),n.d(t,"mb",(function(){return Y})),n.d(t,"sb",(function(){return J})),n.d(t,"qb",(function(){return _e})),n.d(t,"S",(function(){return Ce})),n.d(t,"fb",(function(){return we})),n.d(t,"cb",(function(){return it})),n.d(t,"db",(function(){return at})),n.d(t,"jb",(function(){return Et})),n.d(t,"kb",(function(){return Me})),n.d(t,"lb",(function(){return tt})),n.d(t,"C",(function(){return Ot})),n.d(t,"e",(function(){return St})),n.d(t,"X",(function(){return Tt})),n.d(t,"rb",(function(){return _t})),n.d(t,"s",(function(){return Ct})),n.d(t,"F",(function(){return wt})),n.d(t,"M",(function(){return Rt})),n.d(t,"eb",(function(){return Ae})),n.d(t,"hb",(function(){return je})),n.d(t,"tb",(function(){return kt})),n.d(t,"ub",(function(){return At})),n.d(t,"vb",(function(){return jt})),n.d(t,"m",(function(){return Lt})),n.d(t,"R",(function(){return Nt})),n.d(t,"ib",(function(){return Mt}))},O4hL:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("R5uQ"),s=n("/6+3"),c={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767","text-area":"text-area--d7a",validation__text:"validation__text--a3f","-invalid":"-invalid--209"};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,i=f(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,e)}return t=s,(n=[{key:"getValue",value:function(){return this.ref?this.ref.value:null}},{key:"setValue",value:function(e){this.ref&&(this.ref.value=e,this.handleChange())}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.label,i=t.pattern,s=t.placeholder,u=t.required,l=t.value,p=this.state,f=p.changed,h=p.validation,d="";return h&&void 0!==h.valid&&(d=h.valid?c["-valid"]:c["-invalid"]),o.a.createElement("div",{className:[c["text-area"],d].join(" ")},r&&o.a.createElement(a.a,{htmlFor:n,text:r}),o.a.createElement("textarea",{id:n,onChange:this.handleChange,pattern:i,placeholder:s,ref:function(t){return e.ref=t},required:u,value:f?this.ref.value:l||""}),h&&h.message&&o.a.createElement("div",{className:c.validation__text},h.message))}}])&&l(t.prototype,n),r&&l(t,r),s}(s.a);d.propTypes={id:i.PropTypes.string,label:i.PropTypes.string,literalErrorInvalid:i.PropTypes.string,literalErrorPattern:i.PropTypes.string,literalErrorRequired:i.PropTypes.string,onChange:i.PropTypes.func,pattern:i.PropTypes.string,placeholder:i.PropTypes.string,required:i.PropTypes.bool,validationExcludeUserId:i.PropTypes.string,value:i.PropTypes.string};t.a=d},PKFp:function(e,t,n){"use strict";var r=n("w/WF"),o=n("XR6h"),i=function(e){return Object(o.a)("/api/v1/users/".concat(e[r.t.USER_ID],"/favorite-exercise"),{headers:{"content-type":"application/json"},body:JSON.stringify(e),method:"PUT"})},a=function(e){return Object(o.a)("/api/v1/users/".concat(e[r.t.USER_ID],"/follow"),{headers:{"content-type":"application/json"},body:JSON.stringify(e),method:"PUT"})},s=function(e){return Object(o.a)("/api/v1/collections/",{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"POST"})},c=function(e){return Object(o.a)("/api/v1/collections/".concat(e[r.t.COLLECTION_ID],"/edit"),{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"PUT"})},u=function(e){var t=new FormData;for(var n in e)e[n]&&t.append(n,e[n]);return Object(o.a)("/api/v1/exercises/".concat(e[r.t.EXERCISE_ID],"/edit"),{body:t,method:"PUT"})},l=function(e){var t=new FormData;for(var n in e)void 0!==e[n]&&t.append(n,e[n]);return Object(o.a)("/api/v1/users/".concat(e[r.t.USER_ID],"/edit-profile"),{body:t,method:"PUT"})},p=n("NbER"),f=function(e){return Object(o.a)(Object(p.tb)("/api/v1/email-password-recovery",e))},h=function(e){return Object(o.a)(Object(p.tb)("/api/v1/collections/",e))},d=function(e){return Object(o.a)("/api/v1/exercises/".concat(e[r.t.EXERCISE_ID],"/comments/"))},y=function(e){return Object(o.a)(Object(p.tb)("/api/v1/exercises/",e))},b=n("LpSC"),m=n.n(b),v=n("obyI"),g=function(e){return new Promise((function(t,n){var r=v.a.URL_EXERCISES;m()("".concat(r,"/").concat(e,".mgg")).then((function(e){if(e.ok)return e.text();var t=new Error("File not found");throw t.status=404,t})).then((function(e){if(!e){var n=new Error("File not found");throw n.status=404,n}t(JSON.parse(e))})).catch((function(e){n(e)}))}))},E=function(e){return Object(o.a)("/api/v1/comment",{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(e)})},O=function(e){return Object(o.a)("/api/v1/publish-exercise",{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(e)})},P=function(e){return console.log(e),Object(o.a)("/api/v1/exercises/".concat(e[r.t.EXERCISE_ID],"/rating"),{headers:{"content-type":"application/json"},body:JSON.stringify(e),method:"PUT"})},S=function(e){if("undefined"!=typeof window){var t=window.location.href.replace(window.location.origin,"");e?window.location.href=e:t.match(/^\/(edit|editar)\/?$/i)||t.match(/^\/embed\/?$/i)||t.match(/^\/(password-recovery|recuperar-contrasena)\/?$/i)||t.match(/^\/(reset-password|restablecer-contrasena)\/?$/i)||t.match(/^\/(sign-in|iniciar-sesion)\/?$/i)||t.match(/^\/(sign-up|registrarse)\/?$/i)?window.location.href="/":window.location.reload()}},T=function(e){return Array.isArray(e)||(e=[e]),Object(o.a)("/api/v1/collections?ids=".concat(e.join(",")),{method:"DELETE"})},_=function(e){return Array.isArray(e)||(e=[e]),Object(o.a)("/api/v1/exercises?ids=".concat(e.join(",")),{method:"DELETE"})},C=function(e){return Object(o.a)("/api/v1/users/".concat(e[r.t.USER_ID],"/favorite-exercise?").concat(r.t.EXERCISE_ID,"=").concat(e[r.t.EXERCISE_ID]),{method:"DELETE"})},w=function(e){return Object(o.a)("/api/v1/users/".concat(e[r.t.USER_ID],"/follow?").concat(r.t.FOLLOWING_ID,"=").concat(e[r.t.FOLLOWING_ID]),{method:"DELETE"})},R=function(e){return Object(o.a)("/api/v1/reset-password/",{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(e)})},D=function(e){return Object(o.a)("/api/v1/sign-in/",{headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(e)})},k=function(){return Object(o.a)("/api/v1/sign-out/",{method:"DELETE"})},A=function(e){return Object(o.a)("/api/v1/sign-up/",{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"POST"})},j=function(e){return Object(o.a)(Object(p.tb)("/api/v1/users/available/",e))};n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return P})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return T})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return R})),n.d(t,"u",(function(){return D})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return A})),n.d(t,"x",(function(){return j}))},PtJS:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("NbER"),c=n("w/WF"),u=n("npbA"),l="companion-icon--a66",p=function(e){var t=e.position,n=e.rotation,r=null;switch(e.type){case c.d.ANGLE:r=o.a.createElement(o.a.Fragment,null,o.a.createElement("defs",null,o.a.createElement("rect",{id:"rect-mask",x:"0",y:"0",width:"6",height:"6"})),o.a.createElement("g",null,o.a.createElement("g",{transform:"translate(7.000000, 3.000000)"},o.a.createElement("path",{d:"M1,14 L21,14",stroke:"#00B0FF",strokeWidth:"2",strokeLinecap:"round"}),o.a.createElement("path",{d:"M-1.70710678,7.70710678 L16.2928932,7.70710678",stroke:"#00B0FF",strokeWidth:"2",strokeLinecap:"round",transform:"translate(7.292893, 7.707107) rotate(-45.000000) translate(-7.292893, -7.707107) "}),o.a.createElement("g",{transform:"translate(7.000000, 7.000000)"},o.a.createElement("mask",{id:"mask",fill:"white"},o.a.createElement("use",{xlinkHref:"#rect-mask"})),o.a.createElement("circle",{fill:"none",stroke:"#00B0FF",strokeWidth:"2",mask:"url(#mask)",cx:"-4",cy:"6",r:"7.85714286"})))));break;case c.d.PARALLEL:r=o.a.createElement("g",{transform:"translate(8.000000, 10.000000)",stroke:"#00B0FF",strokeLinecap:"round",strokeWidth:"2"},o.a.createElement("path",{d:"M0,14 L14,-2.84217094e-14"}),o.a.createElement("path",{d:"M5.5,17 L19.5,3"}));break;case c.d.PERPENDICULAR:r=o.a.createElement(o.a.Fragment,null,o.a.createElement("defs",null,o.a.createElement("rect",{id:"rect-mask",x:"0",y:"0",width:"10",height:"10"})),o.a.createElement("g",{transform:"translate(9.000000, 0.000000)"},o.a.createElement("circle",{fill:"#00B0FF",cx:"10.75",cy:"13.25",r:"1.5"}),o.a.createElement("path",{d:"M7,16.7989899 L7,0.798989873",stroke:"#00B0FF",strokeWidth:"2",strokeLinecap:"round"}),o.a.createElement("path",{d:"M0,17 L20,17",stroke:"#00B0FF",strokeWidth:"2",strokeLinecap:"round"}),o.a.createElement("g",{transform:"translate(8.000000, 6.000000)"},o.a.createElement("mask",{id:"mask",fill:"white"},o.a.createElement("use",{xlinkHref:"#rect-mask"})),o.a.createElement("circle",{fill:"none",stroke:"#00B0FF",strokeWidth:"2",mask:"url(#mask)",cx:"0",cy:"10",r:"8"}))))}return o.a.createElement("g",{className:l,transform:"translate(".concat(t.x-18," ").concat(t.y-18,")").concat(n?" rotate(".concat(n," 18 18)"):"")},r)};p.propTypes={position:a.a.vertex.isRequired,rotation:i.PropTypes.number,type:i.PropTypes.oneOf([c.d.ANGLE,c.d.PARALLEL,c.d.PERPENDICULAR])};var f=p,h=n("DZdP"),d=n("vO81"),y=function e(t){var n=t.definition,r=t.params,i=function(t){var n=t.color,r=t.degree,i=t.strokeWidth,a=t.vertex,s=e.findScale(i,e.ARROW_WIDTH);return o.a.createElement("path",{d:"M".concat(a.x,",").concat(a.y," l").concat(e.ARROW_HEIGHT*s,",").concat(e.ARROW_WIDTH/2*s," l0,-").concat(e.ARROW_WIDTH*s," z"),fill:n,stroke:n,strokeWidth:0,transform:"rotate(".concat(r,", ").concat(a.x,", ").concat(a.y,")")})},a=function(t){var n=t.color,r=t.degree,i=t.strokeWidth,a=t.vertex,s=e.findScale(i,e.SLASH_SIZE,4);return o.a.createElement("path",{d:"M".concat(a.x+e.SLASH_SIZE/2*s,",").concat(a.y-e.SLASH_SIZE/2*s," l-").concat(e.SLASH_SIZE*s,",").concat(e.SLASH_SIZE*s),stroke:n,strokeLinecap:"round",strokeWidth:i,transform:"rotate(".concat(r,", ").concat(a.x,", ").concat(a.y,")")})},c=null;"arrow"==n.start?c=i({color:r.color,degree:Object(s.p)(r.vertexA,r.vertexB),strokeWidth:r.strokeWidth,vertex:r.vertexA}):"oblique"==n.start&&(c=a({color:r.color,degree:Object(s.p)(r.vertexA,r.vertexB),strokeWidth:r.strokeWidth,vertex:r.vertexA}));var u=null;return"arrow"==n.end?u=i({color:r.color,degree:Object(s.p)(r.vertexB,r.vertexA),strokeWidth:r.strokeWidth,vertex:r.vertexB}):"oblique"==n.end&&(u=a({color:r.color,degree:Object(s.p)(r.vertexB,r.vertexA),strokeWidth:r.strokeWidth,vertex:r.vertexB})),o.a.createElement(o.a.Fragment,null,c,u)};y.propTypes={definition:i.PropTypes.shape({end:i.PropTypes.string,start:i.PropTypes.string}),params:i.PropTypes.shape({color:i.PropTypes.string,strokeWidth:i.PropTypes.number,vertexA:a.a.vertex,vertexB:a.a.vertex})},y.ARROW_HEIGHT=12,y.ARROW_WIDTH=5,y.SLASH_SIZE=8,y.findScale=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2.5;return Object(s.sb)(e>5?5:e,1,5,e,e*n/t)};var b=y,m=n("4pP5");function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,n,r,i=T(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isReferenced,n=e.isSelected,r=e.isSnapVisible,i=e.length,a=e.referenceType,l=e.strokeColor,p=e.strokeMarkerEnd,h=e.strokeMarkerStart,y=e.strokeWidth,v=e.vertexA,g=e.vertexB,E=v,O=g;if(h==c.n.ARROW){var P=b.findScale(y,b.ARROW_WIDTH);E=Object(s.J)(i-b.ARROW_HEIGHT*P,{A:g,B:v})}if(p==c.n.ARROW){var S=b.findScale(y,b.ARROW_WIDTH);O=Object(s.J)(i-b.ARROW_HEIGHT*S,{A:v,B:g})}return this.renderElement(o.a.createElement(o.a.Fragment,null,E&&O&&i>0&&o.a.createElement("line",{stroke:l,strokeDasharray:this.findStrokeDasharray(),strokeDashoffset:this.findStrokeDashoffset(),strokeLinecap:"round",strokeWidth:y,x1:E.x,x2:O.x,y1:E.y,y2:O.y}),!this.isReadOnly()&&o.a.createElement(o.a.Fragment,null,n||t?o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{className:[m.a["highlight-fill"],t?m.a["--referenced"]:""].join(" "),key:"highlight-fill",stroke:l,strokeLinecap:"round",strokeWidth:y+u.b.SELECTED_OFFSET,x1:v.x,x2:g.x,y1:v.y,y2:g.y}),o.a.createElement(f,{position:Object(s.E)(v,g),rotation:Object(s.p)(v,g),type:a})):o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{className:m.a.hit,key:"hit",stroke:l,strokeLinecap:"round",strokeWidth:Object(u.a)(y),x1:v.x,x2:g.x,y1:v.y,y2:g.y}),r&&!n&&o.a.createElement(d.a,{onSnap:this.handleSnap,vertexA:v,vertexB:g}))),(p||h)&&v&&g?o.a.createElement(b,{definition:{end:p,start:h},elementType:"line",params:{color:l,strokeWidth:y,vertexA:v,vertexB:g}}):null))}}])&&P(t.prototype,n),r&&P(t,r),a}(h.a);C.propTypes=E(E({},h.a.propTypes),{},{strokeColor:i.PropTypes.string,strokePattern:i.PropTypes.string,strokeWidth:i.PropTypes.number,ax:i.PropTypes.number,ay:i.PropTypes.number,bx:i.PropTypes.number,by:i.PropTypes.number}),C.defaultProps=E({},h.a.defaultProps);t.a=C},R5uQ:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",label:"label--184",small:"small--4c2"},s=function(e){var t=e.id,n=e.size,r=e.text;return o.a.createElement("label",{className:[a.label,n?a[n]:""].join(" "),htmlFor:t},r)};s.propTypes={id:i.PropTypes.string,size:i.PropTypes.oneOf(["small","medium","large"]),text:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.object])};t.a=s},SiHV:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"handleCurrentStepChange",(function(){return b})),n.d(r,"handleSpeedRatioChange",(function(){return m})),n.d(r,"boundaryErase",(function(){return P})),n.d(r,"eraseSelectedElements",(function(){return S})),n.d(r,"eraseElement",(function(){return T})),n.d(r,"getElementIntersections",(function(){return _})),n.d(r,"getSizeCalculatorValue",(function(){return C})),n.d(r,"handleElementClick",(function(){return w})),n.d(r,"handleElementDown",(function(){return R})),n.d(r,"handleElementUp",(function(){return D})),n.d(r,"handleLengthPick",(function(){return k})),n.d(r,"handleSnap",(function(){return A})),n.d(r,"handleTagEdit",(function(){return j})),n.d(r,"handleTagValidated",(function(){return I})),n.d(r,"moveSelectedElements",(function(){return x})),n.d(r,"setDrawingElementsData",(function(){return L})),n.d(r,"setDrawingInputLengthCheater",(function(){return N})),n.d(r,"addElement",(function(){return B})),n.d(r,"modelFactory",(function(){return U})),n.d(r,"removeElements",(function(){return W})),n.d(r,"clearToolRecipes",(function(){return nr})),n.d(r,"injectToolRecipe",(function(){return rr})),n.d(r,"areElementsReadOnly",(function(){return ho})),n.d(r,"isSnapVisible",(function(){return yo})),n.d(r,"renderElementData",(function(){return bo})),n.d(r,"renderElementReferences",(function(){return mo})),n.d(r,"renderMggElement",(function(){return vo})),n.d(r,"renderMggIntersection",(function(){return go})),n.d(r,"getCurrentSectionRef",(function(){return Eo})),n.d(r,"handleSectionChange",(function(){return Oo})),n.d(r,"boundarySelect",(function(){return To})),n.d(r,"clearSelectedElements",(function(){return _o})),n.d(r,"findElementsInBoundary",(function(){return Co})),n.d(r,"handleElementsSelectionChange",(function(){return wo})),n.d(r,"toggleElementSelect",(function(){return Ro})),n.d(r,"getStyle",(function(){return Do})),n.d(r,"setElementsStyle",(function(){return ko})),n.d(r,"handleStatementTextChange",(function(){return Ao})),n.d(r,"updateStatementText",(function(){return jo})),n.d(r,"getScale",(function(){return Io})),n.d(r,"handleWindowResize",(function(){return xo}));var o={};n.r(o),n.d(o,"findNumberOfSteps",(function(){return Ci})),n.d(o,"handleStepChange",(function(){return wi})),n.d(o,"handleTogglePlay",(function(){return Ri})),n.d(o,"handleStepEnded",(function(){return Di})),n.d(o,"handlePreviousStep",(function(){return ki})),n.d(o,"handleNextStep",(function(){return Ai})),n.d(o,"play",(function(){return ji})),n.d(o,"pause",(function(){return Ii})),n.d(o,"playPreviousStep",(function(){return xi})),n.d(o,"playNextStep",(function(){return Li}));var i=n("q1tI"),a=n.n(i),s=n("17x9"),c=n.n(s),u=n("EaJk"),l=n("aUsF"),p=n.n(l),f=n("obyI"),h=n("NbER"),d=n("w/WF"),y=n("TWa+");function b(e){return function(t){var n=e.props,r=n.id;(0,n.onCurrentStepChange)({currentStep:t,pageId:r})}}function m(e){return function(t){var n=e.props,r=n.id;(0,n.onSpeedRatioChange)({pageId:r,speedRatio:t})}}var v=n("eTXk");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return function(t,n){e.controller.removeElements(e.controller.findElementsInBoundary(t,n))}}function S(e){return function(){var t=e.props.selectedElementIds;e.controller.removeElements(t)}}function T(e){return function(t,n){var r=e.props.mggPage;n!==d.j.EDIT_STATEMENT&&-1!==r[d.q.STATEMENT].elements.indexOf(t)||e.controller.removeElements([t])}}function _(e){return function(t){return e.props.mggPage.elements[t].intersections||[]}}function C(e){return function(){return e.props.sizeCalculatorValue}}function w(e){return function(t,n){t.preventDefault(),t.stopPropagation(),e.toolRecipe&&e.toolRecipe.handleElementClick&&e.toolRecipe.handleElementClick(t,n)}}function R(e){return function(t,n){t.preventDefault(),t.stopPropagation(),e.toolRecipe&&e.toolRecipe.handleElementDown&&e.toolRecipe.handleElementDown(t,n)}}function D(e){return function(t,n){t.preventDefault(),t.stopPropagation(),e.toolRecipe&&e.toolRecipe.handleElementUp&&e.toolRecipe.handleElementUp(t,n)}}function k(e){return function(t){e.props.onLengthPick(t)}}function A(e){return function(t,n){e.toolRecipe&&e.toolRecipe.handleSnap&&e.toolRecipe.handleSnap(n.position,E(E({},Object(v.c)(n.type)),{},{reference:n.id}))}}function j(e){return function(t){var n=e.props,r=n.id;(0,n.onTagEdit)({pageId:r,tagId:t})}}function I(e){return function(t){var n=t.delta,r=t.htmlText,o=t.tagId,i=e.props,a=i.id,s=i.onTagValidated,c=i.selectedTool;s({delta:n,htmlText:r,pageId:a,tagId:o}),c==d.y.TAG&&e.toolRecipe.start()}}function x(e){return function(t){var n=e.props,r=n.id;(0,n.onSelectedElementsMove)({pageId:r,vector:t})}}function L(e){return function(t){t&&!Array.isArray(t)&&(t=[t]),e.setState({drawingElementsData:t})}}function N(e){return function(t){var n=e.props.sizeCalculatorValue,r={x:0,y:0};(t.value||n)&&(r={x:t.x,y:t.y}),e.setState({inputLength:t?E(E({},r),{},{value:t.value}):{}})}}var M=n("BkRI"),F=n.n(M);n("rye4");function B(e){return function(t){var n=t.elementData,r=t.pageSection;if(n){var o=e.props,i=o.id,a=o.onElementAdded,s=e.controller.getCurrentSectionRef(),c=0;s&&s.getCurrentStep&&(c=s.getCurrentStep(),s.setCurrentStep(c+1)),a({currentStep:c,elementData:n,pageId:i,pageSection:r})}}}function U(e){var t=this;return function(e,n){if(!e)return null;switch(e.type){case"arc":return{center:n.vertices[e.center],degreeA:e.degreeA,degreeB:e.degreeB,direction:e.direction,radius:e.radius,type:e.type,vertexA:n.vertices[e.vertexA],vertexB:n.vertices[e.vertexB]};case"circle":return{center:n.vertices[e.center],radius:e.radius,type:e.type};case"curve":return{anchors:e.anchors.map((function(e){return n.vertices[e]})),type:e.type};case"fill":return{anchors:e.anchors.map((function(e){return n.vertices[e]})),paths:e.paths.map((function(e){return t.modelFactory(n.elements[e],n)})),type:e.type};case"line":return{type:e.type,vertexA:n.vertices[e.vertexA],vertexB:n.vertices[e.vertexB]};case"point":return{position:n.vertices[e.position],type:e.type};case"tag":return{position:n.vertices[e.position],rotation:e.rotation,type:e.type}}return null}}function W(e){return function(t){var n=e.props,r=n.id;(0,n.onElementRemoved)({elementIds:t,pageId:r})}}var V=n("npbA");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.canvas,r=t.controller,o=t.pageSection;this.canvas=n,this.controller=r,this.currentStepHandler=null,this.mouseX=null,this.mouseY=null,this.pageSection=o,this.restrictions={},this.handleElementClick=this.handleElementClick.bind(this),this.handleElementUp=this.handleElementUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}var t,n,r;return t=e,n=[{key:"start",value:function(){this.currentStepHandler=null,this.mouseX=null,this.mouseY=null,this.restrictions={},document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("mousemove",this.handleMouseMove)}},{key:"handleKeyDown",value:function(e){}},{key:"handleKeyUp",value:function(e){}},{key:"handleMouseMove",value:function(e){this.mouseX=e.clientX,this.mouseY=e.clientY}},{key:"handleElementDown",value:function(e,t){if(this.currentStepHandler){var n=this.findMouseVertex(e);this.currentStepHandler(null,Object(h.I)(n,t.element))}}},{key:"handleElementUp",value:function(e,t){if(this.currentStepHandler){var n=this.findMouseVertex(e);this.currentStepHandler(null,Object(h.I)(n,t.element))}}},{key:"handleElementClick",value:function(e,t){}},{key:"handleSnap",value:function(e,t){this.currentStepHandler&&this.currentStepHandler(null,e,t)}},{key:"findMouseVertex",value:function(e,t){return t||(t=Object(h.mb)(Object(h.M)(e,this.canvas.getRef()),1/this.controller.getScale())),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)}},{key:"addRestriction",value:function(e,t){this.restrictions||(this.restrictions={}),this.restrictions[e]=t}},{key:"globalDegreeEnabled",value:function(e){this.addRestriction("globalDegreeEnabled",e)}},{key:"removeEventListeners",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("mousemove",this.handleMouseMove)}},{key:"escape",value:function(){this.removeEventListeners(),this.start()}},{key:"destroy",value:function(){this.removeEventListeners(),this.canvas=null,this.controller=null,this.currentStepHandler=null,this.mouseX=null,this.mouseY=null,this.pageSection=null,this.restrictions=null}}],n&&z(t.prototype,n),r&&z(t,r),e}(),K=q;function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Q(e,t,n||e)}function ee(e,t){return ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=Array(24).fill().map((function(e,t){return 15*t})),oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(i,e);var t,n,r,o=te(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).constraints=null,t.elementData=null,t.guides={},t}return t=i,(n=[{key:"start",value:function(){Q(ne(i.prototype),"start",this).call(this),this.constraints=[],this.guides={},this.clearInputLength()}},{key:"handleKeyDown",value:function(e){switch(e.key){case"Shift":this.globalDegreeEnabled(!0);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case".":this.addInputLengthCharacter(e.key);break;case"Backspace":this.inputLengthCharacterDelete();break;case"Enter":this.applyInputLength()}}},{key:"handleKeyUp",value:function(e){"Shift"===e.key&&this.globalDegreeEnabled(!1)}},{key:"handleMouseMove",value:function(e){Q(ne(i.prototype),"handleMouseMove",this).call(this,e),this.updateLengthCheater()}},{key:"applyGlobalRestrictions",value:function(e,t){var n=t=J(J({},this.restrictions),t),r=n.circle,o=n.degrees,i=n.globalDegreeEnabled,a=n.line,s=n.vector,c=n.vertex,u=null;if(Object(h.ab)(a)?e=Object(h.K)(e,a):Object(h.Z)(r)?e=Object(h.H)(e,r.radius,r.center):Object(h.bb)(s)&&Object(h.bb)(c)?e=Object(h.K)(e,{A:c,B:Object(h.a)(c,s)}):Array.isArray(o)&&o.length&&Object(h.bb)(c)?u=o:i&&Object(h.bb)(c)&&(u=re),u){var l=Object(h.p)(c,e),p=Object(h.m)(l,u),f=Object(h.O)(p);e=Object(h.K)(e,{A:c,B:Object(h.a)(c,f)})}return e}},{key:"findMouseVertex",value:function(e,t,n){return t||(t=Object(h.mb)(Object(h.M)(e,this.canvas.getRef()),1/this.controller.getScale())),J({},t=this.applyGlobalRestrictions(t,n))}},{key:"addInputLengthCharacter",value:function(e){this.inputLength.length>=6||"."==e&&-1!=this.inputLength.indexOf(".")||(this.inputLength+=e,this.updateLengthCheater())}},{key:"inputLengthCharacterDelete",value:function(){this.inputLength.length&&(this.inputLength=this.inputLength.substring(0,this.inputLength.length-1)),this.updateLengthCheater()}},{key:"applyInputLength",value:function(){var e=this.inputLength||this.controller.getSizeCalculatorValue();if(e){var t=Object(h.eb)(parseFloat(e));isNaN(t)||null===t||t==1/0||this.setLength(t)}this.clearInputLength()}},{key:"setLength",value:function(e){}},{key:"updateLengthCheater",value:function(){this.controller.setDrawingInputLengthCheater({value:this.inputLength,x:this.mouseX,y:this.mouseY})}},{key:"clearInputLength",value:function(){this.inputLength="",this.updateLengthCheater()}},{key:"addConstraint",value:function(e,t){e&&(this.constraints||(this.constraints=[]),e=J({},e),t&&(e.dependant=t),t&&this.constraints.some((function(e){return e.dependant==t}))?this.constraints=this.constraints.map((function(n){return n.dependant==t?e:n})):this.constraints.push(e),this.elementData.constraints=this.constraints)}},{key:"removeConstraint",value:function(e){this.constraints=this.constraints.filter((function(t){return t.dependant!=e})),this.elementData.constraints=this.constraints}},{key:"setGuide",value:function(e,t,n,r){return this.guides||(this.guides={}),this.guides[t]?this.guides[t]=J(J({},this.guides[t]),n):this.guides[t]=Object(v.a)(e,J(J({},n),{},{id:Object(h.S)("drawing-".concat(t,"-ref"))}),J(J({},Object(v.b)(e)),r)),this.guides[t]}},{key:"getGuide",value:function(e){return this.guides&&this.guides[e]}},{key:"getStyle",value:function(){return J(J({},this.controller.getStyle()),{},{rank:d.u.TEMPORARY})}},{key:"end",value:function(){this.clearInputLength()}},{key:"destroy",value:function(){this.removeEventListeners(),this.constraints=null,this.elementData=null,this.guides=null,this.clearInputLength(),Q(ne(i.prototype),"destroy",this).call(this)}}])&&$(t.prototype,n),r&&$(t,r),i}(K);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=be(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},fe(e,t,n||e)}function he(e,t){return he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},he(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;return ye(e)}(this,n)}}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(i,e);var t,n,r,o=de(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleMouseDownCenter=t.handleMouseDownCenter.bind(ye(t)),t.handleMouseMoveCenter=t.handleMouseMoveCenter.bind(ye(t)),t.handleMouseUpCenter=t.handleMouseUpCenter.bind(ye(t)),t.handleMouseMoveRadius=t.handleMouseMoveRadius.bind(ye(t)),t.handleMouseDownA=t.handleMouseDownA.bind(ye(t)),t.handleMouseMoveA=t.handleMouseMoveA.bind(ye(t)),t.handleMouseUpA=t.handleMouseUpA.bind(ye(t)),t.handleMouseMoveDraw=t.handleMouseMoveDraw.bind(ye(t)),t.handleMouseDownB=t.handleMouseDownB.bind(ye(t)),t.handleMouseMoveB=t.handleMouseMoveB.bind(ye(t)),t.handleMouseUpB=t.handleMouseUpB.bind(ye(t)),t.start(),t}return t=i,(n=[{key:"start",value:function(){fe(be(i.prototype),"start",this).call(this),this.currentStepHandler=this.handleMouseDownCenter,this.elementData=Object(v.a)(d.i.ARC,{id:Object(h.S)("drawing-arc")},this.getStyle()),this.controller.setDrawingElementsData(null),this.canvas.addListener("mousedown",this.handleMouseDownCenter)}},{key:"handleMouseDownCenter",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpCenter,this.canvas.removeListener("mousedown",this.handleMouseDownCenter),document.addEventListener("mousemove",this.handleMouseMoveCenter),this.canvas.addListener("mouseup",this.handleMouseUpCenter);var r=this.findMouseVertex(e,t);this.elementData.center=r,this.elementData.centerRef=r,this.addConstraint(n,"centerRef"),this.addRestriction("vertex",r),this.setGuide(d.i.POINT_REF,"centerGuidePoint",{position:r})}},{key:"handleMouseMoveCenter",value:function(e){var t=this.findMouseVertex(e);this.elementData.center=t,Object(h.r)(this.elementData.centerRef,t)>=V.b.DRAWING_REF_MIN_DISTANCE&&this.controller.setDrawingElementsData([this.setGuide(d.i.LINE_REF,"centerGuideLine",{vertexA:this.elementData.centerRef,vertexB:t}),this.getGuide("centerGuidePoint")])}},{key:"handleMouseUpCenter",value:function(e,t,n){this.currentStepHandler=this.handleMouseDownA,document.removeEventListener("mousemove",this.handleMouseMoveCenter),this.canvas.removeListener("mouseup",this.handleMouseUpCenter),document.addEventListener("mousemove",this.handleMouseMoveRadius),this.canvas.addListener("mousedown",this.handleMouseDownA);var r=this.findMouseVertex(e,t),o=Object(h.r)(r,this.elementData.center),i=[];o>=V.b.ELEMENT_MIN_ALLOWED_SIZE&&i.push(this.setGuide(d.i.CIRCLE_REF,"radiusGuideCircle",{center:r,radius:o})),this.elementData.center=r,this.elementData.radius=o,this.elementData.vertexA=r,this.addConstraint(n,"center"),this.controller.setDrawingElementsData(i)}},{key:"handleMouseMoveRadius",value:function(e){var t=this.findMouseVertex(e),n=Object(h.r)(this.elementData.center,t),r=[];n>=V.b.ELEMENT_MIN_ALLOWED_SIZE&&r.push(this.setGuide(d.i.CIRCLE_REF,"radiusGuideCircle",{center:this.elementData.center,radius:n})),this.elementData.radius=n,this.elementData.vertexA=t,this.controller.setDrawingElementsData(r)}},{key:"handleMouseDownA",value:function(e,t,n){var r=this.findMouseVertex(e,t),o=Object(h.r)(this.elementData.center,r);o>=V.b.ELEMENT_MIN_ALLOWED_SIZE?(this.currentStepHandler=this.handleMouseUpA,document.removeEventListener("mousemove",this.handleMouseMoveRadius),this.canvas.removeListener("mousedown",this.handleMouseDownA),document.addEventListener("mousemove",this.handleMouseMoveA),this.canvas.addListener("mouseup",this.handleMouseUpA),this.elementData.radius=o,this.elementData.vertexA=r,this.elementData.vertexARef=r,this.addConstraint(n,"vertexARef"),this.addRestriction("circle",{center:this.elementData.center,radius:o}),this.controller.setDrawingElementsData(this.setGuide(d.i.POINT_REF,"vertexAGuidePoint",{position:r}))):this.escape()}},{key:"handleMouseMoveA",value:function(e){var t=this.findMouseVertex(e),n=[];if(Object(h.r)(this.elementData.vertexARef,t)>=V.b.DRAWING_REF_MIN_DISTANCE){var r=Object(h.p)(this.elementData.center,this.elementData.vertexARef),o=Object(h.p)(this.elementData.center,t);(Object(h.h)(r,o)<=5||!this.elementData.direction)&&(this.elementData.direction=Object(h.j)(r,o)),n.push(this.setGuide(d.i.ARC_REF,"vertexAGuideArc",{center:this.elementData.center,degreeA:r,degreeB:o,direction:this.elementData.direction,radius:this.elementData.radius})),n.push(this.getGuide("vertexAGuidePoint"))}this.elementData.vertexA=t,this.controller.setDrawingElementsData(n)}},{key:"handleMouseUpA",value:function(e,t,n){this.currentStepHandler=this.handleMouseDownB,document.removeEventListener("mousemove",this.handleMouseMoveA),this.canvas.removeListener("mouseup",this.handleMouseUpA),document.addEventListener("mousemove",this.handleMouseMoveDraw),this.canvas.addListener("mousedown",this.handleMouseDownB);var r=this.findMouseVertex(e,t),o=Object(h.p)(this.elementData.center,r);this.elementData.degreeA=o,this.elementData.degreeB=o,this.elementData.vertexA=r,this.elementData.style=this.getStyle(),this.addConstraint(n,"degreeA"),this.controller.setDrawingElementsData(this.elementData)}},{key:"handleMouseMoveDraw",value:function(e){var t=this.findMouseVertex(e),n=Object(h.p)(this.elementData.center,t);this.elementData.degreeB=n,(Object(h.h)(this.elementData.degreeA,n)<=5||!this.elementData.direction)&&(this.elementData.direction=Object(h.j)(this.elementData.degreeA,n)),this.elementData.style=this.getStyle(),this.controller.setDrawingElementsData(this.elementData)}},{key:"handleMouseDownB",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpB,document.removeEventListener("mousemove",this.handleMouseMoveDraw),this.canvas.removeListener("mousedown",this.handleMouseDownB),document.addEventListener("mousemove",this.handleMouseMoveB),this.canvas.addListener("mouseup",this.handleMouseUpB);var r=this.findMouseVertex(e,t),o=Object(h.p)(this.elementData.center,r);this.elementData.vertexBRef=r,this.addConstraint(n,"degreeBRef"),this.setGuide(d.i.POINT_REF,"vertexBGuidePoint",{position:r}),this.setGuide(d.i.ARC_REF,"vertexBGuideArc",{center:ue({},this.elementData.center),degreeA:this.elementData.degreeA,degreeB:o,direction:Object(h.j)(this.elementData.degreeA,o),radius:this.elementData.radius})}},{key:"handleMouseMoveB",value:function(e){var t=this.findMouseVertex(e),n=Object(h.p)(this.elementData.center,t),r=Object(h.p)(this.elementData.center,this.elementData.vertexBRef),o=[];if(Object(h.r)(this.elementData.vertexBRef,t)>=V.b.DRAWING_REF_MIN_DISTANCE){var i=this.getGuide("vertexBGuideArc");(Object(h.h)(this.elementData.degreeA,r)<=5||!this.elementData.direction)&&(i.direction=Object(h.j)(this.elementData.degreeA,r)),o.push(i),o.push(this.getGuide("vertexBGuidePoint"))}this.elementData.degreeB=n,(Object(h.h)(this.elementData.degreeA,n)<=5||!this.elementData.direction)&&(this.elementData.direction=Object(h.j)(this.elementData.degreeA,n)),this.elementData.style=this.getStyle(),this.elementData.vertexB=t,o.push(this.elementData),this.controller.setDrawingElementsData(o)}},{key:"handleMouseUpB",value:function(e,t,n){this.currentStepHandler=null,this.removeEventListeners();var r=this.findMouseVertex(e,t),o=Object(h.p)(this.elementData.center,r);this.elementData.degreeB=o,(Object(h.h)(this.elementData.degreeA,o)<=5||!this.elementData.direction)&&(this.elementData.direction=Object(h.j)(this.elementData.degreeA,o)),this.elementData.vertexB=r,this.addConstraint(n,"degreeB"),this.controller.addElement({elementData:this.cleanUp(),pageSection:this.pageSection}),this.controller.setDrawingElementsData(null),fe(be(i.prototype),"end",this).call(this),this.start()}},{key:"cleanUp",value:function(){var e=this.elementData,t=e.center,n=e.centerRef,r=e.radius,o=e.vertexA,i=e.vertexARef,a=e.vertexB,s=e.vertexBRef;return r<V.b.ELEMENT_MIN_ALLOWED_SIZE||Object(h.r)(o,a)<V.b.ELEMENT_MIN_ALLOWED_SIZE?null:(Object(h.r)(t,n)<V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.centerRef=null,this.removeConstraint("centerRef")),Object(h.r)(o,i)<V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.vertexARef=null,this.removeConstraint("vertexARef")),Object(h.r)(a,s)<V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.vertexBRef=null,this.removeConstraint("vertexBRef")),this.elementData.constraints=this.constraints&&this.constraints.length?ae(this.constraints):null,this.elementData.style=F()(this.controller.getStyle()),this.elementData)}},{key:"setLength",value:function(e){var t=this.elementData,n=t.center,r=(t.centerRef,t.vertexA),o=t.vertexARef,i=null,a=null,s=null;n&&r&&!o&&(i=n,a=r,s=this.handleMouseDownA),i&&a&&!Object(h.b)(i,a)&&s&&s(null,Object(h.J)(e,{A:i,B:a}),ue(ue({},Object(v.c)(d.d.INPUT_LENGTH,e)),{},{length:e}))}},{key:"removeEventListeners",value:function(){fe(be(i.prototype),"removeEventListeners",this).call(this),this.canvas.removeListener("mousedown",this.handleMouseDownCenter),document.removeEventListener("mousemove",this.handleMouseMoveCenter),this.canvas.removeListener("mouseup",this.handleMouseUpCenter),document.removeEventListener("mousemove",this.handleMouseMoveRadius),this.canvas.removeListener("mousedown",this.handleMouseDownA),document.removeEventListener("mousemove",this.handleMouseMoveA),this.canvas.removeListener("mouseup",this.handleMouseUpA),document.removeEventListener("mousemove",this.handleMouseMoveDraw),this.canvas.removeListener("mousedown",this.handleMouseDownB),document.removeEventListener("mousemove",this.handleMouseMoveB),this.canvas.removeListener("mouseup",this.handleMouseUpB)}},{key:"destroy",value:function(){this.removeEventListeners(),fe(be(i.prototype),"destroy",this).call(this)}}])&&pe(t.prototype,n),r&&pe(t,r),i}(oe);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return _e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},_e(e,t,n||e)}function Ce(e,t){return Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ce(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ve(t)||"function"==typeof t))return t;return Re(e)}(this,n)}}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,e);var t,n,r,o=we(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleMouseDownCenter=t.handleMouseDownCenter.bind(Re(t)),t.handleMouseMoveCenter=t.handleMouseMoveCenter.bind(Re(t)),t.handleMouseUpCenter=t.handleMouseUpCenter.bind(Re(t)),t.handleMouseMoveDraw=t.handleMouseMoveDraw.bind(Re(t)),t.handleMouseDownRadius=t.handleMouseDownRadius.bind(Re(t)),t.handleMouseMoveRadius=t.handleMouseMoveRadius.bind(Re(t)),t.handleMouseUpRadius=t.handleMouseUpRadius.bind(Re(t)),t.start(),t}return t=i,(n=[{key:"start",value:function(){_e(De(i.prototype),"start",this).call(this),this.currentStepHandler=this.handleMouseDownCenter,this.elementData=Object(v.a)(d.i.CIRCLE,{id:Object(h.S)("drawing-circle")},this.getStyle()),this.controller.setDrawingElementsData(null),this.canvas.addListener("mousedown",this.handleMouseDownCenter)}},{key:"handleMouseDownCenter",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpCenter,this.canvas.removeListener("mousedown",this.handleMouseDownCenter),document.addEventListener("mousemove",this.handleMouseMoveCenter),this.canvas.addListener("mouseup",this.handleMouseUpCenter);var r=this.findMouseVertex(e,t);this.elementData.center=r,this.elementData.centerRef=r,this.addConstraint(n,"centerRef"),this.addRestriction("vertex",r),this.setGuide(d.i.POINT_REF,"centerGuidePoint",{position:r})}},{key:"handleMouseMoveCenter",value:function(e){var t=this.findMouseVertex(e),n=this.getGuide("centerGuidePoint");this.elementData.center=t,Object(h.r)(n.position,t)>=V.b.DRAWING_REF_MIN_DISTANCE&&this.controller.setDrawingElementsData([this.setGuide(d.i.LINE_REF,"centerGuideLine",{vertexA:n.position,vertexB:t}),n])}},{key:"handleMouseUpCenter",value:function(e,t,n){this.currentStepHandler=this.handleMouseDownRadius,document.removeEventListener("mousemove",this.handleMouseMoveCenter),this.canvas.removeListener("mouseup",this.handleMouseUpCenter),document.addEventListener("mousemove",this.handleMouseMoveDraw),document.addEventListener("mousedown",this.handleMouseDownRadius);var r=this.findMouseVertex(e,t),o=Object(h.r)(r,this.elementData.center);this.elementData.center=r,this.elementData.radius=o,this.elementData.radiusVertex=r,this.elementData.style=this.getStyle(),this.addConstraint(n,"center"),this.controller.setDrawingElementsData(this.elementData)}},{key:"handleMouseMoveDraw",value:function(e){var t=this.findMouseVertex(e);this.elementData.radius=Object(h.r)(this.elementData.center,t),this.elementData.radiusVertex=t,this.elementData.style=this.getStyle(),this.controller.setDrawingElementsData(this.elementData)}},{key:"handleMouseDownRadius",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpRadius,document.removeEventListener("mousemove",this.handleMouseMoveDraw),document.removeEventListener("mousedown",this.handleMouseDownRadius),document.addEventListener("mousemove",this.handleMouseMoveRadius),document.addEventListener("mouseup",this.handleMouseUpRadius);var r=this.findMouseVertex(e,t);this.elementData.radiusRef=Object(h.r)(this.elementData.center,r),this.elementData.radiusVertex=r,this.elementData.radiusVertexRef=r,this.addConstraint(n,"radiusRef"),this.setGuide(d.i.CIRCLE_REF,"radiusGuideCircle",{center:this.elementData.center,radius:Object(h.r)(this.elementData.center,r)}),this.setGuide(d.i.POINT_REF,"radiusGuidePoint",{position:r})}},{key:"handleMouseMoveRadius",value:function(e){var t=this.findMouseVertex(e),n=[];Math.abs(this.elementData.radiusRef-this.elementData.radius)>=V.b.DRAWING_REF_MIN_DISTANCE&&(n.push(this.getGuide("radiusGuideCircle")),n.push(this.getGuide("radiusGuidePoint"))),this.elementData.radius=Object(h.r)(this.elementData.center,t),this.elementData.style=this.getStyle(),n.push(this.elementData),this.controller.setDrawingElementsData(n)}},{key:"handleMouseUpRadius",value:function(e,t,n){this.currentStepHandler=null,this.removeEventListeners();var r=this.findMouseVertex(e,t),o=Object(h.r)(this.elementData.center,r);o>=V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.radius=o,this.addConstraint(n,"radius"),this.controller.addElement({elementData:this.cleanUp(),pageSection:this.pageSection})),this.controller.setDrawingElementsData(null),_e(De(i.prototype),"end",this).call(this),this.start()}},{key:"cleanUp",value:function(){var e=this.elementData,t=e.center,n=e.centerRef,r=e.radius,o=e.radiusRef;return r<V.b.ELEMENT_MIN_ALLOWED_SIZE?null:(Object(h.r)(t,n)<V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.centerRef=null,this.removeConstraint("centerRef")),(!o||Math.abs(o-r)<V.b.DRAWING_REF_MIN_DISTANCE)&&(this.elementData.radiusRef=null,this.elementData.radiusVertexRef=null,this.removeConstraint("radiusRef")),this.elementData.constraints=this.constraints&&this.constraints.length?Pe(this.constraints):null,this.elementData.style=F()(this.controller.getStyle()),this.elementData)}},{key:"setLength",value:function(e){var t=this.elementData,n=t.center,r=t.centerRef,o=t.radiusVertex,i=t.radiusVertexRef,a=null,s=null,c=null;n&&i?(a=i,s=n,c=this.handleMouseUpRadius):n&&o?(a=n,s=o,c=this.handleMouseUpRadius):r&&n&&(a=r,s=n,c=this.handleMouseUpCenter),a&&s&&!Object(h.b)(a,s)&&c&&c(null,Object(h.J)(e,{A:a,B:s}),Ee(Ee({},Object(v.c)(d.d.INPUT_LENGTH,e)),{},{length:e}))}},{key:"removeEventListeners",value:function(){_e(De(i.prototype),"removeEventListeners",this).call(this),this.canvas.removeListener("mousedown",this.handleMouseDownCenter),document.removeEventListener("mousemove",this.handleMouseMoveCenter),this.canvas.removeListener("mouseup",this.handleMouseUpCenter),document.removeEventListener("mousemove",this.handleMouseMoveDraw),document.removeEventListener("mousedown",this.handleMouseDownRadius),document.removeEventListener("mousemove",this.handleMouseMoveRadius),document.removeEventListener("mouseup",this.handleMouseUpRadius)}},{key:"destroy",value:function(){this.removeEventListeners(),_e(De(i.prototype),"destroy",this).call(this)}}])&&Te(t.prototype,n),r&&Te(t,r),i}(oe);function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t,n){return Le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Be(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Le(e,t,n||e)}function Ne(e,t){return Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ne(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var o=Be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;return Fe(e)}(this,n)}}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(i,e);var t,n,r,o=Me(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleClick=t.handleClick.bind(Fe(t)),t.handleMouseDownA=t.handleMouseDownA.bind(Fe(t)),t.handleMouseMoveB=t.handleMouseMoveB.bind(Fe(t)),t.handleMouseUpB=t.handleMouseUpB.bind(Fe(t)),t.start(),t}return t=i,n=[{key:"start",value:function(){Le(Be(i.prototype),"start",this).call(this),this.downA=null,this.controller.setDrawingElementsData(null),this.canvas.addListener("click",this.handleClick),this.canvas.addListener("mousedown",this.handleMouseDownA)}},{key:"handleMouseDownA",value:function(e){this.canvas.removeListener("mousedown",this.handleMouseDownA),document.addEventListener("mousemove",this.handleMouseMoveB),document.addEventListener("mouseup",this.handleMouseUpB),this.downA=this.findMouseVertex(e),this.rectRef=Object(v.a)(d.i.RECT_REF,{id:Object(h.S)("drawing-rect")}),this.rectRef.height=0,this.rectRef.position=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.downA),this.rectRef.width=0,this.controller.setDrawingElementsData(this.rectRef)}},{key:"handleMouseMoveB",value:function(e){this.updateRect(this.findMouseVertex(e)),this.controller.setDrawingElementsData(this.rectRef)}},{key:"handleMouseUpB",value:function(e){this.removeEventListeners(),this.controller.setDrawingElementsData(null),this.updateRect(this.findMouseVertex(e)),this.rectRef.width>=1&&this.rectRef.height>=1&&this.controller.boundarySelect(this.rectRef,this.pageSection),this.start()}},{key:"updateRect",value:function(e){var t=Math.max(this.downA.x,e.x),n=Math.max(this.downA.y,e.y);this.rectRef.position={x:Math.min(this.downA.x,e.x),y:Math.min(this.downA.y,e.y)},this.rectRef.height=n-this.rectRef.position.y,this.rectRef.width=t-this.rectRef.position.x}},{key:"handleClick",value:function(e){this.rectRef.width<1&&this.rectRef.height<1&&this.controller.clearSelectedElements()}},{key:"handleElementClick",value:function(e,t){this.controller.toggleElementSelect(t.element.id,this.pageSection)}},{key:"handleKeyDown",value:function(e){}},{key:"removeEventListeners",value:function(){Le(Be(i.prototype),"removeEventListeners",this).call(this),this.canvas.removeListener("click",this.handleClick),this.canvas.removeListener("mousedown",this.handleMouseDownA),document.removeEventListener("mousemove",this.handleMouseMoveB),document.removeEventListener("mouseup",this.handleMouseUpB)}},{key:"destroy",value:function(){this.removeEventListeners(),Le(Be(i.prototype),"destroy",this).call(this)}}],n&&xe(t.prototype,n),r&&xe(t,r),i}(K),We=Ue;function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ge(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Je(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},qe(e,t,n||e)}function Ke(e,t){return Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ke(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;return Ye(e)}(this,n)}}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(i,e);var t,n,r,o=Xe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleBackspace=t.handleBackspace.bind(Ye(t)),t.handleEnter=t.handleEnter.bind(Ye(t)),t.handleMouseDownP=t.handleMouseDownP.bind(Ye(t)),t.handleMouseUpP=t.handleMouseUpP.bind(Ye(t)),t.start(),t}return t=i,(n=[{key:"start",value:function(){qe(Je(i.prototype),"start",this).call(this),this.anchorGuides=[],this.currentStepHandler=this.handleMouseDownP,this.elementData=Object(v.a)(d.i.CURVE,{id:Object(h.S)("drawing-curve")},this.getStyle()),this.controller.setDrawingElementsData(null),this.canvas.addListener("mousedown",this.handleMouseDownP)}},{key:"handleMouseDownP",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpP,this.canvas.removeListener("mousedown",this.handleMouseDownP),this.canvas.addListener("mouseup",this.handleMouseUpP)}},{key:"handleMouseUpP",value:function(e,t,n){this.currentStepHandler=this.handleMouseDownP,this.canvas.removeListener("mouseup",this.handleMouseUpP),this.canvas.addListener("mousedown",this.handleMouseDownP);var r=this.findMouseVertex(e,t),o=this.elementData.anchors;(!o.length||Object(h.r)(o[o.length-1],r)>=V.b.DRAWING_REF_MIN_DISTANCE)&&(this.elementData.anchors.push(r),o=this.elementData.anchors,this.anchorGuides.push(this.setGuide(d.i.POINT_REF,"anchorGuidePoint_".concat(o.length-1),{position:r},{rank:1===o.length?d.u.AUXILIAR:d.u.TEMPORARY})),1===o.length||Object(h.r)(r,o[0])>=V.b.DRAWING_REF_MIN_DISTANCE?(this.addConstraint(n,o.length-1),this.controller.setDrawingElementsData([this.elementData].concat(Ge(this.anchorGuides)))):this.handleEnter())}},{key:"handleKeyDown",value:function(e){switch(e.key){case"Backspace":this.handleBackspace();break;case"Enter":this.handleEnter()}}},{key:"handleBackspace",value:function(){var e=this;this.elementData.constraints=this.elementData.constraints.filter((function(t){return t!==e.elementData.anchors.length-1})),this.elementData.anchors.pop(),this.anchorGuides.pop(),this.controller.setDrawingElementsData([this.elementData].concat(Ge(this.anchorGuides)))}},{key:"handleEnter",value:function(){this.currentStepHandler=null,this.removeEventListeners(),this.controller.addElement({elementData:this.cleanUp(),pageSection:this.pageSection}),this.controller.setDrawingElementsData(null),qe(Je(i.prototype),"end",this).call(this),this.start()}},{key:"cleanUp",value:function(){for(var e=this,t=this.elementData.anchors,n=[],r=function(r,o){0===r||Object(h.r)(t[r-1],t[r])>=V.b.DRAWING_REF_MIN_DISTANCE?n.push(t[r]):e.elementData.constraints=e.elementData.constraints.filter((function(e){return e.dependant!==r}))},o=0,i=t.length;o<i;o++)r(o);return this.elementData.anchors=n,this.elementData.constraints=this.constraints&&this.constraints.length?Ge(this.constraints):null,this.elementData.style=F()(this.controller.getStyle()),this.elementData}},{key:"removeEventListeners",value:function(){qe(Je(i.prototype),"removeEventListeners",this).call(this),this.canvas.removeListener("mousedown",this.handleMouseDownP),this.canvas.removeListener("mouseup",this.handleMouseUpP)}},{key:"destroy",value:function(){this.removeEventListeners(),qe(Je(i.prototype),"destroy",this).call(this)}}])&&ze(t.prototype,n),r&&ze(t,r),i}(oe);function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===$e(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nt(e)}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(i,e);var t,n,r,o=tt(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"handleMouseUpB",value:function(e){this.removeEventListeners(),this.controller.setDrawingElementsData(null),this.updateRect(this.findMouseVertex(e)),this.rectRef.width>=1&&this.rectRef.height>=1&&this.controller.boundaryErase(this.rectRef,this.pageSection),this.start()}},{key:"handleClick",value:function(e){}},{key:"handleElementClick",value:function(e,t){this.controller.eraseElement(t.element.id,this.pageSection)}}])&&Qe(t.prototype,n),r&&Qe(t,r),i}(We);function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t,n){return pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},pt(e,t,n||e)}function ft(e,t){return ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ft(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;return dt(e)}(this,n)}}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(i,e);var t,n,r,o=ht(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleBackspace=t.handleBackspace.bind(dt(t)),t.handleElementUp=t.handleElementUp.bind(dt(t)),t.handleEnter=t.handleEnter.bind(dt(t)),t.handleMouseDownP=t.handleMouseDownP.bind(dt(t)),t.handleMouseMoveP=t.handleMouseMoveP.bind(dt(t)),t.handleMouseUpP=t.handleMouseUpP.bind(dt(t)),t.start(),t}return t=i,(n=[{key:"start",value:function(){pt(yt(i.prototype),"start",this).call(this),this.anchorGuides=[],this.currentStepHandler=this.handleMouseDownP,this.index=0,this.elementData=Object(v.a)(d.i.FILL,{id:Object(h.S)("drawing-fill")},this.getStyle()),this.controller.setDrawingElementsData(null),this.canvas.addListener("mousedown",this.handleMouseDownP)}},{key:"handleMouseDownP",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpP,this.canvas.removeListener("mousedown",this.handleMouseDownP),document.addEventListener("mousemove",this.handleMouseMoveP),this.canvas.addListener("mouseup",this.handleMouseUpP),this.handleMouseMoveP(e,t,n)}},{key:"handleMouseMoveP",value:function(e,t,n){var r=this.findMouseVertex(e,t);if(0==this.index||Object(h.r)(this.elementData.anchors[this.index-1],r)>=V.b.DRAWING_REF_MIN_DISTANCE){if(this.elementData.style=this.getStyle(),this.elementData.anchors[this.index]=r,this.index>0)if(this.elementData.paths[this.index-1]&&this.elementData.paths[this.index-1].type!=d.i.LINE){var o=this.elementData.paths[this.index-1];if(o.type===d.i.ARC){var i=this.getGuide("pathGuide");if(i){var a=Object(h.I)(r,i);this.elementData.anchors[this.index]=a,o.degreeA=Object(h.p)(o.center,o.vertexA),o.degreeB=Object(h.p)(o.center,a),o.vertexB=a,(0===o.direction||Object(h.h)(o.degreeA,o.degreeB)<=4)&&(o.direction=Object(h.j)(o.degreeA,o.degreeB)),this.elementData.paths[this.index-1]=o}}}else this.elementData.paths[this.index-1]=Object(v.a)(d.i.LINE,{id:Object(h.S)("drawing-fill-path-line"),vertexA:this.elementData.anchors[this.index-1],vertexB:r});this.controller.setDrawingElementsData([this.elementData].concat(ct(this.anchorGuides)))}}},{key:"handleElementUp",value:function(e,t){if(this.index>0){var n=Object(h.I)(this.elementData.anchors[this.index-1],t.element);if(n){var r=Object(h.I)(this.findMouseVertex(e),t.element),o=null;t.element.type==d.i.ARC||t.element.type==d.i.CIRCLE?((o=Object(v.a)(d.i.ARC,at(at({},t.element),{},{degreeA:Object(h.p)(t.element.center,n),degreeB:Object(h.p)(t.element.center,r),direction:0,id:Object(h.S)("drawing-fill-path-".concat(t.element.type)),type:d.i.ARC,vertexA:n,vertexB:null}))).direction=Object(h.j)(o.degreeA,o.degreeB),this.setGuide(t.element.type==d.i.CIRCLE?d.i.CIRCLE_REF:d.i.ARC_REF,"pathGuide",at({},t.element))):(t.element.type,d.i.LINE),o?(this.elementData.paths[this.index]=o,this.handleMouseUpP(null,n)):this.handleMouseUpP(null,r)}}else document.addEventListener("mousemove",this.handleMouseMoveP),this.handleMouseUpP(null,Object(h.I)(this.findMouseVertex(e),t.element))}},{key:"handleMouseUpP",value:function(e,t,n){this.currentStepHandler=this.handleMouseDownP,this.canvas.removeListener("mouseup",this.handleMouseUpP),this.canvas.addListener("mousedown",this.handleMouseDownP);var r=this.findMouseVertex(e,t);this.elementData.style=this.getStyle(),this.elementData.anchors[this.index]=r,this.anchorGuides.push(this.setGuide(d.i.POINT_REF,"anchorGuidePoint_".concat(this.elementData.anchors.length-1),{position:r},{rank:d.u.AUXILIAR})),this.index<=1||Object(h.r)(r,this.elementData.anchors[0])>=V.b.DRAWING_REF_MIN_DISTANCE?(this.index>0&&(!this.elementData.paths[this.index-1]||this.elementData.paths[this.index-1].type==d.i.LINE)?this.elementData.paths[this.index-1]=Object(v.a)(d.i.LINE,{id:Object(h.S)("drawing-fill-path-line"),vertexA:this.elementData.anchors[this.index-1],vertexB:r}):this.index>0&&this.elementData.paths[this.index-1].type==d.i.ARC&&this.getGuide("pathGuide")&&this.getGuide("pathGuide").type==d.i.CIRCLE&&Object(h.r)(r,this.elementData.paths[this.index-1].vertexA)<V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.paths[this.index-1]=Object(v.a)(d.i.CIRCLE,at(at({},this.elementData.paths[this.index-1]),{},{type:d.i.CIRCLE}))),this.addConstraint(n,this.elementData.anchors.length-1),this.controller.setDrawingElementsData([this.elementData].concat(ct(this.anchorGuides))),this.index++):this.end()}},{key:"handleKeyDown",value:function(e){switch(e.key){case"Backspace":this.handleBackspace();break;case"Enter":this.handleEnter()}}},{key:"handleBackspace",value:function(){var e=this;this.elementData.constraints=this.elementData.constraints.filter((function(t){return t!==e.elementData.anchors.length-1})),this.elementData.anchors.pop(),this.elementData.paths.pop(),this.anchorGuides.pop(),this.index--,this.controller.setDrawingElementsData([this.elementData].concat(ct(this.anchorGuides)))}},{key:"handleEnter",value:function(){this.handleBackspace(),this.end()}},{key:"end",value:function(){this.currentStepHandler=null,this.removeEventListeners(),this.controller.addElement({elementData:this.cleanUp(),pageSection:this.pageSection}),this.controller.setDrawingElementsData(null),pt(yt(i.prototype),"end",this).call(this),this.start()}},{key:"cleanUp",value:function(){return this.elementData.constraints=this.constraints&&this.constraints.length?ct(this.constraints):null,this.elementData.style=F()(this.controller.getStyle()),this.elementData}},{key:"removeEventListeners",value:function(){pt(yt(i.prototype),"removeEventListeners",this).call(this),document.removeEventListener("mousemove",this.handleMouseMoveP),this.canvas.removeListener("mousedown",this.handleMouseDownP),this.canvas.removeListener("mouseup",this.handleMouseUpP)}},{key:"destroy",value:function(){this.removeEventListeners(),pt(yt(i.prototype),"destroy",this).call(this)}}])&&lt(t.prototype,n),r&&lt(t,r),i}(oe);function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gt(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(i,e);var t,n,r,o=Et(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"handleElementClick",value:function(e,t){var n=t.element,r=0;switch(n.type){case d.i.ARC:r=Object(h.k)(n);break;case d.i.CIRCLE:r=n.radius;break;case d.i.CURVE:case d.i.FILL:break;case d.i.LINE:r=Object(h.r)(n.vertexA,n.vertexB);break;case d.i.TAG:var o=Number(n.text);isNaN(o)||o==1/0||(r=o)}r&&this.controller.handleLengthPick(r)}}])&&vt(t.prototype,n),r&&vt(t,r),i}(K),St="icon--de6",Tt=function(e){var t=e.position,n=e.rotation;return a.a.createElement("div",{className:St,style:{left:"".concat(t.x,"px"),top:"".concat(t.y,"px"),transform:"rotate(".concat(n,"deg)")}},a.a.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 36 36"},a.a.createElement("defs",null,a.a.createElement("rect",{id:"rect-mask",x:"0",y:"0",width:"6",height:"6"})),a.a.createElement("g",null,a.a.createElement("g",{transform:"translate(7.000000, 3.000000)"},a.a.createElement("path",{d:"M1,14 L21,14",stroke:"#00B0FF",strokeWidth:"2",strokeLinecap:"round"}),a.a.createElement("path",{d:"M-1.70710678,7.70710678 L16.2928932,7.70710678",stroke:"#00B0FF",strokeWidth:"2",strokeLinecap:"round",transform:"translate(7.292893, 7.707107) rotate(-45.000000) translate(-7.292893, -7.707107) "}),a.a.createElement("g",{transform:"translate(7.000000, 7.000000)"},a.a.createElement("mask",{id:"mask",fill:"white"},a.a.createElement("use",{xlinkHref:"#rect-mask"})),a.a.createElement("circle",{fill:"none",stroke:"#00B0FF",strokeWidth:"2",mask:"url(#mask)",cx:"-4",cy:"6",r:"7.85714286"}))))))};Tt.propTypes={position:u.a.vertex.isRequired,rotation:s.PropTypes.number};function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t,n){return jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},jt(e,t,n||e)}function It(e,t){return It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},It(e,t)}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===_t(t)||"function"==typeof t))return t;return Lt(e)}(this,n)}}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(i,e);var t,n,r,o=xt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleMouseDownA=t.handleMouseDownA.bind(Lt(t)),t.handleMouseMoveA=t.handleMouseMoveA.bind(Lt(t)),t.handleMouseUpA=t.handleMouseUpA.bind(Lt(t)),t.handleMouseMoveDraw=t.handleMouseMoveDraw.bind(Lt(t)),t.handleMouseDownB=t.handleMouseDownB.bind(Lt(t)),t.handleMouseMoveB=t.handleMouseMoveB.bind(Lt(t)),t.handleMouseUpB=t.handleMouseUpB.bind(Lt(t)),t.start(),t}return t=i,(n=[{key:"start",value:function(){jt(Nt(i.prototype),"start",this).call(this),this.currentStepHandler=this.handleMouseDownA,this.companions=[],this.elementData=Object(v.a)(d.i.LINE,{id:Object(h.S)("drawing-line")},this.getStyle()),this.clearDrawingElementsData(),this.canvas.addListener("mousedown",this.handleMouseDownA)}},{key:"handleMouseDownA",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpA,this.canvas.removeListener("mousedown",this.handleMouseDownA),document.addEventListener("mousemove",this.handleMouseMoveA),this.canvas.addListener("mouseup",this.handleMouseUpA);var r=this.findMouseVertex(e,t);this.elementData.vertexA=r,this.elementData.vertexARef=r,this.addConstraint(n,"vertexARef"),this.addRestriction("vertex",r),this.setGuide(d.i.POINT_REF,"vertexAGuidePoint",{position:r})}},{key:"handleMouseMoveA",value:function(e){var t=this.findMouseVertex(e);this.elementData.vertexA=t,Object(h.r)(this.elementData.vertexARef,t)>=V.b.DRAWING_REF_MIN_DISTANCE&&this.setDrawingElementsData([this.setGuide(d.i.LINE_REF,"vertexAGuideLine",{vertexA:this.elementData.vertexARef,vertexB:t}),this.getGuide("vertexAGuidePoint")])}},{key:"handleMouseUpA",value:function(e,t,n){this.currentStepHandler=this.handleMouseDownB,document.removeEventListener("mousemove",this.handleMouseMoveA),this.canvas.removeListener("mouseup",this.handleMouseUpA),document.addEventListener("mousemove",this.handleMouseMoveDraw),this.canvas.addListener("mousedown",this.handleMouseDownB);var r=this.findMouseVertex(e,t),o=[];if(this.addConstraint(n,"vertexA"),this.addRestriction("vertex",r),Object(h.r)(this.elementData.vertexARef,r)>=V.b.DRAWING_REF_MIN_DISTANCE){var i=Object(h.p)(this.elementData.vertexARef,r);this.addRestriction("vertexARefMinDegree",Object(h.pb)(i-90)),this.addRestriction("vertexARefMaxDegree",Object(h.pb)(i+90)),o.push(this.setGuide(d.i.POINT_REF,"vertexAGuidePoint",{position:this.elementData.vertexARef})),o.push(this.setGuide(d.i.LINE_REF,"vertexAGuideLine",{vertexA:this.elementData.vertexARef,vertexB:r}))}else this.removeConstraint("vertexARef");this.elementData.vertexA=r,this.elementData.vertexB=r,this.elementData.style=this.getStyle(),o.push(this.elementData),this.setDrawingElementsData(o)}},{key:"handleMouseMoveDraw",value:function(e){var t=this.findMouseVertex(e),n=[],r=this.elementData.vertexA;if(this.restrictions.vertexARefMinDegree&&this.restrictions.vertexARefMaxDegree&&!Object(h.bb)(this.restrictions.vector)){var o=this.elementData.vertexARef,i=t;i=Object(h.W)(Object(h.p)(o,t),this.restrictions.vertexARefMinDegree,this.restrictions.vertexARefMaxDegree)?t:Object(h.L)(t,o),r=Object(h.H)(i,Object(h.r)(o,this.elementData.vertexA),o),n.push(this.setGuide(d.i.LINE_REF,"vertexAGuideLine",{vertexA:o,vertexB:r})),n.push(this.getGuide("vertexAGuidePoint"))}this.elementData.vertexA=r,this.elementData.vertexB=t,this.elementData.style=this.getStyle(),n.push(this.elementData),this.setDrawingElementsData(n)}},{key:"handleMouseDownB",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpB,document.removeEventListener("mousemove",this.handleMouseMoveDraw),this.canvas.removeListener("mousedown",this.handleMouseDownB),document.addEventListener("mousemove",this.handleMouseMoveB),this.canvas.addListener("mouseup",this.handleMouseUpB);var r=this.findMouseVertex(e,t),o=this.elementData.vertexA;if(this.restrictions.vertexARefMinDegree&&this.restrictions.vertexARefMaxDegree&&!Object(h.bb)(this.restrictions.vector)){var i=this.elementData.vertexARef,a=r;a=Object(h.W)(Object(h.p)(i,r),this.restrictions.vertexARefMinDegree,this.restrictions.vertexARefMaxDegree)?r:Object(h.L)(r,i),o=Object(h.H)(a,Object(h.r)(i,this.elementData.vertexA),i)}this.elementData.vertexA=o,this.elementData.vertexB=r,this.elementData.vertexBRef=r,this.addConstraint(n,"vertexBRef"),this.addRestriction("line",{A:this.elementData.vertexA,B:r}),this.setGuide(d.i.POINT_REF,"vertexBGuidePoint",{position:r})}},{key:"handleMouseMoveB",value:function(e){var t=this.findMouseVertex(e),n=[];Object(h.r)(this.elementData.vertexBRef,t)>=V.b.DRAWING_REF_MIN_DISTANCE&&(n.push(this.setGuide(d.i.LINE_REF,"vertexBGuideLine",{vertexA:this.elementData.vertexBRef,vertexB:t})),n.push(this.getGuide("vertexBGuidePoint"))),this.elementData.vertexB=t,this.elementData.style=this.getStyle(),n.push(this.elementData),this.setDrawingElementsData(n)}},{key:"handleMouseUpB",value:function(e,t,n){this.currentStepHandler=null,this.removeEventListeners();var r=this.findMouseVertex(e,t);Object(h.r)(this.elementData.vertexA,r)>=V.b.DRAWING_REF_MIN_DISTANCE?(this.elementData.vertexB=r,this.addConstraint(n,"vertexB"),this.controller.addElement({elementData:this.cleanUp(),pageSection:this.pageSection})):this.removeConstraint("vertexBRef"),this.clearDrawingElementsData(),jt(Nt(i.prototype),"end",this).call(this),this.start()}},{key:"cleanUp",value:function(){var e=this.elementData,t=e.vertexA,n=e.vertexARef,r=e.vertexB,o=e.vertexBRef;return Object(h.r)(t,r)<V.b.ELEMENT_MIN_ALLOWED_SIZE?null:(Object(h.r)(n,t)<V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.vertexARef=null,this.removeConstraint("vertexARef")),(!o||Object(h.r)(o,r)<V.b.DRAWING_REF_MIN_DISTANCE)&&(this.elementData.vertexBRef=null,this.removeConstraint("vertexBRef")),this.elementData.constraints=this.constraints&&this.constraints.length?Dt(this.constraints):null,this.elementData.style=F()(this.controller.getStyle()),this.elementData)}},{key:"setDrawingElementsData",value:function(e){this.controller.setDrawingElementsData(e)}},{key:"clearDrawingElementsData",value:function(){this.controller.setDrawingElementsData(null)}},{key:"setLength",value:function(e){var t=this.elementData,n=t.vertexA,r=t.vertexARef,o=t.vertexB,i=t.vertexBRef,a=null,s=null,c=null;n&&i&&o||n&&o?(a=n,s=o,c=this.handleMouseUpB):r&&n&&(a=r,s=n,c=this.handleMouseUpA),a&&s&&!Object(h.b)(a,s)&&c&&c(null,Object(h.J)(e,{A:a,B:s}),wt(wt({},Object(v.c)(d.d.INPUT_LENGTH,e)),{},{length:e}))}},{key:"removeEventListeners",value:function(){jt(Nt(i.prototype),"removeEventListeners",this).call(this),this.canvas.removeListener("mousedown",this.handleMouseDownA),document.removeEventListener("mousemove",this.handleMouseMoveA),this.canvas.removeListener("mouseup",this.handleMouseUpA),document.removeEventListener("mousemove",this.handleMouseMoveDraw),this.canvas.removeListener("mousedown",this.handleMouseDownB),document.removeEventListener("mousemove",this.handleMouseMoveB),this.canvas.removeListener("mouseup",this.handleMouseUpB)}},{key:"destroy",value:function(){this.removeEventListeners(),jt(Nt(i.prototype),"destroy",this).call(this)}}])&&At(t.prototype,n),r&&At(t,r),i}(oe);function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return Gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Gt(e,t,n||e)}function Ht(e,t){return Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ht(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qt(e);if(t){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ft(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}var Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(i,e);var t,n,r,o=zt(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"start",value:function(){Gt(qt(i.prototype),"start",this).call(this),this.currentStepHandler=null,this.elementData.character=d.m.ANGLE,this.canvas.removeListener("mousedown",this.handleMouseDownA)}},{key:"handleElementDown",value:function(e,t){this.restrictions&&this.restrictions.vector&&Gt(qt(i.prototype),"handleElementDown",this).call(this,e,t)}},{key:"handleElementUp",value:function(e,t){this.restrictions&&this.restrictions.vector&&Gt(qt(i.prototype),"handleElementDown",this).call(this,e,t)}},{key:"handleElementClick",value:function(e,t){if(!this.restrictions||!this.restrictions.vector){var n=t.element,r=n.type,o=n.vertexA,i=n.vertexB;if(r===d.i.LINE){var a=Object(h.p)(o,i);this.addRestriction("degrees",Array(24).fill().map((function(e,t){return Object(h.pb)(15*t+a)})).sort((function(e,t){return e-t}))),this.addConstraint(Ut(Ut({},Object(v.c)(d.d.ANGLE)),{},{reference:t.element.id})),this.currentStepHandler=this.handleMouseDownA,this.canvas.addListener("mousedown",this.handleMouseDownA),this.setDrawingElementsData([this.elementData])}}}}])&&Vt(t.prototype,n),r&&Vt(t,r),i}(Mt),Xt="icon--f81",Yt=function(e){var t=e.position,n=e.rotation;return a.a.createElement("div",{className:Xt,style:{left:"".concat(t.x,"px"),top:"".concat(t.y,"px"),transform:"rotate(".concat(n,"deg)")}},a.a.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 36 36"},a.a.createElement("g",{transform:"translate(8.000000, 10.000000)",stroke:"#00B0FF",strokeLinecap:"round",strokeWidth:"2"},a.a.createElement("path",{d:"M0,14 L14,-2.84217094e-14"}),a.a.createElement("path",{d:"M5.5,17 L19.5,3"}))))};Yt.propTypes={position:u.a.vertex.isRequired,rotation:s.PropTypes.number};function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t,n){return tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=on(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},tn(e,t,n||e)}function nn(e,t){return nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nn(e,t)}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=on(e);if(t){var o=on(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Jt(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function on(e){return on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},on(e)}var an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(i,e);var t,n,r,o=rn(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"start",value:function(){tn(on(i.prototype),"start",this).call(this),this.currentStepHandler=null,this.elementData.character=d.m.PARALLEL,this.canvas.removeListener("mousedown",this.handleMouseDownA)}},{key:"handleElementDown",value:function(e,t){this.restrictions&&this.restrictions.vector&&tn(on(i.prototype),"handleElementDown",this).call(this,e,t)}},{key:"handleElementUp",value:function(e,t){this.restrictions&&this.restrictions.vector&&tn(on(i.prototype),"handleElementDown",this).call(this,e,t)}},{key:"handleElementClick",value:function(e,t){if(!this.restrictions||!this.restrictions.vector){var n=t.element,r=n.type,o=n.vertexA,i=n.vertexB;r===d.i.LINE&&(this.addRestriction("vector",Object(h.Q)(Object(h.N)(o,i))),this.addConstraint($t($t({},Object(v.c)(d.d.PARALLEL)),{},{reference:t.element.id})),this.currentStepHandler=this.handleMouseDownA,this.canvas.addListener("mousedown",this.handleMouseDownA),this.setDrawingElementsData([this.elementData]))}}}])&&en(t.prototype,n),r&&en(t,r),i}(Mt),sn="icon--68a",cn=function(e){var t=e.position,n=e.rotation;return a.a.createElement("div",{className:sn,style:{left:"".concat(t.x,"px"),top:"".concat(t.y,"px"),transform:"rotate(".concat(n,"deg)")}},a.a.createElement("svg",{width:"36px",height:"36px",viewBox:"0 0 36 36"},a.a.createElement("defs",null,a.a.createElement("rect",{id:"rect-mask",x:"0",y:"0",width:"10",height:"10"})),a.a.createElement("g",{transform:"translate(9.000000, 0.000000)"},a.a.createElement("circle",{fill:"#00B0FF",cx:"10.75",cy:"13.25",r:"1.5"}),a.a.createElement("path",{d:"M7,16.7989899 L7,0.798989873",stroke:"#00B0FF",strokeWidth:"2",strokeLinecap:"round"}),a.a.createElement("path",{d:"M0,17 L20,17",stroke:"#00B0FF",strokeWidth:"2",strokeLinecap:"round"}),a.a.createElement("g",{transform:"translate(8.000000, 6.000000)"},a.a.createElement("mask",{id:"mask",fill:"white"},a.a.createElement("use",{xlinkHref:"#rect-mask"})),a.a.createElement("circle",{fill:"none",stroke:"#00B0FF",strokeWidth:"2",mask:"url(#mask)",cx:"0",cy:"10",r:"8"})))))};cn.propTypes={position:u.a.vertex.isRequired,rotation:s.PropTypes.number};function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t,n){return dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},dn(e,t,n||e)}function yn(e,t){return yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yn(e,t)}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn(e);if(t){var o=mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function mn(e){return mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mn(e)}var vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(i,e);var t,n,r,o=bn(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"start",value:function(){dn(mn(i.prototype),"start",this).call(this),this.currentStepHandler=null,this.elementData.character=d.m.PERPENDICULAR,this.canvas.removeListener("mousedown",this.handleMouseDownA)}},{key:"handleElementDown",value:function(e,t){this.restrictions&&this.restrictions.vector&&dn(mn(i.prototype),"handleElementDown",this).call(this,e,t)}},{key:"handleElementUp",value:function(e,t){this.restrictions&&this.restrictions.vector&&dn(mn(i.prototype),"handleElementDown",this).call(this,e,t)}},{key:"handleElementClick",value:function(e,t){if(!this.restrictions||!this.restrictions.vector){var n=t.element,r=n.type,o=n.vertexA,i=n.vertexB;r===d.i.LINE&&(this.addRestriction("vector",Object(h.Q)(Object(h.P)(Object(h.N)(o,i)))),this.addConstraint(pn(pn({},Object(v.c)(d.d.PERPENDICULAR)),{},{reference:t.element.id})),this.currentStepHandler=this.handleMouseDownA,this.canvas.addListener("mousedown",this.handleMouseDownA),this.setDrawingElementsData([this.elementData]))}}}])&&hn(t.prototype,n),r&&hn(t,r),i}(Mt);function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t,n){return Sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Sn(e,t,n||e)}function Tn(e,t){return Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tn(e,t)}function _n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===gn(t)||"function"==typeof t))return t;return Cn(e)}(this,n)}}function Cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}var Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(i,e);var t,n,r,o=_n(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleClick=t.handleClick.bind(Cn(t)),t.handleMouseDownA=t.handleMouseDownA.bind(Cn(t)),t.handleMouseMoveB=t.handleMouseMoveB.bind(Cn(t)),t.handleMouseUpB=t.handleMouseUpB.bind(Cn(t)),t.start(),t}return t=i,n=[{key:"start",value:function(){Sn(wn(i.prototype),"start",this).call(this),this.vertexA=null,this.canvas.addListener("mousedown",this.handleMouseDownA)}},{key:"handleMouseDownA",value:function(e){this.canvas.removeListener("mousedown",this.handleMouseDownA),document.addEventListener("mousemove",this.handleMouseMoveB),document.addEventListener("mouseup",this.handleMouseUpB),this.canvas.addListener("mouseup",this.handleClick),this.vertexA=this.findMouseVertex(e)}},{key:"handleMouseMoveB",value:function(e){this.canvas.removeListener("mouseup",this.handleClick);var t=this.findMouseVertex(e);this.controller.moveSelectedElements(Object(h.N)(this.vertexA,t)),this.vertexA=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){On(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)}},{key:"handleMouseUpB",value:function(e){this.removeEventListeners(),this.start()}},{key:"handleKeyDown",value:function(e){var t=e.shiftKey?10:1,n=null;switch(e.key){case"ArrowLeft":n={x:-t,y:0};break;case"ArrowRight":n={x:t,y:0};break;case"ArrowUp":n={x:0,y:-t};break;case"ArrowDown":n={x:0,y:t}}n&&this.controller.moveSelectedElements(n)}},{key:"handleClick",value:function(e){this.controller.clearSelectedElements()}},{key:"handleElementClick",value:function(e,t){this.controller.toggleElementSelect(t.element.id,this.pageSection)}},{key:"removeEventListeners",value:function(){Sn(wn(i.prototype),"removeEventListeners",this).call(this),this.canvas.removeListener("mouseup",this.handleClick),this.canvas.removeListener("mousedown",this.handleMouseDownA),document.removeEventListener("mousemove",this.handleMouseMoveB),document.removeEventListener("mouseup",this.handleMouseUpB)}},{key:"destroy",value:function(){this.vertexA=null,this.removeEventListeners(),Sn(wn(i.prototype),"destroy",this).call(this)}}],n&&Pn(t.prototype,n),r&&Pn(t,r),i}(K),Dn=Rn;function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e){return function(e){if(Array.isArray(e))return Ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ln(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){return Mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Mn(e,t,n||e)}function Fn(e,t){return Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fn(e,t)}function Bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wn(e);if(t){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===kn(t)||"function"==typeof t))return t;return Un(e)}(this,n)}}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e){return Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wn(e)}var Vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(i,e);var t,n,r,o=Bn(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleMouseDownCenter=t.handleMouseDownCenter.bind(Un(t)),t.handleMouseMoveCenter=t.handleMouseMoveCenter.bind(Un(t)),t.handleMouseUpCenter=t.handleMouseUpCenter.bind(Un(t)),t.start(),t}return t=i,(n=[{key:"start",value:function(){Mn(Wn(i.prototype),"start",this).call(this),this.currentStepHandler=this.handleMouseDownCenter,this.elementData=Object(v.a)(d.i.POINT,{id:Object(h.S)("drawing-point")},this.getStyle()),this.controller.setDrawingElementsData(null),this.canvas.addListener("mousedown",this.handleMouseDownCenter)}},{key:"handleMouseDownCenter",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpCenter,this.canvas.removeListener("mousedown",this.handleMouseDownCenter),document.addEventListener("mousemove",this.handleMouseMoveCenter),this.canvas.addListener("mouseup",this.handleMouseUpCenter);var r=this.findMouseVertex(e,t);this.addConstraint(n,"positionRef"),this.addRestriction("vertex",r),this.setGuide(d.i.POINT_REF,"positionGuidePoint",{position:r}),this.elementData.position=r,this.elementData.positionRef=r,this.elementData.style=this.getStyle(),this.controller.setDrawingElementsData(this.elementData)}},{key:"handleMouseMoveCenter",value:function(e){var t=this.findMouseVertex(e),n=[];Object(h.r)(this.elementData.positionRef,t)>=V.b.DRAWING_REF_MIN_DISTANCE&&(n.push(this.setGuide(d.i.LINE_REF,"positionLineGuide",{vertexA:this.elementData.positionRef,vertexB:t})),n.push(this.getGuide("positionGuidePoint"))),this.elementData.position=t,this.elementData.style=this.getStyle(),n.push(this.elementData),this.controller.setDrawingElementsData(n)}},{key:"handleMouseUpCenter",value:function(e,t,n){this.currentStepHandler=null,this.removeEventListeners();var r=this.findMouseVertex(e,t);this.elementData.position=r,this.addConstraint(n,"position"),this.controller.addElement({elementData:this.cleanUp(),pageSection:this.pageSection}),this.controller.setDrawingElementsData(null),Mn(Wn(i.prototype),"end",this).call(this),this.start()}},{key:"cleanUp",value:function(){var e=this.elementData,t=e.position,n=e.positionRef;return Object(h.r)(t,n)<V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.positionRef=null,this.removeConstraint("positionRef")),this.elementData.constraints=this.constraints&&this.constraints.length?xn(this.constraints):null,this.elementData.style=F()(this.controller.getStyle()),this.elementData}},{key:"setLength",value:function(e){var t=this.elementData,n=t.position,r=t.positionRef;if(r&&n&&!Object(h.b)(n,r)){var o=Object(h.J)(e,{A:r,B:n});this.handleMouseUpCenter(null,o,jn(jn({},Object(v.c)(d.d.INPUT_LENGTH,e)),{},{length:e}))}}},{key:"removeEventListeners",value:function(){Mn(Wn(i.prototype),"removeEventListeners",this).call(this),this.canvas.removeListener("mousedown",this.handleMouseDownCenter),document.removeEventListener("mousemove",this.handleMouseMoveCenter),this.canvas.removeListener("mouseup",this.handleMouseUpCenter)}},{key:"destroy",value:function(){this.removeEventListeners(),Mn(Wn(i.prototype),"destroy",this).call(this)}}])&&Nn(t.prototype,n),r&&Nn(t,r),i}(oe);function Gn(e){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(e)}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t,n){return Jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=er(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Jn(e,t,n||e)}function Zn(e,t){return Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zn(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=er(e);if(t){var o=er(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Gn(t)||"function"==typeof t))return t;return Qn(e)}(this,n)}}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}var tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(i,e);var t,n,r,o=$n(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleElementDown=t.handleElementDown.bind(Qn(t)),t.handleMouseDownPosition=t.handleMouseDownPosition.bind(Qn(t)),t.handleMouseMovePosition=t.handleMouseMovePosition.bind(Qn(t)),t.handleMouseUpCenter=t.handleMouseUpCenter.bind(Qn(t)),t.start(),t}return t=i,(n=[{key:"start",value:function(){Jn(er(i.prototype),"start",this).call(this),this.currentStepHandler=this.handleMouseDownPosition,this.referenceRank=null,this.referenceStrokeColor=null,this.elementData=Object(v.a)(d.i.TAG,{id:Object(h.S)("drawing-tag")},this.getStyle()),this.controller.setDrawingElementsData(null),this.canvas.addListener("mousedown",this.handleMouseDownPosition)}},{key:"handleElementDown",value:function(e,t){if(this.currentStepHandler==this.handleMouseDownPosition){var n=t.element.type;if(n==d.i.ARC||n==d.i.CIRCLE||n==d.i.CURVE||n==d.i.FILL||n==d.i.LINE||n==d.i.POINT){var r=t.element,o=r.rank,i=r.strokeColor;this.referenceRank=o,this.referenceStrokeColor=i;var a=0;switch(n){case d.i.LINE:var s=t.element,c=s.vertexA,u=s.vertexB;a=Object(h.p)(c,u);break;case d.i.ARC:case d.i.CIRCLE:var l=t.element.center,p=this.findMouseVertex(e);a=Object(h.pb)(Object(h.p)(l,p)+90)}a>=90&&a<270&&(a+=180),this.elementData.rotation=a,this.currentStepHandler(e)}}}},{key:"handleMouseDownPosition",value:function(e,t,n){this.currentStepHandler=this.handleMouseUpCenter,this.canvas.removeListener("mousedown",this.handleMouseDownPosition),document.addEventListener("mousemove",this.handleMouseMovePosition),this.canvas.addListener("mouseup",this.handleMouseUpCenter);var r=this.findMouseVertex(e,t);this.addConstraint(n,"positionRef"),this.addRestriction("vertex",r),this.setGuide(d.i.POINT_REF,"positionGuidePoint",{position:r}),this.elementData.position=r,this.elementData.positionRef=r,this.elementData.style=this.getStyle(),this.controller.setDrawingElementsData(this.elementData)}},{key:"handleMouseMovePosition",value:function(e){var t=this.findMouseVertex(e),n=[];Object(h.r)(this.elementData.positionRef,t)>=V.b.DRAWING_REF_MIN_DISTANCE&&(n.push(this.setGuide(d.i.LINE_REF,"positionLineGuide",{vertexA:this.elementData.positionRef,vertexB:t})),n.push(this.getGuide("positionGuidePoint"))),this.elementData.position=t,n.push(this.elementData),this.controller.setDrawingElementsData(n)}},{key:"handleMouseUpCenter",value:function(e,t,n){this.currentStepHandler=null,this.removeEventListeners();var r=this.findMouseVertex(e,t);this.elementData.position=r,this.elementData.readOnly=!1,this.addConstraint(n,"position"),this.controller.addElement({elementData:this.cleanUp(),pageSection:this.pageSection}),this.controller.setDrawingElementsData(null),Jn(er(i.prototype),"end",this).call(this)}},{key:"cleanUp",value:function(){var e=this.elementData,t=e.position,n=e.positionRef;Object(h.r)(t,n)<V.b.DRAWING_REF_MIN_DISTANCE&&(this.elementData.positionRef=null,this.removeConstraint("positionRef")),this.elementData.constraints=this.constraints&&this.constraints.length?Kn(this.constraints):null;var r=F()(this.controller.getStyle());return this.referenceRank&&(r.rank=this.referenceRank),this.referenceStrokeColor&&(r.strokeColor=this.referenceStrokeColor),this.elementData.style=r,this.referenceRank=null,this.elementData}},{key:"setLength",value:function(e){var t=this.elementData,n=t.position,r=t.positionRef;if(r&&n&&!Object(h.b)(n,r)){var o=Object(h.J)(e,{A:r,B:n});this.handleMouseUpCenter(null,o,zn(zn({},Object(v.c)(d.d.INPUT_LENGTH,e)),{},{length:e}))}}},{key:"removeEventListeners",value:function(){Jn(er(i.prototype),"removeEventListeners",this).call(this),this.canvas.removeListener("mousedown",this.handleMouseDownPosition),document.removeEventListener("mousemove",this.handleMouseMovePosition),this.canvas.removeListener("mouseup",this.handleMouseUpCenter)}},{key:"destroy",value:function(){this.currentStepHandler=null,this.referenceRank=null,this.referenceStrokeColor=null,this.removeEventListeners(),Jn(er(i.prototype),"destroy",this).call(this)}}])&&Yn(t.prototype,n),r&&Yn(t,r),i}(oe);function nr(e){return function(){e.toolRecipe&&e.toolRecipe.destroy(),e.toolRecipe=null}}function rr(e){return function(t,n){var r=e.controller,o=e.props,i=o.selectedTool,a={canvas:t,controller:r,pageSection:n,style:o.elementStyle};switch(r.clearToolRecipes(),i){case d.y.ARC:e.toolRecipe=new me(a);break;case d.y.CIRCLE:e.toolRecipe=new ke(a);break;case d.y.CURSOR:e.toolRecipe=new We(a);break;case d.y.CURVE:e.toolRecipe=new Ze(a);break;case d.y.ERASER:e.toolRecipe=new rt(a);break;case d.y.FILL:e.toolRecipe=new bt(a);break;case d.y.LENGTH_PICKER:e.toolRecipe=new Pt(a);break;case d.y.LINE:e.toolRecipe=new Mt(a);break;case d.y.LINE_ANGLE:e.toolRecipe=new Kt(a);break;case d.y.LINE_PARALLEL:e.toolRecipe=new an(a);break;case d.y.LINE_PERPENDICULAR:e.toolRecipe=new vn(a);break;case d.y.MOVE:e.toolRecipe=new Dn(a);break;case d.y.POINT:e.toolRecipe=new Vn(a);break;case d.y.TAG:e.toolRecipe=new tr(a)}}}var or=n("snU8"),ir=(n("4Ybz"),n("JqSt"),n("M2tK")),ar=(n("VYgm"),n("PtJS")),sr=(n("vO81"),n("+vhf")),cr=(n("Lpqj"),n("YQ8f")),ur=n("YLdI"),lr=n("fE1x");function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){return br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},br(e,t)}function mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gr(e);if(t){var o=gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===pr(t)||"function"==typeof t))return t;return vr(e)}(this,n)}}function vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gr(e){return gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gr(e)}var Er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}(i,e);var t,n,r,o=mr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleSnap=t.handleSnap.bind(vr(t)),t}return t=i,(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.position,o=n.rotation;return e.position.x!=r.x||e.position.y!=r.y||e.rotation!=o}},{key:"handleSnap",value:function(e,t){var n=this.props,r=n.id;(0,n.onSnap)(e,hr(hr({},t),{},{id:r}))}},{key:"render",value:function(){var e=this.props,t=e.index,n=e.position,r=e.rotation;return a.a.createElement(lr.a,{index:t,onSnap:this.handleSnap,position:n,rotation:r,type:d.v.SNAP_INTERSECTION})}}])&&yr(t.prototype,n),r&&yr(t,r),i}(a.a.Component);Er.propTypes={id:s.PropTypes.string,index:s.PropTypes.number,onSnap:s.PropTypes.func,position:u.a.vertex,rotation:s.PropTypes.number},Er.defaultProps={onSnap:function(){return null}};var Or=Er;function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tr(e,t)}function _r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cr(e);if(t){var o=Cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Pr(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Cr(e){return Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cr(e)}var wr=1e3/90,Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}(i,e);var t,n,r,o=_r(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).prevTimestamp=void 0,t.state={progress:0},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoplay,n=e.elementLength,r=(e.scale,e.speedRatio),o=n/(.8*(void 0===r?1:r));this.speed=1/o,t&&this.play()}},{key:"play",value:function(){var e=this,t=0;window.requestAnimationFrame((function n(){var r=window.performance.now();if(!e.prevTimestamp||r-e.prevTimestamp>=wr){var o=e.prevTimestamp?(r-e.prevTimestamp)/wr:1;e.prevTimestamp=r,t+=e.speed*o,e.speed+=1e-4;var i=t;i<.99?e.setState({progress:i},(function(){window.requestAnimationFrame(n)})):e.setState({progress:1},(function(){var t=e.props.onEnded;t&&t()}))}else window.requestAnimationFrame(n)}))}},{key:"render",value:function(){var e=this.props.children,t=this.state.progress;return a.a.createElement(a.a.Fragment,null,e(t))}}])&&Sr(t.prototype,n),r&&Sr(t,r),i}(a.a.Component);Rr.propTypes={autoplay:c.a.bool,elementLength:c.a.number,onEnded:c.a.func,progress:c.a.number,scale:c.a.number};var Dr=Rr,kr=n("DZdP");function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nr(e,t)}function Mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fr(e);if(t){var o=Fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ar(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fr(e)}var Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(i,e);var t,n,r,o=Mr(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.fillColor,n=e.fillOpacity,r=e.height,o=e.id,i=e.position,s=e.strokeColor,c=e.width;return a.a.createElement("g",{id:o},a.a.createElement("rect",{fill:t,fillOpacity:n,height:r,stroke:s,strokeWidth:"1",width:c,x:i.x,y:i.y}))}}])&&Lr(t.prototype,n),r&&Lr(t,r),i}(kr.a);Br.propTypes=Ir(Ir({},kr.a.propTypes),{},{fillColor:s.PropTypes.string,fillOpacity:s.PropTypes.number,height:s.PropTypes.number,position:u.a.vertex,strokeColor:s.PropTypes.string,width:s.PropTypes.number}),Br.defaultProps=Ir({},kr.a.defaultProps);var Ur=Br,Wr=n("omVu"),Vr="tag--0b3",Gr="text-wrapper--c65",Hr="auxiliar--736",zr="read-only--eb4",qr="placeholder--7a8",Kr="bts-wrapper--1ec",Xr="bt--564",Yr="icon--2c4";function Jr(e){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(e)}function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},to(e,t)}function no(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oo(e);if(t){var o=oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Jr(t)||"function"==typeof t))return t;return ro(e)}(this,n)}}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oo(e)}var io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&to(e,t)}(i,e);var t,n,r,o=no(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleClick=t.handleClick.bind(ro(t)),t.handleValidated=t.handleValidated.bind(ro(t)),t}return t=i,(n=[{key:"handleClick",value:function(e){e.stopPropagation();var t=this.props,n=t.id,r=t.isSelected,o=t.onClick,i=t.onEdit,a=t.readOnly;r&&a?i(n):r||o(e,{element:$r({},this.props)})}},{key:"handleValidated",value:function(e){e.stopPropagation();var t=this.props,n=t.id;(0,t.onValidated)($r($r({},this.textEditorRef&&this.textEditorRef.getContents()),{},{tagId:n}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.delta,r=t.id,o=t.isLegacy,i=t.isSelected,s=t.position,c=t.rank,u=t.readOnly,l=t.rotation,p=t.scale,y=t.strokeColor,b=t.text,m=f.a.URL_DESIGN_EDITOR_COMMONS,v=!(c&&c!=d.u.TEMPORARY),g=Object(h.V)(y||"#000000");return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Vr,key:r,style:{left:parseInt(s.x),top:parseInt(s.y),transform:"rotate(".concat(l,"deg)"),transformOrigin:"top left",zIndex:u?null:1}},a.a.createElement("div",{className:"".concat(Gr," ").concat(!1!==u?zr:""," ").concat(c==d.u.AUXILIAR?Hr:""),onClick:this.handleClick,style:{fontSize:"".concat((c==d.u.AUXILIAR?14:16)*p,"px"),outline:!1!==u&&i?"solid 1px rgba(".concat(g.join(","),",.3)"):null}},v?a.a.createElement("div",{className:qr},"[·]"):a.a.createElement(Wr.m,{delta:n||(b?null:{ops:[{attributes:{color:y},insert:" "},{insert:"\n"}]}),htmlText:b,isHeadingEnabled:!1,isLegacy:o,isParagraphEnabled:!1,readOnly:!1!==u,ref:function(t){return e.textEditorRef=t},theme:"bubble"})),!1===u?a.a.createElement("div",{className:Kr},a.a.createElement("button",{className:Xr,onClick:this.handleValidated},a.a.createElement("img",{className:Yr,src:"".concat(m,"/check.svg")}))):null))}}])&&eo(t.prototype,n),r&&eo(t,r),i}(a.a.PureComponent);io.propTypes={id:s.PropTypes.string,isLegacy:s.PropTypes.bool,onValidated:s.PropTypes.func,position:s.PropTypes.shape({x:s.PropTypes.number,y:s.PropTypes.number}),rotation:s.PropTypes.number,text:s.PropTypes.string},io.defaultProps={onValidated:function(e){return null}};var ao=io;function so(e){return function(e){if(Array.isArray(e))return co(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return co(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uo(){return uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo.apply(this,arguments)}function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e){return function(){return e.props.currentSection==d.j.PLAY_SOLUTION}}function yo(e){return function(){var t=e.props,n=t.currentSection,r=t.selectedTool;return n!=d.j.PLAY_SOLUTION&&(r==d.y.LINE_ANGLE||r==d.y.LINE_PARALLEL||r==d.y.LINE_PERPENDICULAR?!(!e.toolRecipe||!e.toolRecipe.currentStepHandler):r==d.y.ARC||r==d.y.CIRCLE||r==d.y.CURVE||r==d.y.FILL||r==d.y.LINE||r==d.y.POINT)}}function bo(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isDrawing,o=void 0!==r&&r,i=n.isPlaying,s=void 0!==i&&i,c=n.isReferenced,u=void 0!==c&&c,l=n.referenceType,p=e.controller,f=e.props,y=f.isLegacy,b=f.selectedElementIds,m=f.speedRatio,g=f.elementStyle,E=p.getScale(),O=po(po({},g),t.style),P=null,S=po(po(po(po({key:t.id||Object(h.S)(t.type)},Object(v.a)(t.type)),O),t),{},{isReadOnly:p.areElementsReadOnly(),isReferenced:u,isSelected:!u&&-1!=b.indexOf(t.id),isSnapVisible:p.isSnapVisible(),referenceType:u?l:void 0});delete S.style;var T=p.renderElementReferences(t,o,s);switch(t.type){case d.i.ARC:P=or.a,S.length=Object(h.k)({degreeA:t.degreeA,degreeB:t.degreeB,direction:t.direction,radius:t.radius});break;case d.i.CIRCLE:P=ir.a,S.length=Object(h.l)({radius:t.radius});break;case d.i.CURVE:P=cr.a;break;case d.i.FILL:P=ur.a;break;case d.i.LINE:P=ar.a,S.length=Object(h.r)(t.vertexA,t.vertexB);break;case d.i.POINT:P=sr.a;break;case d.i.RECT:P=Ur;break;case d.i.TAG:P=ao,S.isLegacy=y,S.onEdit=p.handleTagEdit,S.onValidated=p.handleTagValidated,S.position=Object(h.mb)(S.position,E),S.scale=E}return P?s?a.a.createElement(Dr,{autoplay:s,elementLength:S.length||30,key:"".concat(S.id,"--progress"),onEnded:p.getCurrentSectionRef().handleStepEnded,scale:E,speedRatio:m,type:S.type},(function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(P,uo({},S,{progress:e})),T)})):u?a.a.createElement(P,uo({},S,{key:"".concat(S.id,"--referenced")})):o?[a.a.createElement(P,uo({},S,{key:"".concat(S.id,"--drawing"),onSnap:p.handleSnap}))].concat(so(T)):[a.a.createElement(P,uo({},S,{key:"".concat(S.id,"--static"),onClick:p.handleElementClick,onDown:p.handleElementDown,onSnap:p.handleSnap,onUp:p.handleElementUp}))].concat(so(T)):null}}function mo(e){return function(t,n,r){var o=e.controller,i=e.props.mggPage,s=[];if((n||r)&&t.constraints){var c=[d.d.ANGLE,d.d.PARALLEL,d.d.PERPENDICULAR],u=[d.v.SNAP_END,d.v.SNAP_MIDPOINT,d.v.SNAP_START],l=[d.v.SNAP_CENTER],p=[d.v.SNAP_POINT],f=[d.v.SNAP_INTERSECTION];s=t.constraints.map((function(e){if(e.reference){var t=i.elements[e.reference];if(-1!=c.indexOf(e.type))return o.renderMggElement(e.reference,{isReferenced:!0,referenceType:e.type});if(r)if(-1!=u.indexOf(e.type)){if(t){var n=i.vertices[t.vertexA],s=i.vertices[t.vertexB],y=null;switch(e.type){case d.v.SNAP_END:y=s;break;case d.v.SNAP_MIDPOINT:y=Object(h.E)(n,s);break;case d.v.SNAP_START:y=n}if(y)return a.a.createElement(lr.a,{isVisible:!0,key:"".concat(t.id,"--referenced"),position:y,rotation:Object(h.p)(n,s),type:e.type})}}else if(-1!=l.indexOf(e.type)){if(t)return a.a.createElement(lr.a,{isVisible:!0,key:"".concat(t.id,"--referenced"),position:i.vertices[t.center],type:e.type})}else if(-1!=p.indexOf(e.type)){if(t)return a.a.createElement(lr.a,{isVisible:!0,key:"".concat(t.id,"--referenced"),position:i.vertices[t.position],type:e.type})}else if(-1!=f.indexOf(e.type)&&i.intersections&&(t=i.intersections[e.reference]))return a.a.createElement(lr.a,{isVisible:!0,key:"".concat(t.id,"--referenced"),position:i.vertices[t.position],type:e.type})}return null})).filter((function(e){return null!==e}))}return s}}function vo(e){return function(t,n){var r=e.controller,o=e.props.mggPage,i=r.getScale();return o.elements[t]?r.renderElementData(Object(h.cb)(t,o,i),n):null}}function go(e){return function(t){var n=e.controller,r=e.props.mggPage;if(r.intersections[t]){var o=r.intersections[t],i=po(po({},Object(v.d)()),{},{id:t,index:o.index,key:t,position:r.vertices[o.position],rotation:o.rotation,type:o.type});return delete i.style,a.a.createElement(Or,uo({},i,{onSnap:n.handleSnap}))}return null}}function Eo(e){return function(){return e.currentSectionRef}}function Oo(e){return function(t){var n=e.props,r=n.id,o=n.onSectionChange;e.controller.clearSelectedElements(),o({pageId:r,pageSection:t})}}function Po(e){return function(e){if(Array.isArray(e))return So(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return So(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function To(e){return function(t,n){var r=e.controller,o=e.props.selectedElementIds,i=r.findElementsInBoundary(t,n);i.length&&r.handleElementsSelectionChange([].concat(Po(o),Po(i)))}}function _o(e){return function(){var t=e.controller;e.props.selectedElementIds.length&&t.handleElementsSelectionChange([])}}function Co(e){return function(t,n){var r=e.controller,o=e.props,i=o.mggPage,a=o.selectedElementIds,s=r.getScale(),c=[],u=[];switch(n){case d.j.EDIT_ANSWER:c=i[d.q.ANSWER].steps.flatMap((function(e){return e.elements}));break;case d.j.EDIT_SOLUTION:c=i[d.q.SOLUTION].steps.flatMap((function(e){return e.elements}));break;case d.j.EDIT_STATEMENT:c=i[d.q.STATEMENT].elements}return c&&(u=c.map((function(e){return-1==a.indexOf(e)&&Object(h.Y)(Object(h.cb)(e,i,s),t)?e:null})).filter((function(e){return!!e}))),u}}function wo(e){return function(t,n){var r=e.props,o=r.id;(0,r.onElementsSelectionChange)({elementIds:t,newElementId:n,pageId:o})}}function Ro(e){return function(t,n){var r=e.props.mggPage;if(n===d.j.EDIT_STATEMENT||-1===r[d.q.STATEMENT].elements.indexOf(t)){var o=e.controller,i=Po(e.props.selectedElementIds);i=-1!=i.indexOf(t)?i.filter((function(e){return e!=t})):[].concat(Po(i),[t]),o.handleElementsSelectionChange(i,t)}}}function Do(e){return function(){return e.props.elementStyle}}function ko(e){return function(t,n){if(!Array.isArray(t)||!t.length)return null;var r=e.props,o=r.mggPage,i=(r.onPageChange,F()(o));t.forEach((function(e){var t=i.elements[e];t&&(i.elements[e].style=Object(v.b)(t.type,n))})),e.setState({mggPage:i},e.takeMemoirSnapshot("Set elements style"))}}function Ao(e){return function(t,n){var r=t.delta,o=t.htmlText,i=e.props,a=i.id;(0,i.onStatementTextChange)({delta:r,htmlText:o,pageId:a},n)}}function jo(e){return function(t){var n=e.props.mggPage,r=F()(n);r.statement||(r.statement={}),r.statement.text=t,e.setState({mggPage:r})}}function Io(e){return function(){return e.props.scale||1}}function xo(e){return function(e){}}var Lo=function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r)this[n]=r[n](t)},No=n("IdFE"),Mo=n("rbwD");function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t){return Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Uo(e,t)}function Wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Go(e);if(t){var o=Go(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Fo(t)||"function"==typeof t))return t;return Vo(e)}(this,n)}}function Vo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Go(e)}var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}(i,e);var t,n,r,o=Wo(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).listeners={click:[],mousedown:[],mouseup:[]},t.handleClick=t.handleClick.bind(Vo(t)),t.handleMouseDown=t.handleMouseDown.bind(Vo(t)),t.handleMouseUp=t.handleMouseUp.bind(Vo(t)),t}return t=i,(n=[{key:"addListener",value:function(e,t){if(!t)return null;if(Array.isArray(this.listeners[e])){var n=this.props.name;t.id=Object(h.S)("".concat(n,"-").concat(e,"-handler")),this.listeners[e].push(t)}}},{key:"removeListener",value:function(e,t){if(!t)return null;Array.isArray(this.listeners[e])&&(this.listeners[e]=this.listeners[e].filter((function(e){return e.id!=t.id})))}},{key:"handleClick",value:function(e){this.listeners.click.forEach((function(t){return t(e)}))}},{key:"handleMouseDown",value:function(e){this.listeners.mousedown.forEach((function(t){return t(e)}))}},{key:"handleMouseUp",value:function(e){this.listeners.mouseup.forEach((function(t){return t(e)}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isEnabled;return a.a.createElement("div",{className:t,onClick:n?this.handleClick:null,onMouseDown:n?this.handleMouseDown:null,onMouseUp:n?this.handleMouseUp:null},this.props.children)}}])&&Bo(t.prototype,n),r&&Bo(t,r),i}(a.a.Component);Ho.propTypes={className:s.PropTypes.string,isEnabled:s.PropTypes.bool,name:s.PropTypes.string},Ho.defaultProps={isEnabled:!0,name:"meh"};var zo=Ho,qo=n("X+LD");function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t){return Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yo(e,t)}function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zo(e);if(t){var o=Zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ko(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zo(e)}var $o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(i,e);var t,n,r,o=Jo(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"addListener",value:function(e,t){this.mouseEventHandler&&this.mouseEventHandler.addListener(e,t)}},{key:"removeListener",value:function(e,t){this.mouseEventHandler&&this.mouseEventHandler.removeListener(e,t)}},{key:"getRef",value:function(){return this.ref}},{key:"setRef",value:function(e){e&&(this.ref=e.getRef())}},{key:"render",value:function(){var e=this,t=this.props,n=t.elements,r=t.height,o=t.isInteractionEnabled,i=t.objectFit,s=t.updateKey,c=t.width;return a.a.createElement(zo,{className:qo.a.hit,isEnabled:o,name:"canvas",ref:function(t){return e.mouseEventHandler=t}},a.a.createElement(Mo.a,{elements:n,height:r,objectFit:i,ref:function(t){return e.setRef(t)},updateKey:s,width:c}))}}])&&Xo(t.prototype,n),r&&Xo(t,r),i}(a.a.Component);$o.propTypes={elements:s.PropTypes.array,height:s.PropTypes.number,isInteractionEnabled:s.PropTypes.bool,objectFit:s.PropTypes.oneOf(["contain","cover"]),updateKey:s.PropTypes.string,width:s.PropTypes.number},$o.defaultProps={elements:[],isInteractionEnabled:!0};var Qo=$o,ei=n("HoCX"),ti="scrub-bar--589",ni="scrub-bar-hit--d74",ri="scrub-bar-value--524",oi="scrubber--366",ii="tooltip--7cb",ai="tooltip-text--cf1",si="tooltip-scrubber--b5b";function ci(e){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(e)}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function li(e,t){return li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},li(e,t)}function pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hi(e);if(t){var o=hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ci(t)||"function"==typeof t))return t;return fi(e)}(this,n)}}function fi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hi(e){return hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hi(e)}var di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}(i,e);var t,n,r,o=pi(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isOver:!1,tooltipText:null},t.handleClick=t.handleClick.bind(fi(t)),t.handleScrubBarDown=t.handleScrubBarDown.bind(fi(t)),t.handleScrubBarMove=t.handleScrubBarMove.bind(fi(t)),t.handleScrubBarOut=t.handleScrubBarOut.bind(fi(t)),t.handleScrubBarOver=t.handleScrubBarOver.bind(fi(t)),t}return t=i,(n=[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.handleScrubBarMove)}},{key:"findPosition",value:function(e){var t=this.props.maxPosition,n=Object(h.F)(e);if(n){var r=Object(h.s)(this.scrubBarRef),o=this.scrubBarRef.offsetWidth,i=r.x+o,a=r.x,s=0;return s=n.x>=i?1:n.x<=a?0:(n.x-r.x)/o,Math.round(t*s)}return""}},{key:"handleScrubBarOver",value:function(e){document.addEventListener("mousemove",this.handleScrubBarMove),this.setState({isOver:!0,tooltipText:this.findPosition(e)})}},{key:"handleScrubBarMove",value:function(e){this.setState({tooltipText:this.findPosition(e)})}},{key:"handleScrubBarOut",value:function(e){document.removeEventListener("mousemove",this.handleScrubBarMove),this.setState({isOver:!1,tooltipText:null})}},{key:"handleClick",value:function(e){this.props.onPositionChange(this.findPosition(e))}},{key:"handleScrubBarDown",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPosition,r=t.isPlaying,o=t.maxPosition,i=this.state,s=i.isOver,c=i.tooltipText,u=null,l=s&&null!==c;return l&&(u=this.scrubBarRef?parseInt(c)/o*this.scrubBarRef.offsetWidth:null),u||(l=!1),a.a.createElement("div",{className:ti,onClick:this.handleClick,onMouseDown:Object(ei.b)()?null:this.handleScrubBarDown,onMouseOut:Object(ei.b)()?null:this.handleScrubBarOut,onMouseOver:Object(ei.b)()?null:this.handleScrubBarOver,onTouchStart:Object(ei.b)()?this.handleScrubBarDown:null,ref:function(t){return e.scrubBarRef=t}},a.a.createElement("div",{className:ni}),a.a.createElement("div",{className:ri,style:{width:"".concat(n/o*100,"%")}},r?null:a.a.createElement("div",{className:oi})),l?a.a.createElement("div",{className:ii,style:{left:u}},a.a.createElement("div",{className:si}),a.a.createElement("div",{className:ai},c)):null)}}])&&ui(t.prototype,n),r&&ui(t,r),i}(a.a.Component);di.propTypes={currentPosition:s.PropTypes.number,isPlaying:s.PropTypes.bool,maxPosition:s.PropTypes.number,onPositionChange:s.PropTypes.func},di.defaultProps={onPositionChange:function(e){return null}};var yi=di,bi="control-bar--e2c",mi="buttons-wrapper--9c9",vi="steps-wrapper--678",gi="next-bt--ae9",Ei="pause-bt--4b8",Oi="play-bt--30a",Pi="previous-bt--d5f",Si=[.25,.5,1,2,3,5,8,13],Ti=function(e){var t=e.currentStep,n=e.isPlaying,r=e.numSteps,o=e.onNext,i=(e.onPause,e.onPlay,e.onPrevious),s=e.onSpeedRatioChange,c=e.onStepChange,u=(e.onToggleFullScreen,e.onTogglePlay),l=e.speedRatio;return t>r&&(t=r),a.a.createElement("div",{className:bi},a.a.createElement(yi,{currentPosition:t,isPlaying:n,maxPosition:r,onPositionChange:c}),a.a.createElement("div",{className:mi},n?a.a.createElement("button",{className:Ei,onClick:u},a.a.createElement(No.p,null)):a.a.createElement("button",{className:Oi,onClick:u},a.a.createElement(No.q,null)),a.a.createElement("div",{className:vi},a.a.createElement("button",{className:Pi,onClick:function(e){e.stopPropagation(),i&&i(e)}},a.a.createElement(No.s,null)),a.a.createElement("div",null,"".concat(t,"/").concat(r)),a.a.createElement("button",{className:gi,onClick:function(e){e.stopPropagation(),o&&o(e)}},a.a.createElement(No.t,null))),a.a.createElement("div",null,a.a.createElement(Wr.k,{onChange:function(e){s&&s(parseFloat(e.target.value))},theme:"menu-tool-bar",value:"".concat(l)},Si.map((function(e,t){return a.a.createElement("option",{key:"".concat(e,"-").concat(t),value:"".concat(e)},"x".concat(e))}))))))};Ti.propTypes={currentStep:s.PropTypes.number,isPlaying:s.PropTypes.bool,numSteps:s.PropTypes.number,onNext:s.PropTypes.func.isRequired,onPrevious:s.PropTypes.func.isRequired,onSpeedRatioChange:s.PropTypes.func,onStepChange:s.PropTypes.func,onToggleFullScreen:s.PropTypes.func,onTogglePlay:s.PropTypes.func.isRequired,speedRatio:s.PropTypes.number};var _i=Ti;function Ci(e){return function(){var t=e.props,n=t.mggPage,r=null;switch(t.type){case d.j.EDIT_ANSWER:r=n.answer;break;case d.j.EDIT_SOLUTION:case d.j.PLAY_SOLUTION:r=n.solution}return r&&Array.isArray(r.steps)?r.steps.length:0}}function wi(e){return function(t){var n=e.props.onCurrentStepChange,r=e.state.currentStep,o=e.findNumberOfSteps();t>o?t=o:t<0&&(t=0),e.setState({currentStep:t,isPlaybackMode:t!==r},(function(){n(t)}))}}function Ri(e){return function(){var t=e.state,n=t.isPlaying,r=t.isStarted;n?e.pause():(e.play(),r||(Object(y.a)(d.z.VIEWER_START),e.setState({isStarted:!0})))}}function Di(e){return function(){var t=e.props.onPlaybackEnded;e.state.isPlaying?e.state.currentStep+1<=e.findNumberOfSteps()?e.playNextStep():(e.pause(),t&&t()):e.pause()}}function ki(e){return function(){e.pause(),e.playPreviousStep()}}function Ai(e){return function(){e.pause(),e.playNextStep()}}function ji(e){return function(){e.findNumberOfSteps()&&e.setState({isPlaybackMode:!0,isPlaying:!0},(function(){return e.playNextStep()}))}}function Ii(e){return function(){e.setState({isPlaybackMode:!1,isPlaying:!1})}}function xi(e){return function(){var t=e.props.onCurrentStepChange,n=e.state.currentStep,r=e.findNumberOfSteps(),o=n-1;o<0&&(o=r||0),e.setState({currentStep:o,isPlaybackMode:o!==n},(function(){0===o&&e.handleStepEnded(),t(o)}))}}function Li(e){return function(){var t=e.props.onCurrentStepChange,n=e.state.currentStep,r=e.findNumberOfSteps(),o=n+1;o>r&&(o=0),e.setState({currentStep:o,isPlaybackMode:o!==n},(function(){0===o&&e.handleStepEnded(),t(o)}))}}var Ni={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",page:"page--988",header:"header--56c","header-bt":"header-bt--3d8","-selected":"-selected--835","full-screen-bt":"full-screen-bt--f62","remove-bt":"remove-bt--ea4","-disabled":"-disabled--e85",body:"body--560","page-section":"page-section--256","play-solution":"play-solution--999",footer:"footer--c9d","full-screen":"full-screen--8a1",hidden:"hidden--ca9","canvas-wrapper":"canvas-wrapper--35d","-no-events":"-no-events--598","statement-text":"statement-text--ff7",active:"active--4f8","length-cheater":"length-cheater--d9a"};function Mi(e){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mi(e)}function Fi(e){return function(e){if(Array.isArray(e))return Bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){return Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wi(e,t)}function Vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hi(e);if(t){var o=Hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Mi(t)||"function"==typeof t))return t;return Gi(e)}(this,n)}}function Gi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(e)}var zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(s,e);var t,n,r,i=Vi(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e);var n=e.startRatio,r=e.startStep;t.injectLibrary(o);var a=r||(n?Math.floor(t.findNumberOfSteps()*n):0);return t.state={currentStep:a,isPlaybackMode:!1,isPlaying:!1,isComponentMounted:!1,isStarted:!1},t.getCurrentStep=t.getCurrentStep.bind(Gi(t)),t.setCurrentStep=t.setCurrentStep.bind(Gi(t)),a>0&&e.onCurrentStepChange(a),t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAutostartEnabled;e.onCurrentStepChange,this.setState({isComponentMounted:!0}),this.injectToolRecipe(),t&&this.play()}},{key:"componentDidUpdate",value:function(e){e.selectedTool!=this.props.selectedTool&&this.injectToolRecipe()}},{key:"componentWillUnmount",value:function(){this.props.controller.clearToolRecipes()}},{key:"injectLibrary",value:function(e){for(var t in e)this[t]=e[t](this)}},{key:"injectToolRecipe",value:function(){var e=this.props.type;this.canvasRef&&this.props.controller.injectToolRecipe(this.canvasRef,e)}},{key:"getCurrentStep",value:function(){return this.state.currentStep}},{key:"setCurrentStep",value:function(e){var t=this;this.setState({currentStep:e},(function(){return t.props.onCurrentStepChange(e)}))}},{key:"renderTextEditor",value:function(e){var t=this,n=e.readOnly,r=e.staticSection,o=e.width,i=this.props,s=i.isLegacy,c=i.isStatementTextVisible,u=i.margins,l=i.onStatementTextChange,p=i.scale,f=i.selectedTool,y=o*p>=620?"snow":"bubble";return c&&r?a.a.createElement("h2",{className:[Ni["statement-text"],f==d.y.TEXT?Ni.active:""].join(" "),style:{fontSize:"".concat(Math.round(16*p),"px"),paddingTop:Math.round(u.top*p),paddingRight:Math.round(u.right*p),paddingBottom:Math.round(u.bottom*p),paddingLeft:Math.round(u.left*p)}},a.a.createElement(Wr.m,{delta:r.delta,htmlText:Object(h.kb)(r.text,p),isLegacy:s,onChange:l,readOnly:n||f!=d.y.TEXT,ref:function(e){return t.textEditorRef=e},theme:y})):null}},{key:"findRenderable",value:function(e,t){var n=this.props.controller,r=this.state,o=r.currentStep,i=r.isPlaybackMode,a=[],s=[],c=[];return e&&Array.isArray(e.elements)&&(a=e.elements.flatMap((function(e){return c=c.concat(n.getElementIntersections(e)),n.renderMggElement(e)})).filter((function(e){return!!e}))),t&&Array.isArray(t.steps)&&(s=[].concat.apply([],t.steps.map((function(e,t){return t+1<=o&&e.elements.flatMap((function(e){return c=c.concat(n.getElementIntersections(e)),n.renderMggElement(e,{isPlaying:!(!i||t+1!==o)})}))})).map((function(e){return e}))).filter((function(e){return!!e}))),{elements:[].concat(Fi(a),Fi(s)),intersectionIds:c}}},{key:"renderStaticCanvas",value:function(e,t){var n=this.props,r=n.height,o=n.isTagTextVisible,i=n.objectFit,s=n.width,c=this.findRenderable(e,t);return a.a.createElement("div",{className:Ni["canvas-wrapper"]},a.a.createElement(Mo.a,{elements:c.elements,height:r,isTagTextVisible:o,objectFit:i,width:s}))}},{key:"renderInteractiveCanvas",value:function(e,t){var n=this,r=this.props,o=r.controller,i=r.height,s=r.isTagTextVisible,c=r.objectFit,u=r.width,l=this.state,p=l.currentStep,f=l.isPlaying,h=this.findRenderable(e,t),d=h.intersectionIds,y=h.elements;o.isSnapVisible()&&(y=[].concat(Fi(y),Fi(Fi(new Set(d)).map((function(e){return o.renderMggIntersection(e)})).filter((function(e){return!!e})))));var b=void 0;return t&&t.id?b="".concat(t.id,"-").concat(p):e&&e.id&&(b=e.id),a.a.createElement("div",{className:Ni["canvas-wrapper"]},a.a.createElement(Qo,{elements:y,updateKey:b,height:i,isInteractionEnabled:!f,isTagTextVisible:s,objectFit:c,ref:function(e){return n.canvasRef=e},width:u}))}},{key:"renderDrawingElements",value:function(){var e=this.props,t=e.controller,n=e.drawingElementsData,r=e.height,o=e.inputLength,i=e.isTagTextVisible,s=e.objectFit,c=(e.scale,e.width);if(!n)return null;var u=Fi(n.flatMap((function(e){return t.renderElementData(e,{isDrawing:!0})})));return u&&u.length?a.a.createElement("div",{className:"".concat(Ni["canvas-wrapper"]," ").concat(Ni["-no-events"])},a.a.createElement(Mo.a,{elements:u,height:r,isTagTextVisible:i,objectFit:s,width:c}),o.value&&a.a.createElement("div",{className:Ni["length-cheater"],style:{left:o.x,top:o.y}},o.value)):null}},{key:"renderControlBar",value:function(){var e=this.props,t=e.controller,n=e.isControlBarEnabled,r=e.isFullScreen,o=e.speedRatio;if(!n)return null;var i=this.state,s=i.currentStep,c=i.isPlaying,u=this.findNumberOfSteps();return u?a.a.createElement("div",{className:"".concat(Ni.footer," ").concat(r?Ni["full-screen"]:"")},a.a.createElement(_i,{currentStep:s,isFullScreenEnabled:!1,isPlaying:c,numSteps:u,onNext:this.handleNextStep,onPrevious:this.handlePreviousStep,onSpeedRatioChange:t.handleSpeedRatioChange,onStepChange:this.handleStepChange,onTogglePlay:this.handleTogglePlay,speedRatio:o})):null}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.isControlBarEnabled,r=e.mggPage,o=e.scale,i=e.style,s=e.type,c=e.width,u=n?"".concat(Ni.body," ").concat(Ni["-controlbar-enabled"]):Ni.body,l={width:"".concat(Math.round(c*o),"px"),height:"".concat(Math.round(t*o),"px"),marginBottom:n?"44px":null},p=r.statement,f=null,h=null;switch(s){case d.j.EDIT_ANSWER:f=r.answer,h=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:u,style:l},this.renderTextEditor({readOnly:!0,staticSection:p,width:c}),this.renderInteractiveCanvas(p,f),this.renderDrawingElements()),this.renderControlBar());break;case d.j.EDIT_SOLUTION:f=r.solution,h=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:u,style:l},this.renderTextEditor({readOnly:!0,staticSection:p,width:c}),this.renderInteractiveCanvas(p,f),this.renderDrawingElements()),this.renderControlBar());break;case d.j.EDIT_STATEMENT:f=null,h=a.a.createElement("div",{className:u,style:l},this.renderTextEditor({staticSection:p,width:c}),this.renderInteractiveCanvas(p),this.renderDrawingElements());break;case d.j.PLAY_SOLUTION:f=r.solution,h=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"".concat(u," ").concat(Ni["play-solution"]),onClick:this.handleTogglePlay,style:l},this.renderTextEditor({readOnly:!0,staticSection:p,width:c}),this.renderStaticCanvas(p,f)),this.renderControlBar())}return a.a.createElement("div",{className:Ni["page-section"],style:i},h)}}])&&Ui(t.prototype,n),r&&Ui(t,r),s}(a.a.Component);zi.propTypes={controller:s.PropTypes.instanceOf(Lo),drawingElementsData:s.PropTypes.array,height:s.PropTypes.number,inputLength:s.PropTypes.shape({value:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),x:s.PropTypes.number,y:s.PropTypes.number}),isAutostartEnabled:s.PropTypes.bool,isControlBarEnabled:s.PropTypes.bool,isLegacy:s.PropTypes.bool,isStatementTextVisible:s.PropTypes.bool,isTagTextVisible:s.PropTypes.bool,margins:s.PropTypes.shape({bottom:s.PropTypes.number,left:s.PropTypes.number,right:s.PropTypes.number,top:s.PropTypes.number}),objectFit:s.PropTypes.oneOf(["contain","cover"]),onPlaybackEnded:s.PropTypes.func,onStatementTextChange:s.PropTypes.func,onTextChange:s.PropTypes.func,scale:s.PropTypes.number,selectedTool:s.PropTypes.string,speedRatio:s.PropTypes.number,startRatio:s.PropTypes.number,startStep:s.PropTypes.number,style:s.PropTypes.object,type:s.PropTypes.oneOf([d.j.EDIT_ANSWER,d.j.EDIT_SOLUTION,d.j.EDIT_STATEMENT,d.j.PLAY_SOLUTION]),width:s.PropTypes.number},zi.defaultProps={controller:{},drawingElementsData:[],height:1,inputLength:{},isAutostartEnabled:!1,isControlBarEnabled:!0,isStatementTextVisible:!0,isTagTextVisible:!0,onCurrentStepChange:function(e){return null},scale:1,startRatio:0,step:0,width:1};var qi=zi,Ki={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",page:"page--806",header:"header--8b8","header-bt":"header-bt--9b6","-selected":"-selected--bd1","full-screen-bt":"full-screen-bt--8d8","remove-bt":"remove-bt--1ba","-disabled":"-disabled--b1b",body:"body--ccc"};function Xi(e){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(e)}function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t){return $i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$i(e,t)}function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ta(e);if(t){var o=ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Xi(t)||"function"==typeof t))return t;return ea(e)}(this,n)}}function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e){return ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ta(e)}var na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$i(e,t)}(i,e);var t,n,r,o=Qi(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).controller=new Lo(ea(t)),t.prevSection=e.currentSection,t.sectionKey=Object(h.S)("section"),t.state={drawingElementsData:null,inputLength:{}},t.handleRemove=t.handleRemove.bind(ea(t)),t.handleSectionChange=t.handleSectionChange.bind(ea(t)),t}return t=i,n=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.controller.handleWindowResize)}},{key:"shouldComponentUpdate",value:function(e,t){if(t.inputLength.value!==this.state.inputLength.value||t.inputLength.x!==this.state.inputLength.x||t.inputLength.y!==this.state.inputLength.y)return!0;if(t.drawingElementsData!==this.state.drawingElementsData)return!0;if(e.selectedElementIds!==this.props.selectedElementIds)return!0;if(e.mggPage.key!==this.props.mggPage.key)return!0;for(var n=["currentSection","isAutostartEnabled","isControlBarEnabled","isFullScreen","isFullScreenEnabled","isHeaderEnabled","isLegacy","isStatementTextVisible","isTagTextVisible","objectFit","scale","selectedTool","sizeCalculatorValue","speedRatio","startRatio","startStep"],r=0,o=n.length;r<o;r++)if(e[n[r]]!==this.props[n[r]])return!0;return!p()(e.style,this.props.style)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.controller.handleWindowResize)}},{key:"escape",value:function(){this.toolRecipe&&this.toolRecipe.escape(),this.controller.setDrawingElementsData(null)}},{key:"getHeaderHeight",value:function(){return this.pageHeaderRef?this.pageHeaderRef.clientHeight:0}},{key:"handleSectionChange",value:function(e){this.controller.handleSectionChange(e.target.dataset.type)}},{key:"handleRemove",value:function(){var e=this.props,t=e.id,n=e.onRemove;n&&n({pageId:t})}},{key:"renderSectionTabs",value:function(){var e=this,t=this.props,n=t.currentSection,r=t.literals;return t.sections.map((function(t,o){var i="";switch(t.type){case d.j.EDIT_ANSWER:i=r.EDIT_ANSWER;break;case d.j.EDIT_SOLUTION:i=r.EDIT_SOLUTION;break;case d.j.EDIT_STATEMENT:i=r.EDIT_STATEMENT;break;case d.j.PLAY_SOLUTION:i=r.PLAY_SOLUTION}return a.a.createElement("div",{className:[Ki["header-bt"],n==t.type?Ki["-selected"]:""].join(" "),"data-type":t.type,key:"tab-".concat(t.type,"-").concat(o),onClick:e.handleSectionChange},i)}))}},{key:"renderSectionBody",value:function(){var e=this,t=this.props,n=t.currentSection,r=t.isAutostartEnabled,o=t.isControlBarEnabled,i=t.isFullScreen,s=t.isLegacy,c=t.isStatementTextVisible,u=t.isTagTextVisible,l=t.mggPage,p=t.objectFit,f=t.onPlaybackEnded,d=t.selectedTool,y=t.sizeCalculatorValue,b=t.speedRatio,m=t.startRatio,v=t.startStep,g=t.style,E=this.state,O=E.drawingElementsData,P=E.inputLength;n!=this.prevSection&&(this.sectionKey=Object(h.S)("section"),this.prevSection=n);var S=P;return S&&(S=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){Ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},S),S.value||(S.value=y?Math.round(1e3*y)/1e3:null)),a.a.createElement(qi,{controller:this.controller,drawingElementsData:O,height:l.height,inputLength:S,isAutostartEnabled:r,isControlBarEnabled:o,isFullScreen:i,isLegacy:s,isStatementTextVisible:c,isTagTextVisible:u,key:this.sectionKey,margins:l.margins,mggPage:l,objectFit:p,onCurrentStepChange:this.controller.handleCurrentStepChange,onPlaybackEnded:f,onStatementTextChange:this.controller.handleStatementTextChange,ref:function(t){return e.currentSectionRef=t},scale:this.controller.getScale(),selectedTool:d,speedRatio:b,startRatio:m,startStep:v,style:g,type:n,width:l.width})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.isFullScreen,o=t.isFullScreenEnabled,i=t.isHeaderEnabled,s=t.isRemoveEnabled,c=(t.onRemove,t.onToggleFullScreen),u=f.a.URL_DESIGN_EDITOR_COMMONS;return a.a.createElement("div",{className:"".concat(Ki.page," ").concat(n||""),ref:function(t){return e.ref=t}},i?a.a.createElement("div",{className:Ki.header,ref:function(t){return e.pageHeaderRef=t}},a.a.createElement("div",null,this.renderSectionTabs()),o?a.a.createElement("button",{className:Ki["full-screen-bt"],onClick:c},r?a.a.createElement(No.i,null):a.a.createElement(No.l,null)):null,s?a.a.createElement("button",{className:Ki["remove-bt"],onClick:this.handleRemove},a.a.createElement("img",{src:"".concat(u,"/close.svg")})):null):null,a.a.createElement("div",{className:Ki.body},this.renderSectionBody()))}}],n&&Zi(t.prototype,n),r&&Zi(t,r),i}(a.a.Component);na.propTypes={currentSection:s.PropTypes.string,isAutostartEnabled:s.PropTypes.bool,isControlBarEnabled:s.PropTypes.bool,isFullScreen:s.PropTypes.bool,isFullScreenEnabled:s.PropTypes.bool,isHeaderEnabled:s.PropTypes.bool,isLegacy:s.PropTypes.bool,isRemoveEnabled:s.PropTypes.bool,isStatementTextVisible:s.PropTypes.bool,isTagTextVisible:s.PropTypes.bool,literals:s.PropTypes.object.isRequired,mggPage:u.a.mggPage,objectFit:s.PropTypes.oneOf(["contain","cover"]),onCurrentStepChange:s.PropTypes.func,onPlaybackEnded:s.PropTypes.func,onRemove:s.PropTypes.func,onSectionChange:s.PropTypes.func,onSelectedElementsMove:s.PropTypes.func,onSpeedRatioChange:s.PropTypes.func,onStatementTextChange:s.PropTypes.func,onTagEdit:s.PropTypes.func,onTagValidated:s.PropTypes.func,scale:s.PropTypes.number,sections:s.PropTypes.arrayOf(s.PropTypes.shape({type:s.PropTypes.oneOf([d.j.EDIT_ANSWER,d.j.EDIT_SOLUTION,d.j.EDIT_STATEMENT,d.j.PLAY_SOLUTION])})),selectedElementIds:s.PropTypes.arrayOf(s.PropTypes.string),selectedTool:s.PropTypes.string,sizeCalculatorValue:s.PropTypes.number,speedRatio:s.PropTypes.number,startRatio:s.PropTypes.number,startStep:s.PropTypes.number,style:s.PropTypes.object},na.defaultProps={currentSection:d.j.EDIT_STATEMENT,isControlBarEnabled:!0,isHeaderEnabled:!0,isStatementTextVisible:!0,isTagTextVisible:!0,literals:{},mggPage:{},objectFit:"contain",onCurrentStepChange:function(e){return null},onSectionChange:function(e){return null},onSpeedRatioChange:function(e){return null},onStatementTextChange:function(e){return null},onTagEdit:function(e){return null},onTagValidated:function(e){return null},scale:1,selectedElementIds:[],speedRatio:1,startRatio:0};t.a=na},"TWa+":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=function(e,t){void 0!==("undefined"==typeof window?"undefined":r(window))&&window.gtag&&e&&(t?window.gtag("event",e,t):window.gtag("event",e))};n.d(t,"a",(function(){return o}))},VYgm:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("w/WF"),c=n("fE1x"),u=function(e){var t=e.center,n=e.onSnap;return o.a.createElement(c.a,{onSnap:n,position:t,type:s.v.SNAP_CENTER})};u.propTypes={center:a.a.vertex,onSnap:i.PropTypes.func},u.defaultProps={},t.a=u},"X+LD":function(e,t,n){"use strict";t.a={canvas:"canvas--51b",hit:"hit--0fe",svg:"svg--816","aux-layer":"aux-layer--949","main-layer":"main-layer--75a","snaps-layer":"snaps-layer--ac6","temp-layer":"temp-layer--52d",tags:"tags--5d4"}},XR6h:function(e,t,n){"use strict";(function(e){var r=n("LpSC"),o=n.n(r),i=n("w/WF");function a(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=l();return function(){var n,r=f(e);if(t){var o=f(this).constructor;Reflect.construct(r,arguments,o)}else r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||(e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},c(e)}function u(e,t,n){return l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&p(o,n.prototype),o},u.apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){return Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}Error;t.a=function(t,n){return new Promise((function(r,a){void 0!==e&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).MONGGE_HOST&&(t="".concat(Object({NODE_ENV:"production"}).MONGGE_HOST).concat(t)),o()(t,n).then((function(e){var t=e.headers.get("content-type");if(t&&t.includes("application/json"))return e.json();var n=new Error("Response is not a JSON");throw n.code=i.A.ERROR__NOT_JSON,n.status=500,n})).then((function(e){if(e.error)throw e.error;r(e)})).catch((function(e){return a(e)}))}))}}).call(this,n("8oxB"))},XmVp:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("obyI"),c=n("w/WF"),u=n("omVu"),l=n("BkRI"),p=n.n(l),f=n("npbA"),h=n("NbER"),d=n("30ZO"),y={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767","style-properties":"style-properties--8e1","stroke-properties":"stroke-properties--64d",row:"row--88e","color-wrapper":"color-wrapper--4de","icon-wrapper":"icon-wrapper--49a","width-wrapper":"width-wrapper--f71","width-input":"width-input--00c","marker-bt":"marker-bt--848","pattern-bt":"pattern-bt--646",selected:"selected--ec8","markers-wrapper":"markers-wrapper--0e4"};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;return S(e)}(this,n)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,e);var t,n,r,i=P(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleColorChange=t.handleColorChange.bind(S(t)),t.handleOpacityChange=t.handleOpacityChange.bind(S(t)),t}return t=a,(n=[{key:"handleColorChange",value:function(e){var t=this.props;(0,t.onChange)(v(v({},t.properties),{},{fillColor:e}))}},{key:"handleOpacityChange",value:function(e){var t=this.props,n=t.onChange,r=t.properties,o=e.target.value;isNaN(o)||o==1/0?o=null:(o<0&&(o=0),o>1&&(o=1)),n(v(v({},r),{},{fillOpacity:o}))}},{key:"render",value:function(){var e=this.props,t=(e.literals,e.properties);return o.a.createElement("div",{className:y["stroke-properties"]},o.a.createElement("div",{className:y.row},o.a.createElement("div",{className:y["color-wrapper"]},o.a.createElement(d.a,{onChange:this.handleColorChange,selectedHex:t.fillColor})),o.a.createElement("div",{className:y["width-wrapper"]},o.a.createElement("input",{className:y["width-input"],value:t.fillOpacity||"",type:"number",min:0,max:1,onChange:this.handleOpacityChange,step:.1}))))}}])&&E(t.prototype,n),r&&E(t,r),a}(o.a.Component);_.propTypes={literals:i.PropTypes.object.isRequired,onChange:i.PropTypes.func},_.defaultProps={onChange:function(){return null}};var C=_;function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;return x(e)}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,i=I(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleColorChange=t.handleColorChange.bind(x(t)),t.handleDegreeChange=t.handleDegreeChange.bind(x(t)),t.handleSpacingChange=t.handleSpacingChange.bind(x(t)),t.handleWidthChange=t.handleWidthChange.bind(x(t)),t}return t=a,(n=[{key:"handleColorChange",value:function(e){var t=this.props;(0,t.onChange)(D(D({},t.properties),{},{fillStrokeColor:e}))}},{key:"handleWidthChange",value:function(e){var t=this.props,n=t.onChange,r=t.properties,o=parseInt(e.target.value);isNaN(o)||o==1/0?o=null:(o<1&&(o=1),o>100&&(o=100)),n(D(D({},r),{},{fillStrokeWidth:o}))}},{key:"handleDegreeChange",value:function(e){var t=this.props,n=t.onChange,r=t.properties,o=parseInt(e.target.value);o=isNaN(o)||o==1/0?null:Object(h.pb)(o),n(D(D({},r),{},{fillStrokeDegree:o}))}},{key:"handleSpacingChange",value:function(e){var t=this.props,n=t.onChange,r=t.properties,o=parseInt(e.target.value);isNaN(o)||o==1/0?o=null:(o<1&&(o=1),o>100&&(o=100)),n(D(D({},r),{},{fillStrokeSpacing:o}))}},{key:"render",value:function(){var e=this.props,t=e.literals,n=e.properties,r=s.a.URL_DESIGN_EDITOR_TOOL_BAR;return o.a.createElement("div",{className:y["stroke-properties"]},o.a.createElement("div",{className:y.row},o.a.createElement("div",{className:y["color-wrapper"]},o.a.createElement(d.a,{onChange:this.handleColorChange,selectedHex:n.fillStrokeColor})),o.a.createElement("div",{className:y["width-wrapper"]},o.a.createElement("input",{className:y["width-input"],value:n.fillStrokeWidth,type:"number",min:1,max:100,onChange:this.handleWidthChange,step:1}))),o.a.createElement("div",{className:y.row},o.a.createElement("div",{className:y["icon-wrapper"]},o.a.createElement("img",{alt:t.FILL_STROKE_DEGREE,src:"".concat(r,"/fill-stroke-degree.svg"),title:t.FILL_STROKE_DEGREE})),o.a.createElement("div",{className:y["width-wrapper"]},o.a.createElement("input",{className:y["width-input"],value:n.fillStrokeDegree,type:"number",min:0,max:360,onChange:this.handleDegreeChange,step:1}))),o.a.createElement("div",{className:y.row},o.a.createElement("div",{className:y["icon-wrapper"]},o.a.createElement("img",{alt:t.FILL_STROKE_SPACING,src:"".concat(r,"/fill-stroke-spacing.svg"),title:t.FILL_STROKE_SPACING})),o.a.createElement("div",{className:y["width-wrapper"]},o.a.createElement("input",{className:y["width-input"],value:n.fillStrokeSpacing,type:"number",min:1,max:100,onChange:this.handleSpacingChange,step:1}))))}}])&&A(t.prototype,n),r&&A(t,r),a}(o.a.Component);N.propTypes={literals:i.PropTypes.object.isRequired,onChange:i.PropTypes.func},N.defaultProps={onChange:function(){return null}};var M=N;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},G(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;return z(e)}(this,n)}}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(a,e);var t,n,r,i=H(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleColorChange=t.handleColorChange.bind(z(t)),t.handleMarkerClick=t.handleMarkerClick.bind(z(t)),t.handlePatternClick=t.handlePatternClick.bind(z(t)),t.handleWidthChange=t.handleWidthChange.bind(z(t)),t}return t=a,(n=[{key:"handleColorChange",value:function(e){var t=this.props;(0,t.onChange)(U(U({},t.properties),{},{strokeColor:e}))}},{key:"handleMarkerClick",value:function(e){var t=this.props,n=t.onChange,r=t.properties,o=null;if("start"==e.currentTarget.dataset.position&&(o="strokeMarkerStart"),"end"==e.currentTarget.dataset.position&&(o="strokeMarkerEnd"),o){var i=e.currentTarget.dataset.type;r[o]==i&&(i=null),n(U(U({},r),{},W({},o,i)))}}},{key:"handlePatternClick",value:function(e){var t=this.props;(0,t.onChange)(U(U({},t.properties),{},{strokePattern:e.currentTarget.dataset.type}))}},{key:"handleWidthChange",value:function(e){var t=this.props,n=t.onChange,r=t.properties,o=parseInt(e.target.value);(isNaN(o)||o==1/0)&&(o=null),!isNaN(o)&&o>100&&(o=100),n(U(U({},r),{},{strokeWidth:o}))}},{key:"render",value:function(){var e=this.props,t=e.literals,n=e.properties,r=(e.selectedTool,s.a.URL_DESIGN_EDITOR_TOOL_BAR);return o.a.createElement("div",{className:y["stroke-properties"]},o.a.createElement("div",{className:y.row},o.a.createElement("div",{className:y["color-wrapper"]},o.a.createElement(d.a,{onChange:this.handleColorChange,selectedHex:n.strokeColor})),o.a.createElement("div",{className:y["width-wrapper"]},o.a.createElement("input",{className:y["width-input"],value:n.strokeWidth||"",type:"number",min:1,max:100,onChange:this.handleWidthChange,step:1}))),o.a.createElement("div",{className:"".concat(y.row," ").concat(y["pattern-wrapper"])},o.a.createElement("button",{className:"".concat(y["pattern-bt"]," ").concat(n.strokePattern==c.w.SOLID?y.selected:""),"data-type":c.w.SOLID,onClick:this.handlePatternClick},o.a.createElement("img",{alt:t.PATTERN_SOLID,src:"".concat(r,"/line-pattern-solid.svg"),title:t.PATTERN_SOLID})),o.a.createElement("button",{className:"".concat(y["pattern-bt"]," ").concat(n.strokePattern==c.w.DASHED?y.selected:""),"data-type":c.w.DASHED,onClick:this.handlePatternClick},o.a.createElement("img",{alt:t.PATTERN_DASHED,src:"".concat(r,"/line-pattern-dashed.svg"),title:t.PATTERN_DASHED})),o.a.createElement("button",{className:"".concat(y["pattern-bt"]," ").concat(n.strokePattern==c.w.DASHED_DOTTED?y.selected:""),"data-type":c.w.DASHED_DOTTED,onClick:this.handlePatternClick},o.a.createElement("img",{alt:t.PATTERN_DASHED_DOTTED,src:"".concat(r,"/line-pattern-dashed-dotted.svg"),title:t.PATTERN_DASHED_DOTTED}))),o.a.createElement("div",{className:"".concat(y.row," ").concat(y["markers-wrapper"])},o.a.createElement("button",{className:"".concat(y["marker-bt"]," ").concat(n.strokeMarkerStart==c.n.ARROW?y.selected:""),"data-position":"start","data-type":c.n.ARROW,onClick:this.handleMarkerClick},o.a.createElement("img",{src:"".concat(r,"/line-start-arrow.svg")})),o.a.createElement("button",{className:"".concat(y["marker-bt"]," ").concat(n.strokeMarkerEnd==c.n.ARROW?y.selected:""),"data-position":"end","data-type":c.n.ARROW,onClick:this.handleMarkerClick},o.a.createElement("img",{src:"".concat(r,"/line-end-arrow.svg")}))),o.a.createElement("div",{className:"".concat(y.row," ").concat(y["markers-wrapper"])},o.a.createElement("button",{className:"".concat(y["marker-bt"]," ").concat(n.strokeMarkerStart==c.n.OBLIQUE?y.selected:""),"data-position":"start","data-type":c.n.OBLIQUE,onClick:this.handleMarkerClick},o.a.createElement("img",{src:"".concat(r,"/line-start-oblique.svg")})),o.a.createElement("button",{className:"".concat(y["marker-bt"]," ").concat(n.strokeMarkerEnd==c.n.OBLIQUE?y.selected:""),"data-position":"end","data-type":c.n.OBLIQUE,onClick:this.handleMarkerClick},o.a.createElement("img",{src:"".concat(r,"/line-end-oblique.svg")}))))}}])&&V(t.prototype,n),r&&V(t,r),a}(o.a.Component);K.propTypes={literals:i.PropTypes.object.isRequired,onChange:i.PropTypes.func},K.defaultProps={onChange:function(){return null}};var X=K;function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(a,e);var t,n,r,i=$(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.literals,n=e.onChange,r=e.properties,i=e.selectedLayer,a=e.selectedTool,s=o.a.createElement(X,{literals:t,onChange:n,properties:r});return a===c.y.FILL&&(s=i==c.x.AUX?o.a.createElement(M,{literals:t,onChange:n,properties:r}):o.a.createElement(C,{literals:t,onChange:n,properties:r})),o.a.createElement("div",{className:y["style-properties"]},s)}}])&&J(t.prototype,n),r&&J(t,r),a}(o.a.Component);ee.propTypes={literals:i.PropTypes.object.isRequired,onChange:i.PropTypes.func,selectedLayer:i.PropTypes.oneOf([c.x.AUX,c.x.MAIN])},ee.defaultProps={onChange:function(){return null},properties:{}};var te=ee,ne={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",tabs:"tabs--0e8","layer-bt":"layer-bt--b10",selected:"selected--228"};function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ce(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;return le(e)}(this,n)}}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}var fe=40,he=20,de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(a,e);var t,n,r,i=ue(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleLayerBtClick=t.handleLayerBtClick.bind(le(t)),t.handlePropertiesChange=t.handlePropertiesChange.bind(le(t)),t}return t=a,(n=[{key:"handleLayerBtClick",value:function(e){var t=this.props,n=t.elementStyles,r=t.onChange,o=p()(n);o.selectedLayer=e.currentTarget.dataset.name,r(o)}},{key:"handlePropertiesChange",value:function(e){var t=this.props,n=t.elementStyles,r=t.onChange,o=p()(n);o[n.selectedLayer]=ie(ie({},o[n.selectedLayer]),e),r(o)}},{key:"findScale",value:function(e){var t=1;switch(this.props.elementStyles[e].strokePattern){case c.w.DASHED:t=2.9166666666666665;break;case c.w.DASHED_DOTTED:t=2.5416666666666665}return t}},{key:"renderAuxIconFill",value:function(){var e=this.props.elementStyles[c.x.AUX];return o.a.createElement("svg",{height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 ".concat(fe," ").concat(he),width:"100%"},o.a.createElement("defs",null,o.a.createElement("pattern",{height:e.fillStrokeWidth+e.fillStrokeSpacing,id:"style-fill-pattern-stripes",patternTransform:"rotate(".concat(-e.fillStrokeDegree,")"),patternUnits:"userSpaceOnUse",width:e.fillStrokeWidth+e.fillStrokeSpacing},o.a.createElement("rect",{fill:e.fillStrokeColor,height:e.fillStrokeWidth,transform:"translate(0,0)",width:e.fillStrokeWidth+e.fillStrokeSpacing}))),o.a.createElement("rect",{fill:"url(#style-fill-pattern-stripes)",height:12,width:32,x:4,y:4}))}},{key:"renderAuxIconStroke",value:function(){var e=this.props.elementStyles,t=e[c.x.AUX];return o.a.createElement("svg",{height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 ".concat(fe*this.findScale(c.x.AUX)," ").concat(he*this.findScale(c.x.AUX)),width:"100%"},o.a.createElement("line",{stroke:e[c.x.AUX].strokeColor,strokeDasharray:f.b.STROKE_DASH_ARRAYS[t.strokePattern],strokeLinecap:"butt",strokeWidth:t.strokeWidth*this.findScale(c.x.AUX),x1:8*this.findScale(c.x.AUX),x2:32*this.findScale(c.x.AUX),y1:10*this.findScale(c.x.AUX),y2:10*this.findScale(c.x.AUX)}))}},{key:"renderAuxIcon",value:function(){return this.props.selectedTool===c.y.FILL?this.renderAuxIconFill():this.renderAuxIconStroke()}},{key:"renderMainIconFill",value:function(){var e=this.props.elementStyles[c.x.MAIN];return o.a.createElement("svg",{height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 ".concat(fe," ").concat(he),width:"100%"},o.a.createElement("rect",{fill:e.fillColor,height:12,opacity:e.fillOpacity,width:32,x:4,y:4}))}},{key:"renderMainIconStroke",value:function(){var e=this.props.elementStyles,t=e[c.x.MAIN];return o.a.createElement("svg",{height:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 ".concat(fe*this.findScale(c.x.MAIN)," ").concat(he*this.findScale(c.x.MAIN)),width:"100%"},o.a.createElement("line",{stroke:e[c.x.MAIN].strokeColor,strokeDasharray:f.b.STROKE_DASH_ARRAYS[t.strokePattern],strokeLinecap:"butt",strokeWidth:t.strokeWidth*this.findScale(c.x.MAIN),x1:8*this.findScale(c.x.MAIN),x2:32*this.findScale(c.x.MAIN),y1:10*this.findScale(c.x.MAIN),y2:10*this.findScale(c.x.MAIN)}))}},{key:"renderMainIcon",value:function(){return this.props.selectedTool===c.y.FILL?this.renderMainIconFill():this.renderMainIconStroke()}},{key:"renderStyleProperties",value:function(){var e=this,t=this.props,n=t.elementStyles,r=t.literals,i=(t.selectedGeometries,t.selectedTool);return o.a.createElement(te,{literals:r,onChange:this.handlePropertiesChange,properties:n[n.selectedLayer],ref:function(t){return e.stylePropertiesRef=t},selectedLayer:n.selectedLayer,selectedTool:i})}},{key:"render",value:function(){var e=this.props,t=(e.literals,e.elementStyles);return o.a.createElement("div",{className:ne["styles-component"]},o.a.createElement("div",{className:ne.tabs},o.a.createElement("button",{className:"".concat(ne["layer-bt"]," ").concat(t.selectedLayer==c.x.MAIN?ne.selected:""),"data-name":c.x.MAIN,onClick:this.handleLayerBtClick},this.renderMainIcon()),o.a.createElement("button",{className:"".concat(ne["layer-bt"]," ").concat(t.selectedLayer==c.x.AUX?ne.selected:""),"data-name":c.x.AUX,onClick:this.handleLayerBtClick},this.renderAuxIcon())),this.renderStyleProperties())}}])&&se(t.prototype,n),r&&se(t,r),a}(o.a.Component);de.propTypes={elementStyles:a.a.editorStyleLayers,literals:i.PropTypes.object.isRequired,selectedGeometries:i.PropTypes.array,selectedTool:i.PropTypes.string},de.defaultProps={elementStyles:{}};var ye=de,be={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767","tool-bar-draggable":"tool-bar-draggable--d29","tool-bar":"tool-bar--33b",dragger:"dragger--eae",bt:"bt--af0",selected:"selected--de8",on:"on--288",disabled:"disabled--fb8","styles-wrapper":"styles-wrapper--6f6"};function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ge(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var o=Pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;return Oe(e)}(this,n)}}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,e);var t,n,r,i=Ee(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleStylesChange=t.handleStylesChange.bind(Oe(t)),t.handleToggleSwitchTool=t.handleToggleSwitchTool.bind(Oe(t)),t.handleToolSelected=t.handleToolSelected.bind(Oe(t)),t}return t=a,(n=[{key:"handleToggleSwitchTool",value:function(e){var t=this.props.onToggleSwitchTool;t&&t({action:e.currentTarget.dataset.action,type:e.currentTarget.dataset.type})}},{key:"handleToolSelected",value:function(e){var t=this.props.onToolSelected;t&&t(e.currentTarget.dataset.type)}},{key:"handleStylesChange",value:function(e){this.props.onStylesChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabledTools,r=t.elementStyles,i=t.literals,a=t.selectedTool,l=t.switchToolsActivated,p=s.a.URL_DESIGN_EDITOR_TOOL_BAR,f=[{type:c.y.KEYBOARD,iconName:"virtual-keyboard",tooltip:i.TOOL_VIRTUAL_KEYBOARD},{type:c.y.TEXT,iconName:"text",tooltip:i.TOOL_TEXT},{type:c.y.CURSOR,iconName:"cursor",tooltip:i.TOOL_CURSOR},{type:c.y.ERASER,iconName:"erase",tooltip:i.TOOL_ERASER},{type:c.y.MOVE,iconName:"move",tooltip:i.TOOL_MOVE},{action:c.g.SIZE_CALCULATOR_TOGGLE_VISIBLE,type:c.y.SIZE_CALCULATOR,handler:this.handleToggleSwitchTool,iconName:"size-calculator",tooltip:i.TOOL_SIZE_CALCULATOR},{type:c.y.TAG,iconName:"tag",tooltip:i.TOOL_TAG},{type:c.y.POINT,iconName:"point",tooltip:i.TOOL_POINT},{type:c.y.LINE,iconName:"line",tooltip:i.TOOL_LINE},{type:c.y.LINE_PARALLEL,iconName:"line-parallel",tooltip:i.TOOL_LINE_PARALLEL},{type:c.y.LINE_PERPENDICULAR,iconName:"line-perpendicular",tooltip:i.TOOL_LINE_PERPENDICULAR},{type:c.y.LINE_ANGLE,iconName:"line-angle",tooltip:i.TOOL_LINE_ANGLE},{type:c.y.CIRCLE,iconName:"circle",tooltip:i.TOOL_CIRCLE},{type:c.y.ARC,iconName:"arc",tooltip:i.TOOL_ARC},{type:c.y.CURVE,iconName:"curve",tooltip:i.TOOL_CURVE},{type:c.y.FILL,iconName:"fill",tooltip:i.TOOL_FILL}];return o.a.createElement(u.c,{className:be["tool-bar-draggable"],hitId:null,id:"tool-bar"},o.a.createElement("div",{className:be["tool-bar"]},f.map((function(t,r){return o.a.createElement("button",{className:[be.bt,a==t.type?be.selected:"",-1!=l.indexOf(t.type)?be.on:"",n&&-1!=n.indexOf(t.type)?be.disabled:""].join(" "),"data-action":t.action,"data-type":t.type,key:"".concat(t.type,"-").concat(r),onClick:t.handler||e.handleToolSelected},o.a.createElement("img",{alt:t.tooltip,draggable:!1,src:"".concat(p,"/").concat(t.iconName,".svg"),title:t.tooltip}))})),o.a.createElement("div",{className:be["styles-wrapper"]},o.a.createElement(ye,{elementStyles:r,literals:i,onChange:this.handleStylesChange,selectedGeometries:null,selectedTool:a}))))}}])&&ve(t.prototype,n),r&&ve(t,r),a}(o.a.Component);Se.propTypes={disabledTools:i.PropTypes.arrayOf(i.PropTypes.oneOf([c.y.ARC,c.y.CIRCLE,c.y.CURSOR,c.y.CURVE,c.y.ERASER,c.y.FILL,c.y.KEYBOARD,c.y.LINE_ANGLE,c.y.LINE_PARALLEL,c.y.LINE_PERPENDICULAR,c.y.LINE,c.y.MOVE,c.y.POINT,c.y.SIZE_CALCULATOR,c.y.TAG,c.y.TEXT])),elementStyles:a.a.editorStyleLayers,literals:i.PropTypes.object.isRequired,onStylesChange:i.PropTypes.func,onToggleSwitchTool:i.PropTypes.func,onToolSelected:i.PropTypes.func,selectedTool:i.PropTypes.string,switchToolsActivated:i.PropTypes.arrayOf(i.PropTypes.string)},Se.defaultProps={onStylesChange:function(){return null},onToolSelected:function(){return null},switchToolsActivated:[]};t.a=Se},YLdI:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("NbER"),s=n("w/WF"),c=n("npbA"),u=n("DZdP");n("4pP5");function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,i=d(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return t=u,(n=[{key:"renderFill",value:function(){var e=this.props,t=e.anchors,n=e.fillColor,r=e.fillOpacity,i=e.fillStrokeColor,u=e.id,l=e.isSelected,f=e.paths;if(!f||!f.length)return null;var h={stroke:"none"};l&&(h={stroke:n||i,strokeOpacity:.3,strokeWidth:c.b.SELECTED_OFFSET});var d=[],y="M ".concat(t[0].x," ").concat(t[0].y);return f.forEach((function(e,n){switch(y+=" ",e&&e.type){case s.i.ARC:y+="L ".concat(e.vertexA.x," ").concat(e.vertexA.y," ").concat(Object(a.i)(e.center.x,e.center.y,e.radius,e.degreeA,e.degreeB,e.direction));break;case s.i.CIRCLE:d.push(o.a.createElement("circle",p({cx:e.center.x,cy:e.center.y,key:"".concat(u,"__circle_").concat(n),opacity:r,r:e.radius},h)));break;case s.i.CURVE:var i=!Object(a.b)(e.anchors[0],t[n]);y+="".concat(Object(a.n)(e.anchors,i));break;case s.i.LINE:y+="L ".concat(e.vertexB.x," ").concat(e.vertexB.y)}})),d.push(o.a.createElement("path",p({d:"".concat(y," Z"),key:"".concat(u,"__path")},h))),d}},{key:"render",value:function(){var e=this.props,t=e.fillColor,n=e.fillOpacity,r=e.fillPattern,i=e.fillStrokeColor,a=e.fillStrokeDegree,s=e.fillStrokeSpacing,c=e.fillStrokeWidth,u=e.id;return this.renderElement(o.a.createElement(o.a.Fragment,null,r&&"striped"==r?o.a.createElement(o.a.Fragment,null,o.a.createElement("defs",null,o.a.createElement("pattern",{height:c+s,id:"".concat(u,"__pattern-stripes"),patternTransform:"rotate(".concat(-a,")"),patternUnits:"userSpaceOnUse",width:c+s},o.a.createElement("rect",{fill:i,height:c,transform:"translate(0,0)",width:c+s}))),o.a.createElement("g",{fill:"url(#".concat(u,"__pattern-stripes)")},this.renderFill())):o.a.createElement("g",{fill:t,opacity:n},this.renderFill())))}}])&&f(t.prototype,n),r&&f(t,r),u}(u.a);b.propTypes={anchors:i.PropTypes.arrayOf(i.PropTypes.shape({x:i.PropTypes.number,y:i.PropTypes.number})),fillColor:i.PropTypes.string,fillOpacity:i.PropTypes.number,fillPattern:i.PropTypes.string,fillStrokeColor:i.PropTypes.string,fillStrokeDegree:i.PropTypes.number,fillStrokeSpacing:i.PropTypes.number,fillStrokeWidth:i.PropTypes.number,id:i.PropTypes.string,paths:i.PropTypes.array},t.a=b},YQ8f:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("NbER"),s=n("npbA"),c=n("DZdP"),u=n("4pP5");function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,r,i=h(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.anchors,n=e.isSelected,r=e.strokeColor,i=e.strokeWidth;return t.length<2?null:this.renderElement(o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{d:"M ".concat(t[0].x," ").concat(t[0].y," ").concat(Object(a.n)(t)),fill:"none",stroke:r,strokeLinecap:"round",strokeWidth:i}),!this.isReadOnly()&&o.a.createElement(o.a.Fragment,null,n?o.a.createElement("path",{className:u.a["highlight-fill"],d:"M ".concat(t[0].x," ").concat(t[0].y," ").concat(Object(a.n)(t)),fill:"none",key:"highlight-fill",stroke:r,strokeLinecap:"round",strokeWidth:i+s.b.SELECTED_OFFSET}):o.a.createElement("path",{className:u.a.hit,d:"M ".concat(t[0].x," ").concat(t[0].y," ").concat(Object(a.n)(t)),fill:"none",key:"hit",stroke:r,strokeLinecap:"round",strokeWidth:Object(s.a)(i)}))))}}])&&p(t.prototype,n),r&&p(t,r),c}(c.a);y.propTypes={anchors:i.PropTypes.arrayOf(i.PropTypes.shape({x:i.PropTypes.number,y:i.PropTypes.number}))},t.a=y},ZXta:function(e,t,n){"use strict";n.r(t);var r=n("w/WF"),o=n("0Ogr");function i(e){return function(t,n){switch(t){case r.g.ESCAPE:e.escape();break;case r.g.NEW_DOCUMENT:e.newDocument();break;case r.g.NEW_PAGE:e.newPage();break;case r.g.OPEN_DOCUMENT:e.openDocument();break;case r.g.SAVE_DOCUMENT:e.downloadDocument();break;case r.g.SAVE_DOCUMENT_FOR_STUDENT:e.downloadDocumentForStudent();break;case r.g.PUBLISH_EXERCISE_REQUESTED:e.showDialog(r.h.DIALOG_PUBLISH_EXERCISE);break;case r.g.PAGE_SETUP:e.showDialog(r.h.DIALOG_PAGE_SETUP);break;case r.g.PRINT_DOCUMENT:e.showDialog(r.h.DIALOG_PRINT);break;case r.g.UNDO:o.a.undo();break;case r.g.REDO:o.a.redo();break;case r.g.SET_LANGUAGE:case r.g.HELP:case r.g.ABOUT:break;case r.g.SIZE_CALCULATOR_TOGGLE_VISIBLE:e.toggleSizeCalculatorVisible();break;case r.g.VIRTUAL_KEYBOARD_TOGGLE_VISIBLE:e.toggleVirtualKeyboardVisible()}}}var a=n("BkRI"),s=n.n(a),c=n("TWa+");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(t,n){var o=e.state.dialogs,i=r.z.EDITOR_SHOW_DIALOG_,a=s()(o);for(var u in a)a[u].isVisible=!1;e.setState({dialogs:l(l({},s()(a)),{},p({},t,l(l({},n),{},{isVisible:!0})))}),Object(c.a)(i.replace("{name}",t).toLowerCase())}}function h(e){return function(t){var n=e.state.dialogs,r=s()(n);if(t)"string"==typeof t&&(t=[t]),t.forEach((function(e){return r[e].isVisible=!1}));else for(var o in r)r[o].isVisible=!1;e.setState({dialogs:s()(r)})}}var d=n("6/BQ");function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return function(){e.documentRef&&e.documentRef.escape()}}function O(e){return function(t){if(t)e.setState({documentData:Object(d.a)({mode:r.f.MODE_TEACHER,preferences:e.state.preferences})},(function(){return e.takeMemoirSnapshot("New document")}));else{var n=e.props.literals;e.showDialog(r.h.DIALOG_ALERT,{acceptText:n.CONTINUE,message:n.ALERT_NEW_DOCUMENT,onAccept:function(){e.hideDialogs(),e.newDocument(!0)},tittle:n.NEW_DOCUMENT})}}}function P(e){return function(){var t=e.state,n=t.documentData,r=t.preferences;n?e.setState({documentData:v(v({},n),{},{pages:[].concat(y(n.pages),[Object(d.d)({mode:n.mode,preferences:r})])})},(function(){return e.takeMemoirSnapshot("New page")})):e.setState({documentData:Object(d.a)({preferences:r})})}}var S=n("rye4"),T=n("NbER"),_=n("eTXk");function C(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function e(t,n){var o=new S.a;switch(t.style=Object(_.b)(t.type,t.style),t.type){case r.i.ARC:t.center=o.insertVertexIntoPage(t.center,n),t.centerRef=o.insertVertexIntoPage(t.centerRef,n),t.vertexA=o.insertVertexIntoPage(t.vertexA,n),t.vertexARef=o.insertVertexIntoPage(t.vertexARef,n),t.vertexB=o.insertVertexIntoPage(t.vertexB,n),t.vertexBRef=o.insertVertexIntoPage(t.vertexBRef,n);break;case r.i.CIRCLE:t.center=o.insertVertexIntoPage(t.center,n),t.centerRef=o.insertVertexIntoPage(t.centerRef,n),t.radiusVertexRef=o.insertVertexIntoPage(t.radiusVertexRef,n);break;case r.i.CURVE:t.anchors=t.anchors.map((function(e){return o.insertVertexIntoPage(e,n)}));break;case r.i.FILL:t.anchors=t.anchors.map((function(e){return o.insertVertexIntoPage(e,n)})),t.paths=t.paths.map((function(t){return e(t,n)}));break;case r.i.LINE:t.vertexA=o.insertVertexIntoPage(t.vertexA,n),t.vertexARef=o.insertVertexIntoPage(t.vertexARef,n),t.vertexB=o.insertVertexIntoPage(t.vertexB,n),t.vertexBRef=o.insertVertexIntoPage(t.vertexBRef,n);break;case r.i.POINT:case r.i.TAG:t.position=o.insertVertexIntoPage(t.position,n),t.positionRef=o.insertVertexIntoPage(t.positionRef,n)}return o.insertGeometryIntoPage(t,n,t.type)},j=function(e,t,n,o){var i=new S.a,a=A(e,t),s=Object(T.C)(n);switch(i.insertIntersectionsIntoPage(t.elements[a],t,s),n){case r.j.EDIT_ANSWER:case r.j.EDIT_SOLUTION:var c={elements:[a]};t[s].steps||(t[s].steps=[]),void 0!==o&&o<t[s].steps.length-1?t[s].steps.splice(o,0,c):t[s].steps.push(c),t[s].id=Object(T.S)(s.toLowerCase());break;case r.j.EDIT_STATEMENT:t[s].elements||(t[s].elements=[]),t[s].elements.push(a),t[s].id=Object(T.S)(s.toLowerCase());break;default:t.elements&&delete t.elements[a]}return t};function I(e){return function(t){var n=t.currentStep,r=t.elementData,o=t.pageId,i=t.pageSection;if(r){var a=e.state,c=a.documentData,u=a.isSizeCalculatorPickActivated,l=!1;e.setState({documentData:D(D({},c),{},{pages:c.pages.map((function(t){if(t.id==o){l=!0;var a=j(s()(r),s()(t.mggPage),i,n);return a.key=Object(T.S)("mggpage"),u&&e.sizeCalculatorRef&&e.sizeCalculatorRef.contributeLength(Object(T.B)(r)),D(D({},t),{},{mggPage:a})}return t}))})},(function(){l&&e.takeMemoirSnapshot("Add element")}))}}}function x(e){return function(t){var n=t.elementIds,r=t.pageId;if(!Array.isArray(n)||!n.length)return null;var o=e.state.documentData,i=!1;e.setState({documentData:D(D({},o),{},{pages:o.pages.map((function(e){if(e.id==r){i=!0;var t=s()(e.mggPage);return(new S.a).removeElements(n,t),t.key=Object(T.S)("mggpage"),D(D({},e),{},{mggPage:t})}return e}))})},(function(){i&&e.takeMemoirSnapshot("Remove elements")}))}}function L(e){return function(t){var n=t.elementIds,o=t.newElementId,i=t.pageId,a=e.state,c=a.documentData,u=a.isSizeCalculatorPickActivated,l=a.scale,p=a.selectedTool,f=!1;e.setState({documentData:D(D({},c),{},{pages:c.pages.map((function(t){if(t.id==i){f=!0;var a=s()(t);return o&&p==r.y.CURSOR&&u&&e.sizeCalculatorRef&&e.sizeCalculatorRef.contributeLength(Object(T.B)(Object(T.cb)(o,a.mggPage,l))),a.selectedElementIds=C(n),a}return t}))})},(function(){f&&e.takeMemoirSnapshot("Elements selection change")}))}}function N(e){return function(t){var n=t.pageId,r=t.vector,o=e.state.documentData,i=!1;e.setState({documentData:D(D({},o),{},{pages:o.pages.map((function(e){if(e.id==n){i=!0;var t=s()(e.mggPage);return(new S.a).moveElements(e.selectedElementIds,r,t),t.key=Object(T.S)("mggpage"),D(D({},e),{},{mggPage:t})}return e}))})},(function(){i&&e.takeMemoirSnapshot("Elements moved")}))}}function M(e){return function(t){var n=t.pageId,r=t.tagId,o=e.state.documentData;e.setState({documentData:D(D({},o),{},{pages:o.pages.map((function(e){if(e.id==n){!0;var t=s()(e.mggPage);return t.elements[r]&&(t.elements[r].readOnly=!1),t.key=Object(T.S)("mggpage"),D(D({},e),{},{mggPage:t})}return e}))})},(function(){}))}}function F(e){return function(t){var n=t.delta,r=t.htmlText,o=t.pageId,i=t.tagId,a=e.state.documentData;e.setState({documentData:D(D({},a),{},{pages:a.pages.map((function(e){if(e.id==o){!0;var t=s()(e.mggPage);return t.elements[i]&&(t.elements[i].delta=n,t.elements[i].text=r,t.elements[i].readOnly=!0),t.key=Object(T.S)("mggpage"),D(D({},e),{},{mggPage:t})}return e}))})},(function(){}))}}var B=n("52Kp");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){return function(t){e.showDialog(r.h.DIALOG_OPEN_FILE,{onAccept:function(t){e.hideDialogs(),e.setState({documentData:Object(d.a)({mgg:Object(T.lb)(t),preferences:e.state.preferences})})}})}}function H(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.p.TEACHER,n=e.state.documentData,o=r.z.EDITOR_SAVE_DOCUMENT;if(n){var i=W(W({},n),{},{mode:t,pages:n.pages.map((function(e){return e.mggPage}))}),a=new Blob([Object(B.b)(JSON.stringify(i))],{type:"application/json"});Object(T.g)(a,"".concat(t,".mgg")),Object(c.a)(o)}}}function z(e){return function(){var t=r.z.EDITOR_SAVE_DOCUMENT_FOR_STUDENT;e.downloadDocument(r.p.STUDENT),Object(c.a)(t)}}function q(e){return function(){var t=W({},t);for(var n in dialogsVisibility)t[n]=!1;e.setState({dialogs:W(W({},t),{},{isPublishExerciseVisible:!0})})}}function K(e){return function(){}}function X(e){return function(){}}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){return function(t){var n=t.currentStep,r=t.pageId,o=e.state.documentData,i=!1;e.setState({documentData:J(J({},o),{},{pages:o.pages.map((function(e){return e.id==r&&(i=!0,e.currentStep=n),e}))})},(function(){i&&e.takeMemoirSnapshot("Page current step changed")}))}}function Q(e){return function(t){var n=t.pageId,r=e.state.documentData,o=r.pages.length;o>1&&e.setState({documentData:J(J({},r),{},{pages:r.pages.filter((function(e){return e.id!=n}))})},(function(){o!=e.state.documentData.pages.length&&e.takeMemoirSnapshot("Page removed")}))}}function ee(e){return function(t){var n=t.pageId,r=t.pageSection,o=e.state.documentData,i=!1;e.setState({documentData:J(J({},o),{},{pages:o.pages.map((function(e){if(e.id==n){i=!0;var t=s()(e);return t.currentSection=r,t}return e}))})},(function(){i&&e.takeMemoirSnapshot("Page section changed")}))}}function te(e){return function(t){var n=t.height,o=t.margins,i=t.width,a=e.state,c=a.documentData,u=a.preferences,l=!1;e.setState({documentData:J(J({},c),{},{pages:c.pages.map((function(e){l=!0;var t=s()(e);return t.mggPage.width=i,t.mggPage.height=n,t.mggPage.margins=J({},o),t.mggPage.key=Object(T.S)("mggpage"),t}))}),preferences:J(J({},u),{},{height:n,margins:J({},o),width:i})},(function(){var t=r.e.COOKIE_EDITOR_PREFERENCES;l&&e.takeMemoirSnapshot("Page setup changed"),Object(T.nb)(t,JSON.stringify(e.state.preferences))}))}}function ne(e){return function(t){var n=t.pageId,r=t.speedRatio,o=e.state.documentData,i=!1;e.setState({documentData:J(J({},o),{},{pages:o.pages.map((function(e){if(e.id==n){i=!0;var t=s()(e);return t.speedRatio=r,t}return e}))})},(function(){i&&e.takeMemoirSnapshot("Page speed ratio change")}))}}function re(e){return function(t,n){var r=t.delta,o=t.htmlText,i=t.pageId,a=e.state.documentData;e.setState({documentData:J(J({},a),{},{pages:a.pages.map((function(e){return e.id==i?(!0,e.mggPage.statement.delta=r,e.mggPage.statement.text=o,e):e}))})},(function(){n&&n()}))}}function oe(e){return function(t){e.setState({isFullScreen:Object(T.X)(e.ref)},(function(){window.setTimeout((function(){e.handleWindowResize()}),500)}))}}function ie(e){return function(){e.ref&&e.setState({isFullScreen:Object(T.rb)(e.ref)},(function(){var t=r.z.VIEWER_FULLSCREEN_;window.setTimeout((function(){e.handleWindowResize()}),500),Object(c.a)(t.replace("{mode}",e.state.isFullScreen))}))}}function ae(e){return function(t){e.sizeCalculatorRef&&e.sizeCalculatorRef.contributeLength(t)}}function se(e){return function(){e.setState({isSizeCalculatorVisible:!1},(function(){return e.takeMemoirSnapshot("Size calculator close")}))}}function ce(e){return function(t){t!=e.state.sizeCalculatorValue&&e.setState({sizeCalculatorValue:t},(function(){return e.takeMemoirSnapshot("Size calculator value changed")}))}}function ue(e){return function(){e.setState({isSizeCalculatorApplyActivated:!e.state.isSizeCalculatorApplyActivated},(function(){return e.takeMemoirSnapshot("Toggle size calculator apply functionality")}))}}function le(e){return function(){var t=!e.state.isSizeCalculatorPickActivated;!0===t&&e.setTool(r.y.CURSOR),e.setState({isSizeCalculatorPickActivated:t},(function(){return e.takeMemoirSnapshot("Toggle size calculator pick functionality")}))}}function pe(e){return function(){var t=e.state.isSizeCalculatorVisible;e.setState({isSizeCalculatorVisible:!t},(function(){return e.takeMemoirSnapshot("Toggle size calculator visible")}))}}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){return function(t){var n=e.state.documentData,r=!1;e.setState({documentData:he(he({},n),{},{pages:n.pages.map((function(e){if(e.selectedElementIds.length){var n=s()(e);return e.selectedElementIds.forEach((function(e){var o=n.mggPage.elements[e];o&&(r=!0,o.style=Object(_.b)(o.type,t))})),r&&(n.mggPage.key=Object(T.S)("mggpage")),n}return e}))})},(function(){r&&e.takeMemoirSnapshot("Set style to selected elements")}))}}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e){return function(){var t=e.state.documentData,n=[r.y.KEYBOARD];return t&&t.mode==r.f.MODE_STUDENT&&(n=[r.y.KEYBOARD,r.y.TEXT]),n}}function Ee(e){return function(t){var n=t.action;t.type,e.state.switchToolsActivated;e.handleActionRequested(n)}}function Oe(e){return function(t){e.setTool(t)}}function Pe(e){return function(t){var n=e.state,o=n.documentData,i=n.selectedTool;e.setState({documentData:me(me({},o),{},{pages:o.pages.map((function(e){var n=new S.a,o=s()(e);return t==r.y.ERASER&&i!=r.y.MOVE&&Array.isArray(o.selectedElementIds)&&o.selectedElementIds.length&&(n.removeElements(o.selectedElementIds,o.mggPage),o.mggPage.key=Object(T.S)("mggpage")),i==r.y.MOVE&&t!=r.y.MOVE&&(n.insertEveryIntersectionIntoPage(o.mggPage),o.selectedElementIds=[]),o}))}),selectedTool:t},(function(){return e.takeMemoirSnapshot("Set tool")}))}}function Se(e){return function(){var t=e.state.isVirtualKeyboardVisible;e.setState({isVirtualKeyboardVisible:!t})}}n.d(t,"handleActionRequested",(function(){return i})),n.d(t,"showDialog",(function(){return f})),n.d(t,"hideDialogs",(function(){return h})),n.d(t,"escape",(function(){return E})),n.d(t,"newDocument",(function(){return O})),n.d(t,"newPage",(function(){return P})),n.d(t,"handleElementAdded",(function(){return I})),n.d(t,"handleElementsRemoved",(function(){return x})),n.d(t,"handleElementsSelectionChange",(function(){return L})),n.d(t,"handleSelectedElementsMove",(function(){return N})),n.d(t,"handleTagEdit",(function(){return M})),n.d(t,"handleTagValidated",(function(){return F})),n.d(t,"openDocument",(function(){return G})),n.d(t,"downloadDocument",(function(){return H})),n.d(t,"downloadDocumentForStudent",(function(){return z})),n.d(t,"publishExercise",(function(){return q})),n.d(t,"configPages",(function(){return K})),n.d(t,"printDocument",(function(){return X})),n.d(t,"handlePageCurrentStepChange",(function(){return $})),n.d(t,"handlePageRemove",(function(){return Q})),n.d(t,"handlePageSectionChange",(function(){return ee})),n.d(t,"handlePageSetupChange",(function(){return te})),n.d(t,"handlePageSpeedRatioChange",(function(){return ne})),n.d(t,"handleStatementTextChange",(function(){return re})),n.d(t,"handleFullScreenChange",(function(){return oe})),n.d(t,"handleToggleFullScreen",(function(){return ie})),n.d(t,"handleLengthPick",(function(){return ae})),n.d(t,"handleSizeCalculatorClose",(function(){return se})),n.d(t,"handleSizeCalculatorValueChange",(function(){return ce})),n.d(t,"handleSizeCalculatorToggleApply",(function(){return ue})),n.d(t,"handleSizeCalculatorTogglePick",(function(){return le})),n.d(t,"toggleSizeCalculatorVisible",(function(){return pe})),n.d(t,"setStyleToSelectedElements",(function(){return ye})),n.d(t,"getDisabledTools",(function(){return ge})),n.d(t,"handleToggleSwitchTool",(function(){return Ee})),n.d(t,"handleToolSelected",(function(){return Oe})),n.d(t,"setTool",(function(){return Pe})),n.d(t,"toggleVirtualKeyboardVisible",(function(){return Se}))},eTXk:function(e,t,n){"use strict";var r=n("w/WF"),o=n("MVhW");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rank:e.rank||o.b.rank,strokeColor:e.strokeColor||o.b.strokeColor,strokeMarkerEnd:e.strokeMarkerEnd||o.b.strokeMarkerEnd,strokeMarkerStart:e.strokeMarkerStart||o.b.strokeMarkerStart,strokePattern:e.strokePattern||o.b.strokePattern,strokeWidth:void 0!==e.strokeWidth?e.strokeWidth:o.b.strokeWidth}}var a=n("npbA");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.b.DRAWING_REF_STYLE)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rank:e.rank||o.b.rank,strokeColor:e.strokeColor||o.b.strokeColor,strokePattern:e.strokePattern||o.b.strokePattern,strokeWidth:void 0!==e.strokeWidth?e.strokeWidth:o.b.strokeWidth}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.b.DRAWING_REF_STYLE)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rank:e.rank||o.b.rank,strokeColor:e.strokeColor||o.b.strokeColor,strokeMarkerEnd:e.strokeMarkerEnd||o.b.strokeMarkerEnd,strokeMarkerStart:e.strokeMarkerStart||o.b.strokeMarkerStart,strokePattern:e.strokePattern||o.b.strokePattern,strokeWidth:void 0!==e.strokeWidth?e.strokeWidth:o.b.strokeWidth}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{fillColor:e.fillColor||o.b.fillColor,fillOpacity:void 0!==e.fillOpacity?e.fillOpacity:o.b.fillOpacity,fillPattern:e.fillPattern||o.b.fillPattern,fillStrokeColor:e.fillStrokeColor||o.b.fillStrokeColor,fillStrokeDegree:void 0!==e.fillStrokeDegree?e.fillStrokeDegree:o.b.fillStrokeDegree,fillStrokeSpacing:void 0!==e.fillStrokeSpacing?e.fillStrokeSpacing:o.b.fillStrokeSpacing,fillStrokeWidth:void 0!==e.fillStrokeWidth?e.fillStrokeWidth:o.b.fillStrokeWidth,rank:e.rank||o.b.rank}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rank:e.rank||o.b.rank,strokeColor:e.strokeColor||o.b.strokeColor,strokeMarkerEnd:e.strokeMarkerEnd||o.b.strokeMarkerEnd,strokeMarkerStart:e.strokeMarkerStart||o.b.strokeMarkerStart,strokePattern:e.strokePattern||o.b.strokePattern,strokeWidth:void 0!==e.strokeWidth?e.strokeWidth:o.b.strokeWidth}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.b.DRAWING_REF_STYLE)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rank:e.rank||o.b.rank,strokeColor:e.strokeColor||o.b.strokeColor,strokeWidth:void 0!==e.strokeWidth?e.strokeWidth:o.b.strokeWidth}}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.b.DRAWING_REF_STYLE)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{fillColor:e.fillColor||o.b.fillColor,fillOpacity:void 0!==e.fillOpacity?e.fillOpacity:o.b.fillOpacity,rank:e.rank||o.b.rank,strokeColor:e.strokeColor||o.b.strokeColor}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.b.DRAWING_REF_STYLE)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rank:e.rank||o.b.rank,strokeColor:e.strokeColor||o.b.strokeColor}}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=k(k({},x),{},{degree:void 0,type:r.d.ANGLE}),I={length:void 0,type:r.d.INPUT_LENGTH},x={reference:void 0,type:void 0},L={dependant:void 0,reference:void 0,type:void 0};function N(e){return function(e){switch(e){case r.d.ANGLE:return j;case r.d.INPUT_LENGTH:return I;case r.d.PARALLEL:case r.d.PERPENDICULAR:return k(k({},x),{},{type:e});case r.d.SNAP_CENTER:case r.d.SNAP_DEGREE_15:case r.d.SNAP_END:case r.d.SNAP_INTERSECTION:case r.d.SNAP_MIDPOINT:case r.d.SNAP_NEAR:case r.d.SNAP_POINT:case r.d.SNAP_START:return k(k({},L),{},{type:e})}return null}(e)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rank:r.u.MAIN,strokeColor:e.strokeColor||o.b.strokeColor,strokeWidth:void 0!==e.strokeWidth?e.strokeWidth:o.b.strokeWidth}}function F(){return{id:void 0,position:void 0,rotation:void 0,style:M(),type:r.v.SNAP_INTERSECTION}}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t,n){var o=function(e){switch(e){case r.i.ARC:return{center:void 0,centerRef:void 0,constraints:[],degreeA:void 0,degreeB:void 0,direction:void 0,fixedSize:!1,id:void 0,intersections:[],radius:void 0,style:i(),type:r.i.ARC,vertexA:void 0,vertexARef:void 0,vertexB:void 0,vertexBRef:void 0};case r.i.ARC_REF:return{center:void 0,degreeA:void 0,degreeB:void 0,direction:void 0,id:void 0,radius:void 0,style:u(),type:r.i.ARC};case r.i.CIRCLE:return{center:void 0,centerRef:void 0,constraints:[],fixedSize:void 0,id:void 0,intersections:[],radius:void 0,radiusRef:void 0,radiusVertexRef:void 0,style:l(),type:r.i.CIRCLE};case r.i.CIRCLE_REF:return{center:void 0,id:void 0,radius:void 0,style:h(),type:r.i.CIRCLE};case r.i.CURVE:return{anchors:[],constraints:[],id:void 0,style:d(),type:r.i.CURVE};case r.i.FILL:return{anchors:[],constraints:[],id:void 0,paths:[],style:y(),type:r.i.FILL};case r.i.LINE:return{character:r.m.FREE,constraints:[],fixedSize:!1,id:void 0,intersections:[],style:b(),type:r.i.LINE,vertexA:void 0,vertexARef:void 0,vertexB:void 0,vertexBRef:void 0};case r.i.LINE_REF:return{character:r.m.FREE,id:void 0,style:g(),type:r.i.LINE,vertexA:void 0,vertexB:void 0};case r.i.POINT:return{constraints:[],id:void 0,position:void 0,positionRef:void 0,style:E(),type:r.i.POINT};case r.i.POINT_REF:return{id:void 0,position:void 0,style:S(),type:r.i.POINT};case r.i.RECT:return{id:void 0,position:void 0,style:T(),type:r.i.RECT};case r.i.RECT_REF:return{height:void 0,id:void 0,position:void 0,style:w(),type:r.i.RECT,width:void 0};case r.i.TAG:return{constraints:[],id:void 0,position:void 0,positionRef:void 0,readOnly:!0,rotation:0,style:R(),text:"",type:r.i.TAG}}return null}(e);return U(U(U({},o),t),{},{style:U(U({},o.style),n)})}function G(e,t){return function(e,t){switch(e){case r.i.ARC:return i(t);case r.i.ARC_REF:return u();case r.i.CIRCLE:return l(t);case r.i.CIRCLE_REF:return h();case r.i.CURVE:return d(t);case r.i.FILL:return y(t);case r.i.LINE:return b(t);case r.i.LINE_REF:return g();case r.i.POINT:return E(t);case r.i.POINT_REF:return S();case r.i.RECT:return T();case r.i.RECT_REF:return w();case r.i.TAG:return R(t)}return null}(e,t)}n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return G})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return F}))},fE1x:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("NbER"),c=n("w/WF"),u=n("npbA"),l={snap:"snap--6bf","--visible":"--visible--0b5",hit:"hit--4e8"};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,i=m(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleSnap=t.handleSnap.bind(v(t)),t}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e){return e.position.x!==this.props.position.x||e.position.y!==this.props.position.y||e.rotation!==this.props.rotation||e.type!==this.props.type}},{key:"handleSnap",value:function(e){var t=this.props,n=t.onSnap,r=t.position,o=t.type;e.preventDefault(),e.stopPropagation(),n(e,{position:h({},r),type:o})}},{key:"render",value:function(){var e=this.props,t=(e.index,e.isVisible),n=e.position,r=e.rotation,i=null,a=[];switch(e.type){case c.v.SNAP_CENTER:case c.v.SNAP_POINT:i=o.a.createElement("circle",{cx:"0",cy:"0",r:u.b.SNAP_HIT_RADIUS,stroke:u.b.SNAP_ICON_STROKE_COLOR,strokeWidth:u.b.SNAP_ICON_STROKE_WIDTH,fill:"none"});break;case c.v.SNAP_INTERSECTION:var p=u.b.SNAP_ICON_STROKE_COLOR;i=o.a.createElement("g",null,o.a.createElement("line",{x1:u.b.SNAP_HIT_RADIUS,y1:0,x2:-u.b.SNAP_HIT_RADIUS,y2:0,stroke:p,strokeWidth:u.b.SNAP_ICON_STROKE_WIDTH}),o.a.createElement("line",{x1:0,y1:u.b.SNAP_HIT_RADIUS,x2:0,y2:-u.b.SNAP_HIT_RADIUS,stroke:p,strokeWidth:u.b.SNAP_ICON_STROKE_WIDTH}));break;case c.v.SNAP_MIDPOINT:a=[{x:u.b.SNAP_HIT_RADIUS/1.5,y:0},{x:0,y:u.b.SNAP_HIT_RADIUS},{x:-u.b.SNAP_HIT_RADIUS/1.5,y:0},{x:0,y:-u.b.SNAP_HIT_RADIUS},{x:u.b.SNAP_HIT_RADIUS/1.5,y:0}];break;case c.v.SNAP_END:case c.v.SNAP_START:a=[{x:u.b.SNAP_HIT_RADIUS,y:0},Object(s.G)(120,u.b.SNAP_HIT_RADIUS),Object(s.G)(240,u.b.SNAP_HIT_RADIUS),{x:u.b.SNAP_HIT_RADIUS,y:0}]}return a.length&&(i=o.a.createElement("polygon",{points:a.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "),stroke:u.b.SNAP_ICON_STROKE_COLOR,strokeWidth:u.b.SNAP_ICON_STROKE_WIDTH,fill:"none"})),o.a.createElement("g",{className:[l.snap,t?l["--visible"]:""].join(" "),onMouseDown:this.handleSnap,onMouseUp:this.handleSnap},o.a.createElement("circle",{className:"snap ".concat(l.hit),cx:n.x,cy:n.y,r:u.b.SNAP_HIT_RADIUS,stroke:"none",fill:u.b.SNAP_BCK_FILL_COLOR}),o.a.createElement("g",{transform:"translate(".concat(n.x," ").concat(n.y,")").concat(r?" rotate(".concat(r,")"):"")},i))}}])&&y(t.prototype,n),r&&y(t,r),a}(o.a.Component);E.propTypes={isVisible:i.PropTypes.bool,onSnap:i.PropTypes.func,position:a.a.vertex,rotation:i.PropTypes.number,type:a.a.snapTypes},E.defaultProps={isVisible:!1,onSnap:function(){return null},position:{},rotation:0};t.a=E},k2Pt:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("w/WF"),s=n("NbER"),c=n("IdFE"),u=n("MfYB"),l=n("R5uQ"),p=n("/6+3"),f={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",input:"input--6b7",small:"small--ff1",numeric:"numeric--629",row:"row--e7e",validation__text:"validation__text--b97",comment:"comment--ee9","-invalid":"-invalid--fad","-bt-attached":"-bt-attached--98e"};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;return m(e)}(this,n)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,r,i=b(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=i.call(this,e)).handleCopyToClipboard=t.handleCopyToClipboard.bind(m(t)),t}return t=p,(n=[{key:"handleCopyToClipboard",value:function(){var e=this.props.onCopy;Object(s.e)(this.getValue()),e&&e({data:this.getValue()})}},{key:"getValue",value:function(){return this.ref?this.ref.value:null}},{key:"setValue",value:function(e){this.ref&&(this.ref.value=e,this.handleChange())}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoComplete,r=t.copy,i=t.comment,s=t.id,p=t.inputMode,h=t.label,d=t.max,y=t.maxLength,b=t.min,m=t.name,v=t.pattern,g=t.placeholder,E=t.readOnly,O=t.required,P=t.size,S=t.type,T=t.value,_=this.state,C=(_.changed,_.validation),w="";C&&void 0!==C.valid&&(w=C.valid?f["-valid"]:f["-invalid"]);var R="";return r&&(R=f["-bt-attached"]),o.a.createElement("div",{className:["input",f.input,f[p],P?f[P]:"",w,R].join(" ")},h&&o.a.createElement(l.a,{id:s,size:P,text:h}),o.a.createElement("div",{className:f.row},o.a.createElement("input",{autoComplete:n||"off",defaultValue:T,id:s,inputMode:p||"text",max:d,maxLength:y||128,min:b,name:m,onChange:this.handleChange,pattern:v,placeholder:g,ref:function(t){return e.ref=t},readOnly:E,required:void 0!==O&&O,type:S||"text"}),r&&o.a.createElement("div",{className:f["copy-bt-wrapper"]},o.a.createElement(u.a,{onClick:this.handleCopyToClipboard,shape:a.a.BUTTON_ATTACHED_INPUT},o.a.createElement(c.j,null)))),C&&C.message&&o.a.createElement("div",{className:f.validation__text},C.message),i&&o.a.createElement("div",{className:f.comment},i))}}])&&d(t.prototype,n),r&&d(t,r),p}(p.a);g.propTypes={autoComplete:i.PropTypes.string,availability:i.PropTypes.string,copy:i.PropTypes.bool,id:i.PropTypes.string,inputMode:i.PropTypes.string,literalErrorInvalid:i.PropTypes.string,literalErrorNotAvailable:i.PropTypes.string,literalErrorRequired:i.PropTypes.string,max:i.PropTypes.number,maxLength:i.PropTypes.number,min:i.PropTypes.number,name:i.PropTypes.string,onChange:i.PropTypes.func,onCopy:i.PropTypes.func,pattern:i.PropTypes.string,placeholder:i.PropTypes.string,readOnly:i.PropTypes.bool,required:i.PropTypes.bool,size:i.PropTypes.oneOf(["small","medium","large"]),type:i.PropTypes.string,validationExcludeUserId:i.PropTypes.string,value:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number])};t.a=g},nJ0Q:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("w/WF"),c=n("PKFp"),u=n("NIcq"),l="rating-container--dca",p="star--2ba";function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=e.count,n=e.exerciseId,i=e.loggedUser,a=e.name,d=e.rating,y=h(Object(r.useState)(t),2),b=y[0],m=y[1],v=h(Object(r.useState)(d),2),g=v[0],E=v[1],O=function(e){if(i&&0===parseInt(i.id)){var t,r=parseInt(e.currentTarget.dataset.rating);Object(c.n)((t={},f(t,s.t.EXERCISE_ID,n),f(t,s.t.RATING,r),f(t,s.t.USER_ID,i.id),t)).then((function(e){var t=e.exerciseId,n=e.rating;void 0!==e.userId&&t&&(E(parseInt(n)),m((function(e){throw new TypeError('"'+e+'" is read-only')}("count"),++b)))})).catch((function(e){console.error(e)}))}else console.warn("No logged user")},P=[1,2,3,4,5].map((function(e,t){return o.a.createElement("div",{className:p,"data-rating":e,key:"star-".concat(t),onClick:O},e<=g?o.a.createElement(u.c,null):o.a.createElement(u.d,null))}));return o.a.createElement("div",{className:l,itemProp:"aggregateRating",itemScope:!0,itemType:"https://schema.org/AggregateRating"},o.a.createElement("span",{itemProp:"itemReviewed",itemScope:!0,itemType:"https://schema.org/MediaObject"},o.a.createElement("meta",{itemProp:"name",content:a})),o.a.createElement("meta",{itemProp:"ratingValue",content:g||3}),o.a.createElement("meta",{itemProp:"ratingCount",content:b}),o.a.createElement("meta",{itemProp:"bestRating",content:5}),P)};y.propTypes={count:i.PropTypes.number.isRequired,exerciseId:i.PropTypes.string,loggedUser:a.a.user,name:i.PropTypes.string.isRequired,rating:i.PropTypes.number.isRequired},y.defaultProps={rating:0};t.a=y},npbA:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,o=n("HoCX"),i=n("w/WF");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={AUXILIAR_COLOR:"#bdbdbd",AUXILIAR_OPACITY:.8,ELEMENT_MIN_ALLOWED_SIZE:2,SAFE_HIT_STROKE_WIDTH:Object(o.b)()?12:5,STROKE_DASH_ARRAYS:(r={},a(r,i.w.DASHED_DOTTED,"20, 10, 1, 10"),a(r,i.w.DASHED,"10"),a(r,i.w.DOTTED,"1, 5"),a(r,i.w.REF,"2, 2"),a(r,i.w.SOLID,"none"),r),DRAWING_REF_MIN_DISTANCE:5,DRAWING_REF_STYLE:{fillColor:"#80D8FF",fillOpacity:.25,rank:i.u.TEMPORARY,strokeColor:"#00B0FF",strokeMarkerEnd:"none",strokeMarkerStart:"none",strokePattern:i.w.REF,strokeWidth:1},DRAWING_STROKE_COLOR:"red",DRAWING_STROKE_WIDTH_DEFAULT:1,SELECTED_COLOR:"#c51162",SELECTED_OFFSET:5,SELECTED_STROKE_WIDTH:1,POINT_FILL_COLOR:"#ffffff",POINT_HIT_RADIUS:Object(o.b)()?12:5,POINT_RADIUS:3,CIRCLE_CENTER_RADIUS:Object(o.b)()?3:4,SNAP_BCK_FILL_COLOR:"#FFF59D",SNAP_HIT_RADIUS:10,SNAP_ICON_STROKE_COLOR:"#FBC02D",SNAP_ICON_STROKE_COLOR_2:"#C51162",SNAP_ICON_STROKE_WIDTH:"2",SNAP_PADDING:4};function c(e){return e<s.SAFE_HIT_STROKE_WIDTH?s.SAFE_HIT_STROKE_WIDTH:e}t.b=s},obyI:function(e,t,n){"use strict";var r={APP:{PORT_HTTP:Object({NODE_ENV:"production"}).PORT_HTTP||5e3,PORT_HTTPS:Object({NODE_ENV:"production"}).PORT_HTTPS||5443},CREDENTIALS:{CLIENT_ID:"830957180345-r2q8tp84mtc06t57p3vsdj5bdm6gjf56.apps.googleusercontent.com",CLIENT_SECRET:"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",REDIRECT_URI:"https://www.mongge.com/oauth2/callback"},DB:{HOST:"localhost",NAME:"monggedb",PASSWORD:"EuVFCnPwPcz5IbNBBQEBNGjttbaNZm93",USER:"monggemin9uscq9BfFBu781Ye"},DOMAINS:{IMAGES:"images.mongge.com",MAIN:"www.mongge.com"},LOCAL_PATHS:{AVATARS:"/var/www/vhosts/images.mongge.com/users/avatars",COLLECTION_POSTERS:"/var/www/vhosts/images.mongge.com/collections/posters",EXERCISE_POSTERS:"/var/www/vhosts/images.mongge.com/exercises/posters",EXERCISES:"/var/www/vhosts/exercises.mongge.com",IMAGES:"/var/www/vhosts/images.mongge.com",SITEMAPS:"/var/www/vhosts/www.mongge.com/sitemaps",SSL:"/etc/apache2/ssl",WWW_ROOT:"/var/www/vhosts/www.mongge.com"},PROTOCOL:"https",SESSION:{SECURE:!0},URIS:{EXERCISES:"https://exercises.mongge.com",ICONS:{COMMONS:"https://d322305htiwk6o.cloudfront.net/images/design/editor/commons",FILE:"https://d322305htiwk6o.cloudfront.net/images/design/editor/file",TEXT:"https://d322305htiwk6o.cloudfront.net/images/design/editor/text",TOOL_BAR:"https://d322305htiwk6o.cloudfront.net/images/design/editor/tool-bar"},IMAGES:"https://images.mongge.com"},URL_AVATARS:"https://assets.mongge.com/images",URL_DESIGN_EDITOR_COMMONS:"https://assets.mongge.com/images/design/editor/commons",URL_DESIGN_EDITOR_FILE:"https://assets.mongge.com/images/design/editor/file",URL_DESIGN_EDITOR_TOOL_BAR:"https://assets.mongge.com/images/design/editor/tool-bar",URL_DESIGN:"https://assets.mongge.com/images/design",URL_EXERCISES_POSTERS:"https://assets.mongge.com/images/exercises",URL_EXERCISES:"https://assets.mongge.com/exercises",URL_IMAGES_COLLECTIONS:"https://assets.mongge.com/images",URL_INTERNAL_EXERCISES:"https://d322305htiwk6o.cloudfront.net/exercises"};t.a=r},omVu:function(e,t,n){"use strict";var r=n("MfYB"),o=n("2C0E"),i=(n("30ZO"),n("q1tI")),a=n.n(i),s=n("17x9"),c=(n("HoCX"),"draggable--12e");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var y=32,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,o=f(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).dragOffsetX=0,t.dragOffsetY=0,t.hit=void 0,t.state={left:void 0,top:void 0},t.handleDocumentMove=t.handleDocumentMove.bind(h(t)),t.handleDocumentUp=t.handleDocumentUp.bind(h(t)),t.handleHitDown=t.handleHitDown.bind(h(t)),t.handleWindowResize=t.handleWindowResize.bind(h(t)),t.saveRef=t.saveRef.bind(h(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.init(),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(e){this.props.hitId!=e.hitId&&this.init()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),this.removeDragEventListeners()}},{key:"init",value:function(){var e=this.props.hitId;this.removeDragEventListeners(),this.hit=e?document.getElementById(e):this.ref,this.hit&&(this.hit.addEventListener("touchstart",this.handleHitDown),this.hit.addEventListener("mousedown",this.handleHitDown))}},{key:"handleWindowResize",value:function(e){if(this.hit){var t=this.state,n=t.left,r=t.top;if(n=parseInt(n),r=parseInt(r),!isNaN(n)&&!isNaN(r)){var o={};n+this.hit.offsetWidth<y?o.left="8px":n>window.innerWidth-y&&(o.left="".concat(window.innerWidth-y,"px")),r+this.hit.offsetHeight<y?o.top="8px":r>window.innerHeight-y&&(o.top="".concat(window.innerHeight-y,"px")),this.setState(o)}}}},{key:"handleHitDown",value:function(e){this.hit.removeEventListener("touchstart",this.handleHitDown),this.hit.removeEventListener("mousedown",this.handleHitDown),this.dragOffsetX=e.pageX-this.ref.offsetLeft,this.dragOffsetY=e.pageY-this.ref.offsetTop,document.addEventListener("touchmove",this.handleDocumentMove),document.addEventListener("touchend",this.handleDocumentUp),document.addEventListener("touchcancel",this.handleDocumentUp),document.addEventListener("mousemove",this.handleDocumentMove),document.addEventListener("mouseup",this.handleDocumentUp)}},{key:"handleDocumentMove",value:function(e){this.setState({left:"".concat(e.pageX-this.dragOffsetX,"px"),top:"".concat(e.pageY-this.dragOffsetY,"px")})}},{key:"handleDocumentUp",value:function(e){var t=this;this.removeDragEventListeners(),this.setState({left:"".concat(e.pageX-this.dragOffsetX,"px"),top:"".concat(e.pageY-this.dragOffsetY,"px")},(function(){return t.init()}))}},{key:"removeDragEventListeners",value:function(){this.hit&&(this.hit.removeEventListener("touchstart",this.handleHitDown),this.hit.removeEventListener("mousedown",this.handleHitDown)),"undefined"!=typeof document&&(document.removeEventListener("touchmove",this.handleDocumentMove),document.removeEventListener("touchend",this.handleDocumentUp),document.removeEventListener("touchcancel",this.handleDocumentUp),document.removeEventListener("mousemove",this.handleDocumentMove),document.removeEventListener("mouseup",this.handleDocumentUp))}},{key:"saveRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.id,r=this.state,o=r.left,i=r.top,s={left:o,top:i};return void 0!==o&&(s.right="auto"),void 0!==i&&(s.bottom="auto"),a.a.createElement("div",{className:"".concat(c," ").concat(t||""),id:n,ref:this.saveRef,style:s},this.props.children)}}])&&l(t.prototype,n),r&&l(t,r),i}(a.a.Component);b.propTypes={className:s.PropTypes.string,hitId:s.PropTypes.string,id:s.PropTypes.string};var m=b,v=n("7xDs"),g=n("k2Pt"),E=n("NbER"),O=(n("w/WF"),n("/6+3")),P={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",wrapper:"wrapper--0cf",row:"row--fa8",input:"input--180","avatar-wrapper":"avatar-wrapper--ea2",validation__text:"validation__text--aab",comment:"comment--3a6","-invalid":"-invalid--2df"};function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(s,e);var t,n,o,i=C(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={comment:e.comment},t.handleClick=t.handleClick.bind(w(t)),t}return t=s,(n=[{key:"handleChange",value:function(e){if(e){var t=this.props.onChange,n=e.target.files;if(t&&t(e),n.length){var r=this.props.maxFileSize,o=n[0];if(this.setState({comment:"".concat(o.name," (").concat(Object(E.R)(o.size),")")}),o.size>r){var i=this.props.literalErrorSize;this.setState({validation:{message:"* ".concat(i),valid:!1}})}}}}},{key:"getValue",value:function(){return this.inputFileRef?this.inputFileRef.files:null}},{key:"handleClick",value:function(){this.inputFileRef&&this.inputFileRef.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.accept,o=t.id,i=t.literals,s=t.name,c=t.required,u=this.state,l=u.comment,p=u.validation,f="";return p&&void 0!==p.valid&&(f=p.valid?P["-valid"]:P["-invalid"]),a.a.createElement("div",{className:["input-file",f].join(" ")},a.a.createElement("div",{className:P.wrapper},a.a.createElement("div",{className:P.row},a.a.createElement("input",{accept:n,className:P.input,id:o,name:s,onChange:this.handleChange,ref:function(t){return e.inputFileRef=t},required:void 0!==c&&c,type:"file"}),a.a.createElement(r.a,{onClick:this.handleClick},i.BROWSE),l&&a.a.createElement("div",{className:[P.comment,"-hidden-phone"].join(" ")},l))),p&&p.message&&a.a.createElement("div",{className:P.validation__text},p.message))}}])&&T(t.prototype,n),o&&T(t,o),s}(O.a);D.propTypes={accept:s.PropTypes.string,id:s.PropTypes.string,imagePath:s.PropTypes.string,literalErrorInvalid:s.PropTypes.string,literalErrorRequired:s.PropTypes.string,literalErrorSize:s.PropTypes.string,literals:s.PropTypes.object,maxFileSize:s.PropTypes.number,name:s.PropTypes.string,onChange:s.PropTypes.func,required:s.PropTypes.bool};var k=D,A=n("9Rgu"),j={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",wrapper:"wrapper--6f3",row:"row--adf",input:"input--f21","avatar-wrapper":"avatar-wrapper--d57",validation__text:"validation__text--c98",comment:"comment--104","-invalid":"-invalid--71d"};function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;return M(e)}(this,n)}}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,r,o=N(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={previewFile:void 0,comment:e.comment},t.handleClick=t.handleClick.bind(M(t)),t}return t=i,(n=[{key:"handleChange",value:function(e){if(e){var t=this.props.onChange,n=e.target.files;if(t&&t(e),n.length){var r=this.props.maxFileSize,o=n[0];if(this.setState({previewFile:o,comment:"".concat(o.name," (").concat(Object(E.R)(o.size),")")}),o.size>r){var i=this.props.literalErrorSize;this.setState({validation:{message:"* ".concat(i),valid:!1}})}}}}},{key:"getValue",value:function(){return this.ref?this.ref.files:null}},{key:"handleClick",value:function(){this.ref&&this.ref.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.accept,r=t.id,o=t.imagePath,i=(t.literals,t.name),s=(t.onChange,t.required),c=this.state,u=c.previewFile,l=c.comment,p=c.validation,f="";return p&&void 0!==p.valid&&(f=p.valid?j["-valid"]:j["-invalid"]),a.a.createElement("div",{className:["input-file",f].join(" ")},a.a.createElement("div",{className:j.wrapper},a.a.createElement("div",{className:j["avatar-wrapper"]},a.a.createElement(A.a,{isLazy:!1,onClick:this.handleClick,path:u?null:o,src:"undefined"!=typeof window&&u?window.URL.createObjectURL(u):null})),a.a.createElement("div",{className:j.row},a.a.createElement("input",{accept:n,className:j.input,id:r,name:i,onChange:this.handleChange,ref:function(t){return e.ref=t},required:void 0!==s&&s,type:"file"}),l&&a.a.createElement("div",{className:[j.comment,"-hidden-phone"].join(" ")},l))),p&&p.message&&a.a.createElement("div",{className:j.validation__text},p.message))}}])&&x(t.prototype,n),r&&x(t,r),i}(O.a);B.propTypes={accept:s.PropTypes.string,id:s.PropTypes.string,imagePath:s.PropTypes.string,literalErrorInvalid:s.PropTypes.string,literalErrorRequired:s.PropTypes.string,literalErrorSize:s.PropTypes.string,literals:s.PropTypes.object,maxFileSize:s.PropTypes.number,name:s.PropTypes.string,onChange:s.PropTypes.func,required:s.PropTypes.bool};var U=B,W=n("R5uQ"),V=n("IdFE"),G={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767",options:"options--4a9","-left":"-left--7f6","-right":"-right--e83","toggle-bt":"toggle-bt--596","menu-wrapper":"menu-wrapper--68a",menu:"menu--915"};function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;return X(e)}(this,n)}}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,o=K(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isMenuVisible:!1},t.handleToggle=t.handleToggle.bind(X(t)),t.handleWindowClick=t.handleWindowClick.bind(X(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"handleWindowClick",value:function(e){}},{key:"handleToggle",value:function(e){e.stopPropagation();var t=this.state.isMenuVisible;this.setState({isMenuVisible:!t})}},{key:"render",value:function(){var e=this.props,t=e.align,n=e.children,r=this.state.isMenuVisible;return a.a.createElement("div",{className:[G.options,G["-".concat(t)]].join(" "),onClick:this.handleToggle},a.a.createElement("div",{className:G["toggle-bt"]},a.a.createElement(V.n,null)),r&&a.a.createElement("div",{className:[G["menu-wrapper"],G["-".concat(t)]].join(" ")},a.a.createElement("ul",{className:G.menu},n)))}}])&&z(t.prototype,n),r&&z(t,r),i}(a.a.Component);J.propTypes={align:s.PropTypes.string};var Z=J,$=n("nJ0Q"),Q=n("1Oih"),ee=n("O4hL"),te=["#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0","#311B92","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0","#0D47A1","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F","#006064","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457","#880E4F","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121","#000000"],ne=Object(E.ib)([].concat(te,["#000000","#000033","#000066","#000099","#0000CC","#0000FF","#003300","#003333","#003366","#003399","#0033CC","#0033FF","#006600","#006633","#006666","#006699","#0066CC","#0066FF","#009900","#009933","#009966","#009999","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#00FF00","#00FF33","#00FF66","#00FF99","#00FFCC","#00FFFF","#330000","#330033","#330066","#330099","#3300CC","#3300FF","#333300","#333333","#333366","#333399","#3333CC","#3333FF","#336600","#336633","#336666","#336699","#3366CC","#3366FF","#339900","#339933","#339966","#339999","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#33FF00","#33FF33","#33FF66","#33FF99","#33FFCC","#33FFFF","#660000","#660033","#660066","#660099","#6600CC","#6600FF","#663300","#663333","#663366","#663399","#6633CC","#6633FF","#666600","#666633","#666666","#666699","#6666CC","#6666FF","#669900","#669933","#669966","#669999","#6699CC","#6699FF","#66CC00","#66CC33","#66CC66","#66CC99","#66CCCC","#66CCFF","#66FF00","#66FF33","#66FF66","#66FF99","#66FFCC","#66FFFF","#990000","#990033","#990066","#990099","#9900CC","#9900FF","#993300","#993333","#993366","#993399","#9933CC","#9933FF","#996600","#996633","#996666","#996699","#9966CC","#9966FF","#999900","#999933","#999966","#999999","#9999CC","#9999FF","#99CC00","#99CC33","#99CC66","#99CC99","#99CCCC","#99CCFF","#99FF00","#99FF33","#99FF66","#99FF99","#99FFCC","#99FFFF","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC6666","#CC6699","#CC66CC","#CC66FF","#CC9900","#CC9933","#CC9966","#CC9999","#CC99CC","#CC99FF","#CCCC00","#CCCC33","#CCCC66","#CCCC99","#CCCCCC","#CCCCFF","#CCFF00","#CCFF33","#CCFF66","#CCFF99","#CCFFCC","#CCFFFF","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF6666","#FF6699","#FF66CC","#FF66FF","#FF9900","#FF9933","#FF9966","#FF9999","#FF99CC","#FF99FF","#FFCC00","#FFCC33","#FFCC66","#FFCC99","#FFCCCC","#FFCCFF","#FFFF00","#FFFF33","#FFFF66","#FFFF99","#FFFFCC","#FFFFFF","#000000","#111111","#222222","#333333","#444444","#555555","#666666","#777777","#888888","#999999","#AAAAAA","#BBBBBB","#CCCCCC","#DDDDDD","#EEEEEE","#FFFFFF"])),re=["Arial","Book Antiqua","Century Gothic","Comic Sans MS","Courier New","Georgia","Impact","Lucida Console","Lucida Sans Unicode","Palatino Linotype","Tahoma","Times New Roman","Trebuchet MS","Verdana"],oe=["6px","8px","9px","10px","11px","12px","14px","16px","18px","24px","30px","36px","48px","60px","72px"],ie={rootLineHeight:"28",rhythmRatio:"1.55556",mediaPhoneMax:"767","text-editor":"text-editor--863",legacy:"legacy--786","read-only":"read-only--b13","-hidden":"-hidden--c3c"};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ce(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;return le(e)}(this,n)}}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}var fe="undefined"!=typeof window?n("rmP6"):void 0,he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,r,o=ue(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isMounted:!1},t.delta=e.delta,t.htmlText=e.htmlText,t.getContents=t.getContents.bind(le(t)),t.handleChange=t.handleChange.bind(le(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.setState({isMounted:!0},(function(){fe.Quill.import("ui/icons").greek='<svg viewBox="0 0 18 18"><path class="ql-stroke" d="M11.5322266,7.47167969 C11.9423849,6.35253347 12.2529286,5.26855993 12.4638672,4.21972656 L14.0810547,4.21972656 C13.7705063,5.55567074 13.1406297,7.14354549 12.1914062,8.98339844 L12.3671875,9.40527344 C12.4433598,9.57519616 12.6249986,9.9648407 12.9121094,10.5742188 C13.0878915,10.9492206 13.2929676,11.3945287 13.5273438,11.9101562 C13.878908,12.7128946 14.1660145,13.3310525 14.3886719,13.7646484 L12.5429688,13.7646484 C12.4726559,13.6181633 12.4316407,13.5302736 12.4199219,13.5009766 L12.0244141,12.5869141 L11.6640625,11.7431641 L11.3740234,11.0664062 L11.2333984,10.7412109 C10.6943332,11.9365294 10.147952,12.7758765 9.59423828,13.2592773 C9.04052458,13.7426782 8.35059007,13.984375 7.52441406,13.984375 C6.45800248,13.984375 5.60400711,13.5668987 4.96240234,12.7319336 C4.32079757,11.8969685 4,10.7851632 4,9.39648438 C4,7.77342938 4.3676721,6.46826666 5.10302734,5.48095703 C5.83838258,4.49364741 6.81249394,4 8.02539062,4 C8.83398842,4 9.47851322,4.23730231 9.95898438,4.71191406 C10.4394555,5.18652581 10.9638643,6.10643849 11.5322266,7.47167969 Z M10.6445312,9.33496094 L10.2138672,8.359375 C9.6865208,7.15233771 9.26025553,6.34228722 8.93505859,5.92919922 C8.60986166,5.51611122 8.24218955,5.30957031 7.83203125,5.30957031 C7.25195022,5.30957031 6.77588077,5.66698861 6.40380859,6.38183594 C6.03173642,7.09668326 5.84570312,8.00780696 5.84570312,9.11523438 C5.84570312,10.1875054 6.02001779,11.0502897 6.36865234,11.7036133 C6.7172869,12.3569369 7.17870807,12.6835938 7.75292969,12.6835938 C8.25097905,12.6835938 8.70800573,12.4433618 9.12402344,11.9628906 C9.54004114,11.4824195 10.046872,10.6064517 10.6445312,9.33496094 Z"></path></svg>';var t=fe.Quill.import("attributors/style/align");fe.Quill.register(t,!0);var n=fe.Quill.import("attributors/style/color");n.whitelist=ne,fe.Quill.register(n,!0);var r=fe.Quill.import("attributors/style/font");r.whitelist=re,fe.Quill.register(r,!0);var o=fe.Quill.import("attributors/style/size");o.whitelist=oe,fe.Quill.register(o,!0),e.editorRef&&e.editorRef.focus()}))}},{key:"shouldComponentUpdate",value:function(e,t){return e.htmlText!=this.props.htmlText||e.isHeadingEnabled!=this.props.isHeadingEnabled||e.isLegacy!=this.props.isLegacy||e.isParagraphEnabled!=this.props.isParagraphEnabled||e.readOnly!=this.props.readOnly||e.theme!=this.props.theme||t.isMounted!=this.state.isMounted}},{key:"getContents",value:function(){return{delta:this.delta,htmlText:this.htmlText}}},{key:"handleChange",value:function(e,t,n,r){var o=this.props.onChange;this.delta=r.getContents(),this.htmlText=r.getHTML(),o&&o({delta:this.delta,htmlText:this.htmlText})}},{key:"render",value:function(){var e=this,t=this.props,n=t.delta,r=t.htmlText,o=t.isHeadingEnabled,i=t.isLegacy,s=t.isParagraphEnabled,c=t.readOnly,u=t.theme,l=this.state.isMounted;if("undefined"==typeof document||c)return a.a.createElement("div",{dangerouslySetInnerHTML:{__html:r},className:[ie["text-editor"],"ql-editor",!0===c?ie["read-only"]:"",i?ie.legacy:"",l?"":ie["-hidden"]].join(" ")});var p=[];return!1!==o&&p.push([{header:[1,2,!1],size:oe}]),p.push(["bold","italic","underline",{color:te},{background:te}]),p.push([{greek:"greek"},{script:"sub"},{script:"super"},"formula"]),!1!==s&&p.push([{align:[]},{list:"ordered"},{list:"bullet"},{indent:"+1"},{indent:"-1"}]),a.a.createElement(fe,{className:[ie["text-editor"],i?ie.legacy:""].join(" "),defaultValue:n||r,modules:{toolbar:{container:p,handlers:{greek:function(e){if(e){var t=this.quill.getSelection(),n=this.quill.getText(t.index,t.length),r=Object(E.qb)(n,!0);this.quill.deleteText(t.index,t.length),this.quill.insertText(t.index,r),this.quill.setSelection(t.index+r.length)}}}}},onChange:this.handleChange,readOnly:c,ref:function(t){return e.editorRef=t},theme:u})}}])&&se(t.prototype,n),r&&se(t,r),i}(a.a.Component);he.propTypes={delta:s.PropTypes.object,htmlText:s.PropTypes.string,isHeadingEnabled:s.PropTypes.bool,isLegacy:s.PropTypes.bool,isParagraphEnabled:s.PropTypes.bool,onChange:s.PropTypes.func,readOnly:s.PropTypes.bool,theme:s.PropTypes.string},he.defaultProps={};var de=he;n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v.a})),n.d(t,"e",(function(){return g.a})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return U})),n.d(t,"h",(function(){return W.a})),n.d(t,"i",(function(){return Z})),n.d(t,"j",(function(){return $.a})),n.d(t,"k",(function(){return Q.a})),n.d(t,"l",(function(){return ee.a})),n.d(t,"m",(function(){return de}))},rbwD:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("w/WF"),s=n("X+LD");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,r,i=p(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).id=Math.round(1e3*Math.random()),t}return t=c,(n=[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"getRef",value:function(){return this.ref}},{key:"setRef",value:function(e){this.ref=e}},{key:"renderLayers",value:function(){var e=this.props,t=e.elements,n=e.height,r=e.isTagTextVisible,i=e.objectFit,c=e.width,u={fills:[],lines:[],points:[],texts:[]},l={fills:[],lines:[],points:[],texts:[]},p={intersections:[]},f={fills:[],lines:[],points:[],texts:[]},h=function(e,t,n){switch(n){case a.u.MAIN:l[t].push(e);break;case"snaps":p[t].push(e);break;case a.u.TEMPORARY:f[t].push(e);break;case a.u.AUXILIAR:default:u[t].push(e)}};return t.forEach((function(e){var t=e.props,n=t.rank,r=t.type;if(e)switch(r){case a.i.FILL:h(e,"fills",n);break;case a.i.ARC:case a.i.CIRCLE:case a.i.CURVE:case a.i.LINE:case a.i.RECT:h(e,"lines",n);break;case a.l.INTERSECTION_ARC_ARC:case a.l.INTERSECTION_ARC_CIRCLE:case a.l.INTERSECTION_ARC_LINE:case a.l.INTERSECTION_CIRCLE_CIRCLE:case a.l.INTERSECTION_CIRCLE_LINE:case a.l.INTERSECTION_LINE_LINE:case a.v.SNAP_CENTER:case a.v.SNAP_END:case a.v.SNAP_INTERSECTION:case a.v.SNAP_MIDPOINT:case a.v.SNAP_POINT:case a.v.SNAP_START:h(e,"intersections","snaps");break;case a.i.POINT:h(e,"points",n);break;case a.i.TAG:h(e,"texts",n)}})),o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{className:s.a.svg,height:"100%",preserveAspectRatio:"xMidYMid ".concat(i&&"cover"==i?"slice":"meet"),viewBox:"0 0 ".concat(c," ").concat(n),width:"100%"},o.a.createElement("defs",null,o.a.createElement("marker",{id:"marker-arrow",markerHeight:"16",markerUnits:"userSpaceOnUse",markerWidth:"24",orient:"auto-start-reverse",refX:"24",refY:"4",viewBox:"0 0 24 8"},o.a.createElement("path",{d:"M 0 0 L 24 4 L 0 8 z",stroke:"inherit"}))),o.a.createElement("g",{className:s.a["aux-layer"]},!!u.fills.length&&o.a.createElement(o.a.Fragment,null,u.fills),!!u.lines.length&&o.a.createElement(o.a.Fragment,null,u.lines),!!u.points.length&&o.a.createElement(o.a.Fragment,null,u.points)),o.a.createElement("g",{className:s.a["main-layer"]},!!l.fills.length&&o.a.createElement(o.a.Fragment,null,l.fills),!!l.lines.length&&o.a.createElement(o.a.Fragment,null,l.lines),!!l.points.length&&o.a.createElement(o.a.Fragment,null,l.points)),o.a.createElement("g",{className:s.a["snaps-layer"]},!!p.intersections.length&&o.a.createElement(o.a.Fragment,null,p.intersections)),o.a.createElement("g",{className:s.a["temp-layer"]},!!f.fills.length&&o.a.createElement(o.a.Fragment,null,f.fills),!!f.lines.length&&o.a.createElement(o.a.Fragment,null,f.lines),!!f.points.length&&o.a.createElement(o.a.Fragment,null,f.points))),o.a.createElement("div",{className:s.a.tags,style:{display:!1===r?"none":void 0}},u.texts.concat(l.texts,f.texts)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:s.a.canvas,ref:function(t){return e.setRef(t)}},this.renderLayers())}}])&&u(t.prototype,n),r&&u(t,r),c}(o.a.Component);h.propTypes={elements:i.PropTypes.array,height:i.PropTypes.number,isTagTextVisible:i.PropTypes.bool,objectFit:i.PropTypes.oneOf(["contain","cover"]),width:i.PropTypes.number},h.defaultProps={elements:[],isTagTextVisible:!0,objectFit:"contain"},t.a=h},rye4:function(e,t,n){"use strict";var r=n("CDzl");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.XTEA_DELTA=2654435769,this.xteaKey=new Array,this.xteaKey[0]=t,this.xteaKey[1]=n,this.xteaKey[2]=r,this.xteaKey[3]=o}var t,n,r;return t=e,(n=[{key:"encryptHex",value:function(e){e.length%2!=0&&(e+="0");var t=this.hexStringToByteArray(e),n=this.xteaEncrypt(t);return this.intToHex(n).toUpperCase()}},{key:"encryptHexWithKey",value:function(e,t){e.length%2!=0&&(e+="0");var n=this.hexStringToByteArray(e),r=this.xteaEncryptWithKey(n,t);return this.intToHex(r).toUpperCase()}},{key:"encryptTxt",value:function(e){var t=this.strToChars(e),n=this.xteaEncrypt(t);return this.intToHex(n).toUpperCase()}},{key:"encryptTxtWithKey",value:function(e,t){var n=this.strToChars(e),r=this.xteaEncryptWithKey(n,t);return this.intToHex(r).toUpperCase()}},{key:"decryptHex",value:function(e){var t=this.hexStringToByteArray(e),n=this.xteaDecrypt(t);return this.intToHex(n)}},{key:"decryptHexWithKey",value:function(e,t){var n=this.hexStringToByteArray(e),r=this.xteaDecryptWithKey(n,t);return this.intToHex(r)}},{key:"decryptTxt",value:function(e){var t=this.hexStringToByteArray(e),n=this.xteaDecrypt(t);return this.intToString(n)}},{key:"decryptTxtWithKey",value:function(e,t){var n=this.hexStringToByteArray(e),r=this.xteaDecryptWithKey(n,t);return this.intToString(r)}},{key:"xteaEncrypt",value:function(e){var t=new Array,n=e.length/8;n=Math.floor(n);var r=e.length%8,o=0,i=new Array(8);r>0&&n++;for(var a=new Array(8*n),s=0;s<a.length;s++)null==e[s]?a[s]=0:a[s]=e[s];for(var c=0;c<n;c++){i=this.engineCrypt(a,8*c,!1);for(var u=0;u<8;u++)t[o]=i[u],o++}return t}},{key:"xteaEncryptWithKey",value:function(e,t){var n=new Array,r=e.length/8;r=Math.floor(r);var o=e.length%8,i=0,a=new Array(8);o>0&&r++;for(var s=new Array(8*r),c=0;c<s.length;c++)null==e[c]?s[c]=0:s[c]=e[c];for(var u=0;u<r;u++){a=this.engineCryptWithKey(s,8*u,!1,t);for(var l=0;l<8;l++)n[i]=a[l],i++}return n}},{key:"xteaDecrypt",value:function(e){for(var t=new Array,n=e.length/8,r=0,o=new Array,i=0;i<n;i++){o=this.engineCrypt(e,8*i,!0);for(var a=0;a<o.length;a++)t[r]=o[a],r++}return t}},{key:"xteaDecryptWithKey",value:function(e,t){for(var n=new Array,r=e.length/8,o=0,i=new Array,a=0;a<r;a++){i=this.engineCryptWithKey(e,8*a,!0,t);for(var s=0;s<i.length;s++)n[o]=i[s],o++}return n}},{key:"engineCrypt",value:function(e,t,n){var r,o,i,a;if(r=255&e[t++]|(255&e[t++])<<8|(255&e[t++])<<16|e[t++]<<24,o=255&e[t++]|(255&e[t++])<<8|(255&e[t++])<<16|e[t++]<<24,i=32,n)for(a=3337565984;i-- >0;)r-=((o-=(r<<4^r>>5)+r^a+this.xteaKey[a>>11&3])<<4^o>>5)+o^(a-=this.XTEA_DELTA)+this.xteaKey[3&a];else for(a=0;i-- >0;)o+=((r+=(o<<4^o>>5)+o^a+this.xteaKey[3&a])<<4^r>>5)+r^(a+=this.XTEA_DELTA)+this.xteaKey[a>>11&3];r>>=32,o>>=32;var s=new Array(8),c=0;return s[c++]=r<<24>>24,s[c++]=r>>>8<<24>>24,s[c++]=r>>>16<<24>>24,s[c++]=r>>>24<<24>>24,s[c++]=o<<24>>24,s[c++]=o>>>8<<24>>24,s[c++]=o>>>16<<24>>24,s[c++]=o>>>24<<24>>24,s}},{key:"engineCryptWithKey",value:function(e,t,n,r){var o,i,a,s;if(o=255&e[t++]|(255&e[t++])<<8|(255&e[t++])<<16|e[t++]<<24,i=255&e[t++]|(255&e[t++])<<8|(255&e[t++])<<16|e[t++]<<24,a=32,n)for(s=3337565984;a-- >0;)o-=((i-=(o<<4^o>>5)+o^s+r[s>>11&3])<<4^i>>5)+i^(s-=this.XTEA_DELTA)+r[3&s];else for(s=0;a-- >0;)i+=((o+=(i<<4^i>>5)+i^s+r[3&s])<<4^o>>5)+o^(s+=this.XTEA_DELTA)+r[s>>11&3];o>>=32,i>>=32;var c=new Array(8),u=0;return c[u++]=o<<24>>24,c[u++]=o>>>8<<24>>24,c[u++]=o>>>16<<24>>24,c[u++]=o>>>24<<24>>24,c[u++]=i<<24>>24,c[u++]=i>>>8<<24>>24,c[u++]=i>>>16<<24>>24,c[u++]=i>>>24<<24>>24,c}},{key:"txtToHex",value:function(e){return this.intToHex(this.strToChars(e))}},{key:"hexStringToByteArray",value:function(e){for(var t=new Array(parseInt(e.length/2)),n=0;n<t.length;n++){var r=2*n,o=parseInt(e.substring(r,r+2),16);t[n]=o}return t}},{key:"intToHex",value:function(e){for(var t=new String(""),n=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),r=0;r<e.length;r++)e[r]<0&&(e[r]=256+e[r]),t+=n[e[r]>>4]+n[15&e[r]];return t}},{key:"intToString",value:function(e){for(var t=new String(""),n=(new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),0);n<e.length;n++)e[n]<0&&(e[n]=256+e[n]),t+=String.fromCharCode(e[n]);return t}},{key:"strToChars",value:function(e){for(var t=new Array,n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}}])&&o(t.prototype,n),r&&o(t,r),e}(),a=n("NbER"),s=n("w/WF");n("LvDl");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.legacyMg=t,this.xmlString=void 0,this.json=void 0,this.mgg=void 0}var t,n,o;return t=e,n=[{key:"decrypt",value:function(e){if(e){var t=new i(859189578,1447248981,877998132,1297102158).decryptTxt(e);return t=(t=t.replace(/\0/g,"")).replace(/'/g,'"'),this.xmlString=t,this.xmlString}return null}},{key:"toJson",value:function(){var e=this;return new Promise((function(t,n){e.legacyMg?(e.xmlString||(e.xmlString=e.decrypt(e.legacyMg),e.xmlString=e.xmlString.replace(/<txt><txt>/gim,"<txt>"),e.xmlString=e.xmlString.replace(/<\/txt><\/txt>/gim,"</txt>"),e.xmlString=e.xmlString.replace(/<txt\/>/gim,""),e.xmlString=e.xmlString.replace(/<(ename|txt)([^>]*)>/gim,"<$1$2><![CDATA["),e.xmlString=e.xmlString.replace(/<\/(ename|txt)>/gim,"]]></$1>")),Object(r.parseString)(e.xmlString,{attrkey:"attr",charkey:"text",explicitArray:!1,preserveChildrenOrder:!0,tagNameProcessors:[function(e){switch(e){case"ename":case"point":case"line":case"parallel":case"perpendicular":case"angle":case"circle":case"arc":case"curve":case"fill":return"".concat(e,"_").concat(Math.round(1e9*Math.random()));default:return e}}]},(function(r,o){r&&n(r),e.json=o,t(e.json)}))):n(new Error("No se ha encontrado ningún MG para parsear"))}))}},{key:"toMgg",value:function(){var e=this;return new Promise((function(t,n){e.toJson().then((function(r){if(e.json=r,e.json){e.mgg={mode:"0"===e.json.jmonge.document.attr.type?"teacher":"student",version:"2.0.0"};var o=e.json.jmonge.document.page;Array.isArray(o)||(o=[o]),o.forEach((function(t){return e.insertPageIntoDocument(t,e.mgg)})),t(e.mgg)}else n(new Error("No ha sido posible transformar el MG en JSON"))})).catch((function(e){console.error(e),n(e)}))}))}},{key:"insertPageIntoDocument",value:function(e,t){if(e){var n={width:parseInt(e.attr.mmwidth),height:parseInt(e.attr.mmheight),margins:{bottom:parseInt(e.attr.bottom),left:parseInt(e.attr.left),right:parseInt(e.attr.right),top:parseInt(e.attr.top)}};this.insertStaticIntoSection(e.statement,n,"statement"),this.insertPlayableIntoSection(e.answer,n,"answer"),this.insertPlayableIntoSection(e.solution,n,"solution"),t.pages||(t.pages=[]),t.pages.push(n)}}},{key:"insertStaticIntoSection",value:function(e,t,n){e&&(t[n]||(t[n]={}),this.insertGeometriesIntoSection(e.geometry,t,t[n]),t[n].text=this.parseFlashText(e.txt))}},{key:"insertPlayableIntoSection",value:function(e,t,n){var r=this;if(e){var o=e.node;if(o){Array.isArray(o)||(o=[o]);var i=e.attr.stops?e.attr.stops.split(","):[];o.forEach((function(e,o){return r.insertStepIntoPlayable(e,i[o],t,n)}))}}}},{key:"insertStepIntoPlayable",value:function(e,t,n,r){if(e){var o={};this.insertGeometriesIntoSection(e,n,o),!0===t&&(o.pause=!0),n[r]||(n[r]={}),n[r].steps||(n[r].steps=[]),n[r].steps.push(o)}}},{key:"insertGeometriesIntoSection",value:function(e,t,n){if(e)for(var r in n.elements||(n.elements=[]),e)switch(r.split("_")[0]){case"ename":n.elements=[].concat(f(n.elements),[this.insertTag(e[r],t)]);break;case"point":n.elements=[].concat(f(n.elements),[this.insertPoint(e[r],t)]);break;case"line":n.elements=[].concat(f(n.elements),[this.insertLine(e[r],t)]);break;case"parallel":n.elements=[].concat(f(n.elements),[this.insertLine(e[r],t,"parallel")]);break;case"perpendicular":n.elements=[].concat(f(n.elements),[this.insertLine(e[r],t,"perpendicular")]);break;case"angle":n.elements=[].concat(f(n.elements),[this.insertLine(e[r],t,"angle")]);break;case"circle":n.elements=[].concat(f(n.elements),[this.insertCircle(e[r],t)]);break;case"arc":n.elements=[].concat(f(n.elements),[this.insertArc(e[r],t)]);break;case"curve":n.elements=[].concat(f(n.elements),[this.insertCurve(e[r],t)]);break;case"fill":n.elements=[].concat(f(n.elements),[this.insertFill(e[r],t)])}}},{key:"insertTag",value:function(e,t){var n=void 0;if(e){var r=this.parseJsonCoordinates(e),o=this.insertVertexIntoPage(l({},r),t),i=l({position:o,rotation:e.attr.rot?parseFloat(e.attr.rot):0,text:this.parseFlashText(e.text),type:"tag"},this.parseStyle(e)),a=e.attr.id;a&&"0"!==a&&(i.legacyId=a),n=this.insertGeometryIntoPage(i,t,"tag")}return n}},{key:"insertPoint",value:function(e,t){var n=void 0;if(e){var r=this.parseJsonCoordinates(e.C),o=this.insertVertexIntoPage(l({},r),t),i=l({type:"point",position:o},this.parseStyle(e)),a=e.attr.id;a&&"0"!==a&&(i.legacyId=a),n=this.insertGeometryIntoPage(i,t,"point")}return n}},{key:"insertLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"free",r=void 0;if(e){var o=this.parseJsonCoordinates(e.A),i=this.parseJsonCoordinates(e.B),a=this.insertVertexIntoPage(l({},o),t),s=this.insertVertexIntoPage(l({},i),t),c=l({type:"line",character:n,vertexA:a,vertexB:s},this.parseStyle(e)),u=e.attr.id;u&&"0"!==u&&(c.legacyId=u),"true"===e.exactSize&&(c.fixedSize=!0);var p=this.parseSnap(e.snapRefA);p&&this.insertConstraintIntoGeometry(p,c,t,"vertexA");var f=this.parseSnap(e.snapRefB);if(f&&this.insertConstraintIntoGeometry(f,c,t,"vertexB"),"free"!=n){var h=e.lineRef;void 0!==h.attr.id.value&&this.insertConstraintIntoGeometry({id:h.attr.id,type:n},c,t)}r=this.insertGeometryIntoPage(c,t,"line")}return r}},{key:"insertCircle",value:function(e,t){var n=void 0;if(e){var r=this.parseJsonCoordinates(e.C),o=this.insertVertexIntoPage(l({},r),t),i=l({type:"circle",center:o,radius:parseFloat(e.R.attr.px)},this.parseStyle(e)),a=e.attr.id;a&&"0"!==a&&(i.legacyId=a),"true"===e.exactSize&&(i.fixedSize=!0);var s=this.parseSnap(e.snapRefA);s&&this.insertConstraintIntoGeometry(s,i,t,"center");var c=this.parseSnap(e.snapRefB);c&&this.insertConstraintIntoGeometry(c,i,t,"radius"),n=this.insertGeometryIntoPage(i,t,"circle")}return n}},{key:"insertArc",value:function(e,t){var n=void 0;if(e){var r=this.parseJsonCoordinates(e.C),o=this.parseJsonCoordinates(e.A),i=this.parseJsonCoordinates(e.B),s=this.insertVertexIntoPage(l({},r),t),c=this.insertVertexIntoPage(l({},o),t),u=this.insertVertexIntoPage(l({},i),t),p=l({center:s,degreeA:Object(a.p)(r,o),degreeB:Object(a.p)(r,i),direction:parseInt(e.attr.sense),radius:parseFloat(e.R.attr.px),type:"arc",vertexA:c,vertexB:u},this.parseStyle(e)),f=e.attr.id;f&&"0"!==f&&(p.legacyId=f),"true"===e.exactSize&&(p.fixedSize=!0);var h=this.parseSnap(e.snapRefA);h&&this.insertConstraintIntoGeometry(h,p,t,"center");var d=this.parseSnap(e.snapRefB);d&&this.insertConstraintIntoGeometry(d,p,t,"radius"),n=this.insertGeometryIntoPage(p,t,"arc")}return n}},{key:"insertCurve",value:function(e,t){var n=this,r=void 0;if(e){var o=[],i=e.anchors.P;Array.isArray(i)||(i=[i]),i.forEach((function(e){var r=n.parseJsonCoordinates(e);o.push(n.insertVertexIntoPage(l({},r),t))}));var a=l({type:"curve",anchors:o},this.parseStyle(e)),s=e.attr.id;s&&"0"!==s&&(a.legacyId=s),r=this.insertGeometryIntoPage(a,t,"curve")}return r}},{key:"insertFill",value:function(e,t){var n=this,r=void 0;if(e){var o=[];Array.isArray(e.anchors.P)||(e.anchors.P=[e.anchors.P]),e.anchors.P.forEach((function(e){var r=n.parseJsonCoordinates(e);o.push(n.insertVertexIntoPage(l({},r),t))}));var i=[],s=0;for(var c in e.paths){if(s<o.length){var u=c.split("_")[0],p=this.findElement(u,e.paths[c],t);if(!p)switch(u){case"arc":var f=this.parseJsonCoordinates(e.anchors.P[s]),h=this.parseJsonCoordinates(e.anchors.P[s+1]||e.anchors.P[0]),d={center:this.parseJsonCoordinates(e.paths[c].C),radius:parseFloat(e.paths[c].R.attr.px)};if(!Object(a.d)(f,d)){var y=Object(a.v)(d,f);if(Object(a.d)(y,d))f=l({},y);else{var b=this.parseJsonCoordinates(e.paths[c].A),m=this.parseJsonCoordinates(e.paths[c].B);f=Object(a.r)(b,y)<Object(a.r)(m,y)?l({},b):l({},m)}}p=this.insertArc({A:{attr:l({},f)},B:{attr:l({},h)},C:{attr:l({},d.center)},R:{attr:{px:d.radius}},attr:{sense:e.paths[c].attr.sense}},t);break;case"circle":p=this.insertCircle(e.paths[c],t);break;case"curve":p=this.insertCurve(e.paths[c],t);break;default:p=this.insertLine({A:e.anchors.P[s],B:e.anchors.P[s+1]||e.anchors.P[0],attr:{}},t)}i.push(p)}s++}var v=l({type:"fill",anchors:o,paths:i},this.parseStyle(e)),g=e.attr.id;g&&"0"!==g&&(v.legacyId=g),r=this.insertGeometryIntoPage(v,t,"fill")}return r}},{key:"insertConstraintIntoGeometry",value:function(e,t,n,r){switch(t.constraints||(t.constraints=[]),e.type){case"snap_center":case"snap_end":case"snap_intersection":case"snap_point":case"snap_start":t.constraints.push({dependant:r,reference:this.insertVertexIntoPage(e.vertex,n),type:e.type});break;case"snap_midpoint":var o=this.findLineFromMidpoint(e.vertex,n);t.constraints.push({dependant:r,reference:o||this.insertVertexIntoPage(e.vertex,n),type:e.type});break;case"angle":var i=void 0!==e.legacyId?"line_".concat(e.legacyId,"_l"):"line_".concat(e.id);t.constraints.push({degree:Object(a.q)({vertexA:n.vertices[t.vertexA],vertexB:n.vertices[t.vertexB]},{vertexA:n.vertices[n.elements[i].vertexA],vertexB:n.vertices[n.elements[i].vertexB]}),reference:i,type:e.type});break;case"parallel":case"perpendicular":t.constraints.push({reference:void 0!==e.legacyId?"line_".concat(e.legacyId,"_l"):"line_".concat(e.id),type:e.type})}}},{key:"insertVertexIntoPage",value:function(e,t){if(!Object(a.bb)(e))return null;t.vertices||(t.vertices={});var n=null;if(!n){var r=0,o=Object.keys(t.vertices);o.length&&(r=parseInt(o[o.length-1].split("_")[1])+1),n="vertex_".concat(r,"_").concat(Math.round(1e9*Math.random()).toString(36))}return t.vertices[n]=e,n}},{key:"insertGeometryIntoPage",value:function(e,t,n){t.elements||(t.elements={});var r=void 0;if(e.legacyId||"0"===e.legacyId)r="".concat(n,"_").concat(e.legacyId,"_l");else{var o=0,i=Object.keys(t.elements);i.length&&(o=parseInt(i[i.length-1].split("_")[1])+1),r="".concat(n,"_").concat(o,"_").concat(Math.round(1e9*Math.random()).toString(36))}return e.id=r,t.elements[r]=e,Array.isArray(e.constraints)&&e.constraints.length&&e.constraints.forEach((function(n){if(n.reference){var r=t.elements[n.reference];r&&(r.dependants=Object(a.ib)([].concat(f(r.dependants||[]),[e.id])))}})),r}},{key:"isIntersecable",value:function(e){return e==s.i.ARC||e==s.i.CIRCLE||e==s.i.LINE}},{key:"insertEveryIntersectionIntoPage",value:function(e){var t=this,n=e.statement&&e.statement.elements.filter((function(n){return t.isIntersecable(e.elements[n].type)}))||[],r=e.answer&&Array.isArray(e.answer.steps)&&e.answer.steps.flatMap((function(n){return n.elements.filter((function(n){return t.isIntersecable(e.elements[n].type)}))}))||[],o=e.solution&&Array.isArray(e.solution.steps)&&e.solution.steps.flatMap((function(n){return n.elements.filter((function(n){return t.isIntersecable(e.elements[n].type)}))}))||[];if(n.length>1)for(var i=0,a=n.length-1;i<a;i++)this.insertIntersectionsIntoPage(e.elements[n[i+1]],e,s.q.STATEMENT,n.slice(0,i+1));for(var c=0,u=r.length;c<u;c++)this.insertIntersectionsIntoPage(e.elements[r[c]],e,s.q.ANSWER,[].concat(f(n),f(r.slice(0,c))));for(var l=0,p=o.length;l<p;l++)this.insertIntersectionsIntoPage(e.elements[o[l]],e,s.q.SOLUTION,[].concat(f(n),f(o.slice(0,l))))}},{key:"insertIntersectionsIntoPage",value:function(e,t,n,r){var o=this;if(!e||!t||!t.elements)return null;if(this.removeElementIntersections(e.id,t),!r){var i=t.statement&&t.statement.elements.filter((function(e){return o.isIntersecable(t.elements[e].type)}))||[],c=t.answer&&Array.isArray(t.answer.steps)&&t.answer.steps.flatMap((function(e){return e.elements.filter((function(e){return o.isIntersecable(t.elements[e].type)}))}))||[],u=t.solution&&Array.isArray(t.solution.steps)&&t.solution.steps.flatMap((function(e){return e.elements.filter((function(e){return o.isIntersecable(t.elements[e].type)}))}))||[];switch(n){case s.q.ANSWER:r=[].concat(f(i),f(c));break;case s.q.SOLUTION:r=[].concat(f(i),f(u));break;case s.q.STATEMENT:r=f(i)}}if(Array.isArray(r)){var l=this.getElementData(e,t);r.forEach((function(e){var n=o.getElementData(t.elements[e],t);if(n&&n.id!=l.id)switch(l.type){case s.i.ARC:switch(n.type){case s.i.ARC:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_ARC_ARC,Object(a.u)(l,n),[l,n],t);break;case s.i.CIRCLE:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_ARC_CIRCLE,Object(a.w)(n,l),[l,n],t);break;case s.i.LINE:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_ARC_LINE,Object(a.y)(n,l),[l,n],t)}break;case s.i.CIRCLE:switch(n.type){case s.i.ARC:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_ARC_CIRCLE,Object(a.w)(l,n),[l,n],t);break;case s.i.CIRCLE:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_CIRCLE_CIRCLE,Object(a.x)(l,n),[l,n],t);break;case s.i.LINE:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_CIRCLE_LINE,Object(a.z)(n,l),[l,n],t)}break;case s.i.LINE:switch(n.type){case s.i.ARC:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_ARC_LINE,Object(a.y)(l,n),[l,n],t);break;case s.i.CIRCLE:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_CIRCLE_LINE,Object(a.z)(l,n),[l,n],t);break;case s.i.LINE:o.insertSingleIntersectionIntoPage(s.l.INTERSECTION_LINE_LINE,Object(a.A)(l,n),[l,n],t)}}}))}}},{key:"insertSingleIntersectionIntoPage",value:function(e,t,n,r){var o=this;Array.isArray(t)||(t=[t]),r.elements[n[0].id]&&t.forEach((function(t,i){if(Object(a.bb)(t)){r.intersections||(r.intersections={});var s=Object(a.S)(e);r.intersections[s]={elements:n.map((function(e){return e.id})),id:s,index:i,position:o.insertVertexIntoPage(t,r),rotation:o.findMidDegree2Elements(n[0],n[1],t),type:e},r.elements[n[0].id].intersections||(r.elements[n[0].id].intersections=[]),r.elements[n[0].id].intersections.push(s)}}))}},{key:"findVertexIds",value:function(e,t){var n=this,r=null;switch(e.type){case s.i.ARC:r=[e.center,e.vertexA,e.vertexB];break;case s.i.CIRCLE:r=[e.center];break;case s.i.CURVE:r=f(e.anchors);break;case s.i.FILL:r=[].concat(f(e.anchors),f(e.paths.flatMap((function(e){return n.findVertexIds(t.elements[e],t)}))));break;case s.i.LINE:r=[e.vertexA,e.vertexB];break;case s.i.POINT:case s.i.TAG:r=[e.position]}return r}},{key:"moveVertices",value:function(e,t,n){e.forEach((function(e){n.vertices[e]=Object(a.a)(n.vertices[e],t)}))}},{key:"moveElements",value:function(e,t,n){var r=this;Array.isArray(e)||(e=[e]);var o=[];e.forEach((function(e){var t=n.elements[e],i=r.findVertexIds(t,n);Array.isArray(i)&&o.push(i)})),this.moveVertices(Object(a.ib)(o.flat()),t,n)}},{key:"updateDependants",value:function(e,t){var n=this;Array.isArray(e.dependants)&&e.dependants.length&&e.dependants.forEach((function(r){var o=t.elements[r];o&&Array.isArray(o.constraints)&&o.constraints.length&&(o.constraints.filter((function(t){return console.log("CONSTR 00",o.id,t.reference,e.id),t.reference==e.id})).forEach((function(r){console.log("CONSTR",o.id,r);var i=n.findSnapVertex(r.type,e.id,t);if(i){if(r.type==s.v.SNAP_MIDPOINT){var c=o[r.dependant];t.vertices[c]&&(t.vertices[c]=i)}o.type==s.i.CIRCLE&&(r.dependant==s.c.RADIUS?o.radius=Object(a.r)(t.vertices[o.center],i):o.constraints.filter((function(e){return e.dependant==s.c.RADIUS})).forEach((function(e){if(t.elements[e.reference]){var r=n.findSnapVertex(e.type,e.reference,t);console.log("CIRCLE",t.vertices[o.center],r),r&&(o.radius=Object(a.r)(t.vertices[o.center],r))}})))}})),n.updateDependants(o,t))}))}},{key:"findSnapVertex",value:function(e,t,n){var r=e==s.v.SNAP_INTERSECTION?n.intersections[t]:n.elements[t],o=null;switch(e){case s.v.SNAP_CENTER:o=n.vertices[r.center];break;case s.v.SNAP_DEGREE_15:break;case s.v.SNAP_END:o=n.vertices[r.vertexB];break;case s.v.SNAP_INTERSECTION:r&&(o=Object(a.t)(n.elements[r.elements[0]],n.elements[r.elements[1]]));break;case s.v.SNAP_MIDPOINT:r.vertexA&&n.vertices[r.vertexA]&&r.vertexB&&n.vertices[r.vertexB]&&(o=Object(a.E)(n.vertices[r.vertexA],n.vertices[r.vertexB]));break;case s.v.SNAP_NEAR:break;case s.v.SNAP_POINT:o=n.vertices[r.position];break;case s.v.SNAP_START:o=n.vertices[r.vertexA]}return o}},{key:"removeElementIntersections",value:function(e,t){if(t.intersections){var n=function(n){if(-1!=t.intersections[n].elements.indexOf(e)){for(var r in t.elements)Array.isArray(t.elements[r].intersections)&&(t.elements[r].intersections=t.elements[r].intersections.filter((function(e){return e!=n})));delete t.intersections[n]}};for(var r in t.intersections)n(r)}}},{key:"removeElements",value:function(e,t){var n=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){for(var r in n.removeElementIntersections(e,t),Array.isArray(t.statement.elements)&&(t.statement.elements=t.statement.elements.filter((function(t){return t!=e}))),Array.isArray(t.solution.steps)&&(t.solution.steps=t.solution.steps.filter((function(t){return-1==t.elements.indexOf(e)}))),Array.isArray(t.answer.steps)&&(t.answer.steps=t.answer.steps.filter((function(t){return-1==t.elements.indexOf(e)}))),delete t.elements[e],t.elements)Array.isArray(t.elements[r].constraints)&&(t.elements[r].constraints=t.elements[r].constraints.filter((function(t){var n=!1;return t.reference==e&&(n=!0),t.constrainer&&(Array.isArray(t.constrainer)?(t.constrainer=t.constrainer.filter((function(t){return t!=e})),0===t.constrainer.length&&(n=!0)):t.constrainer==e&&(n=!0)),!n})));n.cleanUpVertices(t)}))}},{key:"cleanUpVertices",value:function(e){for(var t in e.vertices)this.isVertexInElements(t,e)||this.isVertexInIntersections(t,e)||delete e.vertices[t]}},{key:"findMidDegree2Elements",value:function(e,t,n){var r=function(e){switch(e.type){case s.i.ARC:case s.i.CIRCLE:return Object(a.pb)(Object(a.p)(e.center,n)-90);case s.i.LINE:return Object(a.p)(e.vertexA,e.vertexB)}return null},o=r(e),i=r(t);return null!==o&&null!==i?Object(a.D)(o,i):0}},{key:"findVertex",value:function(e,t){for(var n in t)if(Object(a.b)(e,t[n]))return n;return null}},{key:"isVertexInElements",value:function(e,t,n){for(var r in t.elements)if(!n||r!=n){var o=[];switch(t.elements[r].type){case s.i.ARC:o=["center","centerRef","vertexA","vertexARef","vertexB","vertexBRef"];break;case s.i.CIRCLE:o=["center","centerRef","radiusRef","radiusVertexRef"];break;case s.i.CURVE:case s.i.FILL:o=["anchors"];break;case s.i.LINE:o=["vertexA","vertexARef","vertexB","vertexBRef"];break;case s.i.POINT:case s.i.TAG:o=["position","positionRef"]}for(var i=0,a=o.length;i<a;i++){var c=t.elements[r][o[i]];if(c==e)return!0;if(Array.isArray(c)&&-1!=c.indexOf(e))return!0}}return!1}},{key:"isVertexInIntersections",value:function(e,t){if(t.intersections)for(var n in t.intersections)if(t.intersections[n].position==e)return!0;return!1}},{key:"findLineFromMidpoint",value:function(e,t){t.elements||(t.elements={});var n=[];for(var r in t.elements)"line"==r.substr(0,4)&&n.push({id:r,vertexA:t.elements[r].vertexA,vertexB:t.elements[r].vertexB});var o=n.filter((function(n){var r=Object(a.E)(t.vertices[n.vertexA],t.vertices[n.vertexB]);return Object(a.b)(e,r)}));return o.length?o[0].id:null}},{key:"findElement",value:function(e,t,n){for(var r in n.elements||(n.elements={}),n.elements)if(-1!=r.indexOf(e)){var o=function(){var o=n.elements[r];switch(e){case"arc":if(Object(a.b)({x:parseFloat(t.A.attr.x),y:parseFloat(t.A.attr.y)},n.vertices[o.vertexA])&&Object(a.b)({x:parseFloat(t.B.attr.x),y:parseFloat(t.B.attr.y)},n.vertices[o.vertexB])&&Object(a.b)({x:parseFloat(t.C.attr.x),y:parseFloat(t.C.attr.y)},n.vertices[o.center])&&Object(a.b)(parseFloat(t.R.attr.px),o.radius)&&t.attr.sense==o.direction)return{v:r};break;case"circle":if(Object(a.b)({x:parseFloat(t.C.attr.x),y:parseFloat(t.C.attr.y)},n.vertices[o.center])&&Object(a.b)(parseFloat(t.R.attr.px),o.radius))return{v:r};break;case"curve":var i=!0;if(t.anchors.P.forEach((function(e,t){Object(a.b)({x:parseFloat(e.attr.x),y:parseFloat(e.attr.y)},n.vertices[o.anchors[t]])||(i=!1)})),i)return{v:r}}}();if("object"===c(o))return o.v}return null}},{key:"parseJsonCoordinates",value:function(e){return{x:parseFloat(e.attr.x),y:parseFloat(e.attr.y)}}},{key:"parseStyle",value:function(e){var t={};if(e.attr){if(void 0!==e.attr.color){for(var n=e.attr.color.replace("0x","");n.length<6;)n="0".concat(n);t.color="#".concat(n)}if(void 0!==e.attr.alpha&&(t.opacity=parseFloat(e.attr.alpha)),void 0!==e.attr.lineType&&(t.hierarchy="primario"==e.attr.lineType?0:1),void 0!==e.attr.width&&(t.strokeWidth=parseInt(e.attr.width),t.strokeWidth<=0&&(t.strokeWidth=1)),void 0!==e.attr.pattern){var r=this.parsePattern(e.attr.pattern);r&&(t.strokePattern=r)}if(void 0!==e.attr.fillPattern){var o=this.parsePattern(e.attr.fillPattern);o&&(t.fillPattern=o,"striped"==o&&(t.stripesDegree=parseFloat(e.attr.angle),t.stripeSpacing=parseFloat(e.attr.interline)))}(e.attr.beginMarker||e.attr.endMarker)&&(t.markers={},e.attr.beginMarker&&(t.markers.start=e.attr.beginMarker),e.attr.endMarker&&(t.markers.end=e.attr.endMarker))}return t}},{key:"parsePattern",value:function(e){switch(e){case"solid":case"fill":return"solid";case"dashed":return"dashed";case"dashedDotted":return"dashed_dotted";case"lined":return"striped"}return""}},{key:"parseSnap",value:function(e){if(e&&void 0!==e.attr.tp){var t=void 0;switch(e.attr.tp){case"1":t={type:"snap_near"};break;case"2":t={type:"snap_start"};break;case"3":t={type:"snap_end"};break;case"4":t={type:"snap_midpoint"};break;case"5":t={type:"snap_intersection"};break;case"8":t={type:"snap_center"};break;case"9":t={type:"snap_point"};break;case"10":t={type:"snap_angle"}}return t&&t.type&&"snap_angle"!=t.type&&(t.vertex=this.parseJsonCoordinates(e.P)),t}return null}},{key:"parseFlashText",value:function(e){if(!e)return"";var t=e.replace(/<p align="([A-z]+)"[^>]*>/gim,(function(e,t,n,r){return'<p style="line-height:initial;text-align:'.concat(t.toLowerCase(),';">')}));return t=(t=(t=(t=(t=(t=(t=t.replace(/<\/p>/gim,"</p>")).replace(/<font face="([^"]+)" size="([0-9]+)" color="(#[0-9a-f]+)"[^>]*>/gim,"<span style=\"font-family:'$1';font-size:$2px;color:$3\">")).replace(/<font size="([^"]+)"[^>]*>/gim,'<span style="font-size:$1px;">')).replace(/<\/font>/gim,"</span>")).replace(/@@([^@]+)@@/gim,(function(e,t,n,r){return Object(a.qb)(t)}))).replace(/@@euro@@/gim,"&euro;")).replace(/@@menor@@/gim,"&lt;")}},{key:"getElementData",value:function(e,t){var n=this;if(!e)return null;switch(e.type){case"arc":return{center:t.vertices[e.center],degreeA:e.degreeA,degreeB:e.degreeB,direction:e.direction,id:e.id,radius:e.radius,type:e.type,vertexA:t.vertices[e.vertexA],vertexB:t.vertices[e.vertexB]};case"circle":return{center:t.vertices[e.center],id:e.id,radius:e.radius,type:e.type};case"curve":return{anchors:e.anchors.map((function(e){return t.vertices[e]})),id:e.id,type:e.type};case"fill":return{anchors:e.anchors.map((function(e){return t.vertices[e]})),id:e.id,paths:e.paths.map((function(e){return n.getElementData(t.elements[e],t)})),type:e.type};case"line":return{id:e.id,type:e.type,vertexA:t.vertices[e.vertexA],vertexB:t.vertices[e.vertexB]};case"point":return{id:e.id,position:t.vertices[e.position],type:e.type};case"tag":return{id:e.id,position:t.vertices[e.position],rotation:e.rotation,type:e.type}}return null}}],n&&d(t.prototype,n),o&&d(t,o),e}();t.a=y},snU8:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("NbER"),c=n("npbA"),u=n("DZdP"),l=n("JqSt"),p=n("4Ybz"),f=n("4pP5");function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i=g(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.center,n=e.degreeA,r=e.degreeB,i=e.isSelected,a=e.isSnapVisible,u=e.progress,h=e.radius,d=e.strokeColor,y=e.strokeWidth,b=this.props.direction;b||(b=Object(s.j)(n,r));var m=Object(s.gb)(t.x,t.y,h,n),v=["M",m.x,m.y,Object(s.i)(t.x,t.y,h,n,r,b)].join(" "),g=void 0;return u<1&&(g=Object(s.G)(Object(s.sb)(u,0,1,n,n+Object(s.h)(n,r,b)*b),h,t)),this.renderElement(o.a.createElement(o.a.Fragment,null,this.isInProgress()||this.isTemporary()?o.a.createElement(l.a,{center:t,strokeColor:c.b.DRAWING_REF_STYLE.strokeColor}):null,this.isInProgress()?o.a.createElement("line",{stroke:c.b.DRAWING_REF_STYLE.strokeColor,strokeLinecap:"round",strokeWidth:"1",x1:t.x,x2:g&&g.x,y1:t.y,y2:g&&g.y}):null,o.a.createElement("path",{d:v,fill:"none",stroke:d,strokeDasharray:this.findStrokeDasharray(),strokeDashoffset:this.findStrokeDashoffset(),strokeLinecap:"round",strokeWidth:y}),!this.isReadOnly()&&o.a.createElement(o.a.Fragment,null,i?o.a.createElement("path",{className:f.a["highlight-fill"],d:v,fill:"none",stroke:d,strokeDasharray:this.findStrokeDasharray(),strokeDashoffset:this.findStrokeDashoffset(),strokeLinecap:"round",strokeWidth:y+c.b.SELECTED_OFFSET}):o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{key:"hit",className:f.a.hit,d:v,stroke:d,strokeWidth:this.findHitStrokeWidth(y),strokeLinecap:"round",fill:"none"}),a&&o.a.createElement(p.a,{center:t,direction:b,onSnap:this.handleSnap,vertexA:Object(s.G)(n,h,t),vertexB:Object(s.G)(r,h,t)})))))}}])&&m(t.prototype,n),r&&m(t,r),a}(u.a);O.propTypes=y(y({},u.a.propTypes),{},{center:a.a.vertex,degreeA:i.PropTypes.number,degreeB:i.PropTypes.number,direction:i.PropTypes.number,radius:i.PropTypes.number,strokeColor:i.PropTypes.string,strokeWidth:i.PropTypes.number}),O.defaultProps=y({},u.a.defaultProps),t.a=O},vO81:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n("EaJk"),s=n("NbER"),c=n("w/WF"),u=n("fE1x"),l=function(e){var t=e.onSnap,n=e.vertexA,r=e.vertexB,i=Object(s.E)(n,r);return o.a.createElement("g",null,o.a.createElement(u.a,{onSnap:t,position:i,rotation:Object(s.p)(n,r),type:c.v.SNAP_MIDPOINT}),o.a.createElement(u.a,{onSnap:t,position:n,rotation:Object(s.p)(n,r),type:c.v.SNAP_START}),o.a.createElement(u.a,{onSnap:t,position:r,rotation:Object(s.p)(r,n),type:c.v.SNAP_END}))};l.propTypes={onSnap:i.PropTypes.func,vertexA:a.a.vertex,vertexB:a.a.vertex},l.defaultProps={onSnap:function(){return null}},t.a=l},"w/WF":function(e,t,n){"use strict";var r={BUTTON_ATTACHED_INPUT:"button_attached_input",BUTTON_HYBRID:"button_hybrid",BUTTON_ICON:"button_icon",BUTTON_RECT:"button_rect",BUTTON_TEXT:"button_text"},o={BUTTON_GHOST:"button_ghost",BUTTON_PRIMARY:"button_primary",BUTTON_SECONDARY:"button_secondary"},i={CENTER:"center",RADIUS:"radius",VERTEX_A:"vertexA",VERTEX_B:"vertexB"},a={SNAP_CENTER:"snap_center",SNAP_DEGREE_15:"snap_degree_15",SNAP_END:"snap_end",SNAP_INTERSECTION:"snap_intersection",SNAP_MIDPOINT:"snap_midpoint",SNAP_NEAR:"snap_near",SNAP_POINT:"snap_point",SNAP_START:"snap_start"};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ANGLE:"angle",INPUT_LENGTH:"input_length",PARALLEL:"parallel",PERPENDICULAR:"perpendicular"},a),l={COOKIE_EDITOR_PREFERENCES:"mggepr",COOKIES_POLICY:"mggcoo",LOCALE:"mgglan",SESSION_ID:"mggsid"},p={MODE_STUDENT:"mode_student",MODE_TEACHER:"mode_teacher"},f={ABOUT:"about",ESCAPE:"escape",HELP:"help",NEW_DOCUMENT:"new_document",NEW_PAGE:"new_page",OPEN_DOCUMENT:"open_document",PAGE_SETUP:"page_setup",PRINT_DOCUMENT:"print_document",PUBLISH_EXERCISE_REQUESTED:"publish_exercise_requested",REDO:"redo",SAVE_DOCUMENT_FOR_STUDENT:"save_document_for_student",SAVE_DOCUMENT:"save_document",SET_LANGUAGE:"set_language",SIZE_CALCULATOR_TOGGLE_VISIBLE:"size_calculator_toggle_visible",UNDO:"undo",VIRTUAL_KEYBOARD_TOGGLE_VISIBLE:"virtual_keyboard_toggle_visible"},h={DIALOG_ALERT:"dialog_alert",DIALOG_OPEN_FILE:"dialog_open_file",DIALOG_PAGE_SETUP:"dialog_page_setup",DIALOG_PRINT:"dialog_print",DIALOG_PUBLISH_EXERCISE:"dialog_publish_exercise"},d={ARC_REF:"arc_ref",ARC:"arc",CIRCLE_REF:"circle_ref",CIRCLE:"circle",CURVE:"curve",FILL:"fill",INTERSECTION:"intersection",LINE_REF:"line_ref",LINE:"line",POINT_REF:"point_ref",POINT:"point",RECT_REF:"rect_ref",RECT:"rect",TAG:"tag"},y={EDIT_ANSWER:"edit_answer",EDIT_SOLUTION:"edit_solution",EDIT_STATEMENT:"edit_statement",PLAY_SOLUTION:"play_solution"},b={SOLID:"solid",STRIPED:"striped"},m={INTERSECTION_ARC_ARC:"intersection_arc_arc",INTERSECTION_ARC_CIRCLE:"intersection_arc_circle",INTERSECTION_ARC_LINE:"intersection_arc_line",INTERSECTION_CIRCLE_CIRCLE:"intersection_cicle_circle",INTERSECTION_CIRCLE_LINE:"intersection_circle_line",INTERSECTION_LINE_LINE:"intersection_line_line"},v={ANGLE:"angle",FREE:"free",PARALLEL:"parallel",PERPENDICULAR:"perpendicular"},g={ARROW:"arrow",OBLIQUE:"oblique"},E={MENU_LIST_SEPARATOR:"menu_list_separator"},O={STUDENT:"student",TEACHER:"teacher"},P={ANSWER:"answer",SOLUTION:"solution",STATEMENT:"statement"},S={DATE_PUBLISHED_DESC:"published-des",DATE_WATCHED_DESC:"watched-des",RANDOM:"random",VIEWS_DESC:"views-des"},T={COLLECTION_EXERCISES:"collection_exercises",COLLECTIONS:"collections",EDIT_COLLECTION:"edit_collection",EDIT_EXERCISE:"edit_exercise",EDITOR:"editor",ERROR:"error",EXERCISE_FINAL:"exercise_final",EXERCISES:"exercises",FAVORITES:"favorites",FOLLOWING:"following",HOME:"home",LOG_IN:"log_in",MY_COLLECTIONS:"my_collections",MY_EXERCISES:"my_exercises",MY_PROFILE:"my_profile",PASSWORD_RECOVERY:"password_recovery",PRIVACY_POLICY:"privacy_policy",PROFILE:"profile",RESET_PASSWORD:"reset_password",RESET_PASSWORD_ERROR:"reset_password_error",SEARCH:"search",SIGN_UP:"sign_up",TERMS_CONDITIONS:"terms_conditions",USER:"user",USER_COLLECTIONS:"user_collections",USER_EXERCISES:"user_exercises"},_={CATEGORY_ID:"category",CATEGORY_IDS:"categories",COLLECTION_ID:"collection",COLUMNS:"columns",COMMENT:"comment",COUNT:"count",DATE_FROM:"from",DATE_TO:"to",DESCRIPTION:"description",EXCLUDE_IDS:"exclude",EXERCISE_ID:"exercise",FOLLOWING_ID:"follow",HEIGHT:"height",INCLUDE_EXERCISES:"iexercises",IS_FAVORITE:"favorite",LIMIT:"limit",LIST_IDS:"ids",LOCALE:"locale",MGG:"mgg",MIN_RATING:"minrating",OFFSET:"offset",ORDER:"order",PAGE_NUMBER:"pagenum",POSTER_FILE:"poster",RATING:"rating",SUBTITLE:"subtitle",SVG:"svg",THUMB_PATH:"thumbpath",TITLE:"title",USER_ACCEPT_TERMS_AND_CONDITIONS:"terms",USER_AVATAR_FILE:"avatar",USER_DESCRIPTION:"description",USER_EMAIL:"email",USER_ID:"user",USER_NOTIFICATIONS:"notifications",USER_OLD_PASSWORD:"opassword",USER_PASSWORD:"password",USER_REMEMBER_SESSION:"remember",USER_TOKEN:"token",USER_USERNAME:"username",USER_WEB:"web",WIDTH:"width",WITH_CATEGORIES:"wcategories"},C={AUXILIAR:"auxiliar",MAIN:"main",TEMPORARY:"temporary"},w={DASHED:"dashed",DASHED_DOTTED:"dashed_dotted",DOTTED:"dotted",REF:"ref",SOLID:"solid"},R={MAIN:"main",AUX:"aux"},D={ARC:"arc",CIRCLE:"circle",CURSOR:"cursor",CURVE:"curve",ERASER:"eraser",FILL:"fill",KEYBOARD:"keyboard",LENGTH_PICKER:"length_picker",LINE_ANGLE:"line_angle",LINE_PARALLEL:"line_parallel",LINE_PERPENDICULAR:"line_perpendicular",LINE:"line",MOVE:"move",POINT:"point",SIZE_CALCULATOR:"size_calculator",TAG:"tag",TEXT:"text"},k={CATEGORY_KEY_:"category_{categoryKey}",CATEGORY_MENU_SELECTED:"category_menu_selected",FAVORITES_ADD_EXERCISE:"favorites_add_exercise",FAVORITES_REMOVE_EXERCISE:"favorites_remove_exercise",EDITOR_OPEN_DOCUMENT:"editor_open_document",EDITOR_PAGE_SETUP:"editor_page_setup",EDITOR_PRINT:"editor_print",EDITOR_SAVE_DOCUMENT_FOR_STUDENT:"editor_save_document_for_student",EDITOR_SAVE_DOCUMENT:"editor_save_document",EDITOR_SHOW_DIALOG_:"editor_show_{name}",EXERCISE_COPY_EMBED:"exercise_copy_embed",EXERCISE_COPY_URL_FINAL:"exercise_copy_url_final",EXERCISE_EDIT:"exercise_edit",EXERCISE_RELATED_CLICK:"exercise_related_click",FILTER_DATE_APPLY_DESKTOP:"filter_date_apply_desktop",FILTER_DATE_CHANGE_MOBILE:"filter_date_change_mobile",FILTER_ORDER_LAST_PUBLISHED:"filter_order_last_published",FILTER_ORDER_LAST_SEEN:"filter_order_last_seen",FILTER_ORDER_MOST_VIEWS:"filter_order_most_views",FILTER_ORDER_RANDOM:"filter_order_random",FOLLOWING_ADD:"following_add",FOLLOWING_REMOVE:"following_remove",LANGUAGE_CHANGE:"language_change",LOGIN:"login",MY_COLLECTION_EDIT:"my_collection_edit",MY_COLLECTION_REMOVE:"my_collection_remove",MY_EXERCISE_EDIT:"my_exercise_edit",MY_EXERCISE_REMOVE:"my_exercise_remove",PUBLISH:"publish",PUBLISH_ERROR:"publish_error",PUBLISH_POSTER_ERROR:"publish_poster_error",PUBLISH_POSTER_SUCCESS:"publish_poster_success",PUBLISH_SUCCESS:"publish_success",PUBLISH_EXERCISE:"publish_exercise",PUBLISH_EXERCISE_ERROR:"publish_exercise_error",PUBLISH_EXERCISE_SUCCESS:"publish_exercise_success",SEARCH:"search",SHARE:"share",SIGN_UP:"sign_up",VIEWER_FULLSCREEN_:"viewer_fullscreen_{mode}",VIEWER_RESOLVE:"viewer_resolve",VIEWER_START:"viewer_start",VIEWER_VIEW_SOLUTION:"viewer_view_solution"},A={ERROR__FILE_FORMAT:"error__file_format",ERROR__FILE_SIZE:"error__file_size",ERROR__NOT_AVAILABLE:"error__not-available",ERROR__NOT_JSON:"error__not-json",ERROR__PATTERN:"error__pattern",ERROR__REQUIRED:"error__required",ERROR__SIGN_IN_MISMATCH:"error__sign_in_mismatch",ERROR__SIGN_IN_REQUIRED:"error__sign_in_required"};n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return E})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return P})),n.d(t,"r",(function(){return S})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return _})),n.d(t,"u",(function(){return C})),n.d(t,"v",(function(){return a})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return R})),n.d(t,"y",(function(){return D})),n.d(t,"z",(function(){return k})),n.d(t,"A",(function(){return A}))},yIoi:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("i8i4"),a=n.n(i),s=n("17x9"),c=n("EaJk"),u=(n("4Tur"),n("+NYS")),l=function(e){var t=e.preloadedState,n=t.exercise,r=t.literals;return n&&n.mgg&&Array.isArray(n.mgg.pages)?o.a.createElement(u.a,{height:n.height,isControlBarEnabled:!1,isFullScreenEnabled:!1,isHeaderEnabled:!1,literals:r,mgg:n.mgg,width:n.width}):null};l.propTypes={preloadedState:s.PropTypes.shape({exercise:c.a.exercise,literals:s.PropTypes.object.isRequired}).isRequired};var p=l;a.a.hydrate(o.a.createElement(p,{preloadedState:window.__PRELOADED_STATE__}),document.getElementById("root"))}});